"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[3282],{8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>t});var a=i(6540);const r={},s=a.createContext(r);function l(e){const n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),a.createElement(s.Provider,{value:n},e.children)}},8688:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>l,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"frontend","title":"Frontend Usage","description":"Casbin.js, frontend uygulaman\u0131zdaki eri\u015fim-kontrol y\xf6netiminizi kolayla\u015ft\u0131ran bir Casbin eklentisidir.","source":"@site/i18n/tr/docusaurus-plugin-content-docs/current/FrontendUsage.mdx","sourceDirName":".","slug":"/frontend","permalink":"/tr/docs/frontend","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/FrontendUsage.mdx","tags":[],"version":"current","frontMatter":{"id":"frontend","title":"Frontend Usage","description":"Casbin.js, frontend uygulaman\u0131zdaki eri\u015fim-kontrol y\xf6netiminizi kolayla\u015ft\u0131ran bir Casbin eklentisidir.","keywords":["Casbin.js","react-authz","rbac-react","vue-authz","angular-authz"],"authors":["hsluoyz"]},"sidebar":"docs","previous":{"title":"Log & Error Handling","permalink":"/tr/docs/log-error"},"next":{"title":"Editor","permalink":"/tr/docs/category/editor"}}');var r=i(4848),s=i(8453);const l={id:"frontend",title:"Frontend Usage",description:"Casbin.js, frontend uygulaman\u0131zdaki eri\u015fim-kontrol y\xf6netiminizi kolayla\u015ft\u0131ran bir Casbin eklentisidir.",keywords:["Casbin.js","react-authz","rbac-react","vue-authz","angular-authz"],authors:["hsluoyz"]},t=void 0,d={},c=[{value:"Kurulum",id:"kurulum",level:2},{value:"\xd6n U\xe7 Ara Katmanlar",id:"\xf6n-u\xe7-ara-katmanlar",level:2},{value:"H\u0131zl\u0131 Ba\u015flang\u0131\xe7",id:"h\u0131zl\u0131-ba\u015flang\u0131\xe7",level:2},{value:"\u0130zin Nesnesi",id:"i\u0307zin-nesnesi",level:3},{value:"Geli\u015fmi\u015f Kullan\u0131m",id:"geli\u015fmi\u015f-kullan\u0131m",level:2},{value:"API Listesi",id:"api-listesi",level:2},{value:"<code>setPermission(permission: string)</code>",id:"setpermissionpermission-string",level:3},{value:"<code>setUser(user: string)</code>",id:"setuseruser-string",level:3},{value:"<code>can(action: string, object: string)</code>",id:"canaction-string-object-string",level:3},{value:"<code>cannot(action: string, object: string)</code>",id:"cannotaction-string-object-string",level:3},{value:"<code>canAll(action: string, objects: Array&lt;object&gt;)</code>",id:"canallaction-string-objects-arrayobject",level:3},{value:"<code>canAny(action: string, objects: Array&lt;object&gt;)</code>",id:"cananyaction-string-objects-arrayobject",level:3},{value:"Neden Casbin.js?",id:"neden-casbinjs",level:2}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://github.com/casbin/casbin.js",children:"Casbin.js"}),", frontend uygulaman\u0131zdaki eri\u015fim-kontrol y\xf6netiminizi kolayla\u015ft\u0131ran bir Casbin eklentisidir."]}),"\n",(0,r.jsx)(n.h2,{id:"kurulum",children:"Kurulum"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm install casbin.js\nnpm install casbin\n"})}),"\n",(0,r.jsx)(n.p,{children:"veya"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"yarn add casbin.js\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\xf6n-u\xe7-ara-katmanlar",children:"\xd6n U\xe7 Ara Katmanlar"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Ara Katman"}),(0,r.jsx)(n.th,{children:"Tip"}),(0,r.jsx)(n.th,{children:"Yazar"}),(0,r.jsx)(n.th,{children:"A\xe7\u0131klama"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://github.com/casbin-js/react-authz",children:"react-authz"})}),(0,r.jsx)(n.td,{children:"React"}),(0,r.jsx)(n.td,{children:"Casbin"}),(0,r.jsx)(n.td,{children:"Casbin.js i\xe7in React sarmalay\u0131c\u0131"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://github.com/daobeng/rbac-react",children:"rbac-react"})}),(0,r.jsx)(n.td,{children:"React"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://github.com/daobeng",children:"@daobeng"})}),(0,r.jsx)(n.td,{children:"React'ta Rol Tabanl\u0131 Eri\u015fim Kontrol\xfc HOC'ler, CASL ve Casbin.js Kullanarak"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://github.com/casbin-js/vue-authz",children:"vue-authz"})}),(0,r.jsx)(n.td,{children:"Vue"}),(0,r.jsx)(n.td,{children:"Casbin"}),(0,r.jsx)(n.td,{children:"Casbin.js i\xe7in Vue sarmalay\u0131c\u0131s\u0131"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://github.com/casbin-js/angular-authz",children:"angular-authz"})}),(0,r.jsx)(n.td,{children:"Angular"}),(0,r.jsx)(n.td,{children:"Casbin"}),(0,r.jsx)(n.td,{children:"Casbin.js i\xe7in Angular sarmalay\u0131c\u0131s\u0131"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"h\u0131zl\u0131-ba\u015flang\u0131\xe7",children:"H\u0131zl\u0131 Ba\u015flang\u0131\xe7"}),"\n",(0,r.jsxs)(n.p,{children:["\xd6n uygulaman\u0131zda ",(0,r.jsx)(n.code,{children:"manual"})," modunu kullanabilir ve istedi\u011finiz zaman izinleri ayarlayabilirsiniz."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'const casbinjs = require("casbin.js");\n// Set the user\'s permission:\n// He/She can read `data1` and `data2` objects and can write `data1` object\nconst permission = {\n    "read": ["data1", "data2"],\n    "write": ["data1"]\n}\n\n// Run casbin.js in manual mode, which requires you to set the permission manually.\nconst authorizer = new casbinjs.Authorizer("manual");\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u015eimdi bir yetkilendiriciye sahibiz, ",(0,r.jsx)(n.code,{children:"authorizer"}),". \u0130zin kurallar\u0131n\u0131 ",(0,r.jsx)(n.code,{children:"authorizer.can()"})," ve ",(0,r.jsx)(n.code,{children:"authorizer.cannot()"})," API'lerini kullanarak alabiliriz. Bu 2 API'nin d\xf6n\xfc\u015f de\u011ferleri JavaScript Promiseleridir (",(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises",children:"detaylar burada"}),"), bu y\xfczden d\xf6n\xfc\u015f de\u011ferinin ",(0,r.jsx)(n.code,{children:"then()"})," metodunu \u015fu \u015fekilde kullanmal\u0131y\u0131z:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'result = authorizer.can("write", "data1");\nresult.then((success, failed) => {\n    if (success) {\n        console.log("you can write data1");\n    } else {\n        console.log("you cannot write data1");\n    }\n});\n// output: you can write data1\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"cannot()"})," API'si de ayn\u0131 \u015fekilde kullan\u0131l\u0131r:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'result = authorizer.cannot("read", "data2");\nresult.then((success, failed) => {\n    if (success) {\n        console.log("you cannot read data2");\n    } else {\n        console.log("you can read data2");\n    }\n});\n// output: you can read data2\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Yukar\u0131daki kodda, parametrelerdeki ",(0,r.jsx)(n.code,{children:"success"})," de\u011fi\u015fkeni, iste\u011fin hata f\u0131rlatmadan sonu\xe7 ald\u0131\u011f\u0131 anlam\u0131na gelir ve izin kural\u0131n\u0131n ",(0,r.jsx)(n.code,{children:"true"})," oldu\u011fu anlam\u0131na gelmez. ",(0,r.jsx)(n.code,{children:"failed"})," de\u011fi\u015fkeni de izin kurallar\u0131yla ilgili de\u011fildir. Yaln\u0131zca istek s\xfcrecinde bir \u015fey ters giderse anlaml\u0131 olur."]}),"\n",(0,r.jsxs)(n.p,{children:["Casbin.js'in pratik bir kullan\u0131m\u0131n\u0131 g\xf6rmek i\xe7in ",(0,r.jsx)(n.a,{href:"https://github.com/casbin-js/examples",children:"React \xf6rne\u011fimize"})," ba\u015fvurabilirsiniz."]}),"\n",(0,r.jsx)(n.h3,{id:"i\u0307zin-nesnesi",children:"\u0130zin Nesnesi"}),"\n",(0,r.jsx)(n.p,{children:"Casbin.js, ziyaret\xe7inin ilgili izinlerini manip\xfcle etmek i\xe7in bir JSON nesnesi kabul edecektir. \xd6rne\u011fin:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "read": ["data1", "data2"],\n    "write": ["data1"]\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Yukar\u0131daki izin nesnesi, ziyaret\xe7inin ",(0,r.jsx)(n.code,{children:"data1"})," ve ",(0,r.jsx)(n.code,{children:"data2"})," nesnelerini ",(0,r.jsx)(n.code,{children:"okuyabilece\u011fini"}),", ancak sadece ",(0,r.jsx)(n.code,{children:"data1"})," nesnelerini ",(0,r.jsx)(n.code,{children:"yazabilece\u011fini"})," g\xf6sterir."]}),"\n",(0,r.jsx)(n.h2,{id:"geli\u015fmi\u015f-kullan\u0131m",children:"Geli\u015fmi\u015f Kullan\u0131m"}),"\n",(0,r.jsx)(n.p,{children:"Casbin.js, frontend eri\u015fim-kontrol y\xf6netiminizi backend Casbin servisinizle entegre etmek i\xe7in m\xfckemmel bir \xe7\xf6z\xfcm sunar."}),"\n",(0,r.jsxs)(n.p,{children:["Casbin.js ",(0,r.jsx)(n.code,{children:"Authorizer"}),"'\u0131 ba\u015flat\u0131rken ",(0,r.jsx)(n.code,{children:"auto"})," modunu kullan\u0131n ve u\xe7 noktan\u0131z\u0131 belirtin, bu sayede izinler otomatik olarak senkronize edilir ve frontend durumu manip\xfcle edilir."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const casbinjs = require('casbin.js');\n\n// Set your backend Casbin service URL\nconst authorizer = new casbinjs.Authorizer(\n    'auto', // mode\n    {endpoint: 'http://your_endpoint/api/casbin'}\n);\n\n// Set your visitor.\n// Casbin.js will automatically sync the permission with your backend Casbin service.\nauthorizer.setUser(\"Tom\");\n\n// Evaluate the permission\nresult = authorizer.can(\"read\", \"data1\");\nresult.then((success, failed) => {\n    if (success) {\n        // Some frontend procedure ...\n    }\n});\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Buna kar\u015f\u0131l\u0131k, bir izin nesnesi olu\u015fturmak ve bunu frontend'e iletmek i\xe7in bir aray\xfcz (\xf6r. bir RestAPI) a\xe7man\u0131z gerekir. API kontrol\xf6r\xfcn\xfczde, izin nesnesini olu\u015fturmak i\xe7in ",(0,r.jsx)(n.code,{children:"CasbinJsGetUserPermission"})," \xe7a\u011fr\u0131s\u0131 yap\u0131n. \u0130\u015fte Beego'da bir \xf6rnek:"]}),"\n",(0,r.jsxs)(n.admonition,{type:"note",children:[(0,r.jsx)(n.p,{children:"U\xe7 nokta sunucunuz \u015funa benzer bir \u015fey d\xf6nd\xfcrmelidir:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "other":"other",\n    "data": "What you get from `CasbinJsGetPermissionForUser`"\n}\n'})})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'// Router\nbeego.Router("api/casbin", &controllers.APIController{}, "GET:GetFrontendPermission")\n\n// Controller\nfunc (c *APIController) GetFrontendPermission() {\n    // Get the visitor from the GET parameters. (The key is "casbin_subject")\n    visitor := c.Input().Get("casbin_subject")\n    // `e` is an initialized instance of Casbin Enforcer\n    c.Data["perm"] = casbin.CasbinJsGetPermissionForUser(e, visitor)\n    // Pass the data to the frontend.\n    c.ServeJSON()\n}\n'})}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["\u015eu anda, ",(0,r.jsx)(n.code,{children:"CasbinJsGetPermissionForUser"})," API'si sadece Go Casbin ve Node-Casbin'de desteklenmektedir. E\u011fer bu API'nin di\u011fer dillere de desteklenmesini istiyorsan\u0131z, l\xfctfen ",(0,r.jsx)(n.a,{href:"https://github.com/casbin/casbin.js/issues",children:"bir sorun bildirin"})," veya a\u015fa\u011f\u0131ya yorum b\u0131rak\u0131n."]})}),"\n",(0,r.jsx)(n.h2,{id:"api-listesi",children:"API Listesi"}),"\n",(0,r.jsx)(n.h3,{id:"setpermissionpermission-string",children:(0,r.jsx)(n.code,{children:"setPermission(permission: string)"})}),"\n",(0,r.jsxs)(n.p,{children:["\u0130zin nesnesini ayarlay\u0131n. Her zaman ",(0,r.jsx)(n.code,{children:"manuel"})," modda kullan\u0131l\u0131r."]}),"\n",(0,r.jsx)(n.h3,{id:"setuseruser-string",children:(0,r.jsx)(n.code,{children:"setUser(user: string)"})}),"\n",(0,r.jsxs)(n.p,{children:["Ziyaret\xe7i kimli\u011fini ayarlay\u0131n ve izni g\xfcncelleyin. Her zaman ",(0,r.jsx)(n.code,{children:"otomatik"})," modda kullan\u0131l\u0131r."]}),"\n",(0,r.jsx)(n.h3,{id:"canaction-string-object-string",children:(0,r.jsx)(n.code,{children:"can(action: string, object: string)"})}),"\n",(0,r.jsxs)(n.p,{children:["Kullan\u0131c\u0131n\u0131n ",(0,r.jsx)(n.code,{children:"action"})," i\u015flemini ",(0,r.jsx)(n.code,{children:"object"})," \xfczerinde ger\xe7ekle\u015ftirebilip ger\xe7ekle\u015ftiremeyece\u011fini kontrol edin."]}),"\n",(0,r.jsx)(n.h3,{id:"cannotaction-string-object-string",children:(0,r.jsx)(n.code,{children:"cannot(action: string, object: string)"})}),"\n",(0,r.jsxs)(n.p,{children:["Kullan\u0131c\u0131n\u0131n ",(0,r.jsx)(n.code,{children:"action"})," i\u015flemini ",(0,r.jsx)(n.code,{children:"object"})," \xfczerinde ",(0,r.jsx)(n.strong,{children:"ger\xe7ekle\u015ftiremeyece\u011fini"})," kontrol edin."]}),"\n",(0,r.jsx)(n.h3,{id:"canallaction-string-objects-arrayobject",children:(0,r.jsx)(n.code,{children:"canAll(action: string, objects: Array<object>)"})}),"\n",(0,r.jsxs)(n.p,{children:["Kullan\u0131c\u0131n\u0131n ",(0,r.jsx)(n.code,{children:"action"})," i\u015flemini ",(0,r.jsx)(n.code,{children:"objects"})," i\xe7indeki ",(0,r.jsx)(n.strong,{children:"t\xfcm"})," nesneler \xfczerinde ger\xe7ekle\u015ftirebilip ger\xe7ekle\u015ftiremeyece\u011fini kontrol edin."]}),"\n",(0,r.jsx)(n.h3,{id:"cananyaction-string-objects-arrayobject",children:(0,r.jsx)(n.code,{children:"canAny(action: string, objects: Array<object>)"})}),"\n",(0,r.jsxs)(n.p,{children:["Kullan\u0131c\u0131n\u0131n ",(0,r.jsx)(n.code,{children:"action"})," i\u015flemini ",(0,r.jsx)(n.code,{children:"objects"})," i\xe7indeki ",(0,r.jsx)(n.strong,{children:"herhangi bir"})," nesne \xfczerinde ger\xe7ekle\u015ftirebilip ger\xe7ekle\u015ftiremeyece\u011fini kontrol edin."]}),"\n",(0,r.jsx)(n.h2,{id:"neden-casbinjs",children:"Neden Casbin.js?"}),"\n",(0,r.jsx)(n.p,{children:"\u0130nsanlar Node-Casbin ile Casbin.js aras\u0131ndaki fark\u0131 merak edebilirler. K\u0131saca, Node-Casbin, Casbin'in NodeJS ortam\u0131nda uygulanan \xe7ekirde\u011fidir ve normalde sunucu u\xe7lar\u0131nda eri\u015fim kontrol y\xf6netim arac\u0131 olarak kullan\u0131l\u0131r. Casbin.js, Casbin'i kullanarak web sayfas\u0131 kullan\u0131c\u0131lar\u0131n\u0131z\u0131 istemci taraf\u0131nda yetkilendirmenize yard\u0131mc\u0131 olan bir \xf6n u\xe7 k\xfct\xfcphanesidir."}),"\n",(0,r.jsx)(n.p,{children:"Normalde, a\u015fa\u011f\u0131daki sorunlar nedeniyle do\u011frudan bir Casbin hizmeti olu\u015fturup yetkilendirme/uygulama g\xf6revlerini bir web \xf6n u\xe7 uygulamas\u0131nda yapmak uygun de\u011fildir:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Birisi istemciyi a\xe7t\u0131\u011f\u0131nda, uygulay\u0131c\u0131 ba\u015flat\u0131l\u0131r ve t\xfcm politikalar\u0131 arka u\xe7 kal\u0131c\u0131 katmanlardan \xe7eker. Y\xfcksek e\u015fzamanl\u0131l\u0131k, veritabanlar\u0131na zorlu bask\u0131 getirebilir ve \xe7ok fazla a\u011f i\u015flem hacmi maliyeti do\u011furabilir."}),"\n",(0,r.jsx)(n.li,{children:"T\xfcm politikalar\u0131 istemci taraf\u0131na y\xfcklemek g\xfcvenlik riskleri do\u011furabilir."}),"\n",(0,r.jsx)(n.li,{children:"\u0130stemciyi ve sunucuyu ay\u0131rmak ve \xe7evik geli\u015ftirmeyi kolayla\u015ft\u0131rmak zordur."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\xd6n u\xe7ta Casbin kullanma s\xfcrecini kolayla\u015ft\u0131ran bir ara\xe7 gerekiyor. Asl\u0131nda, Casbin.js'nin \xe7ekirde\u011fi, istemci taraf\u0131nda mevcut kullan\u0131c\u0131n\u0131n izinlerinin manip\xfclasyonudur. Dedi\u011finiz gibi, Casbin.js belirtilen bir u\xe7 noktadan fetch i\u015flemi yapar. Bu prosed\xfcr, kullan\u0131c\u0131n\u0131n izinlerini arka u\xe7 Casbin hizmetiyle senkronize edecektir. \u0130zin veri elde ettikten sonra, geli\u015ftiriciler Casbin.js aray\xfczlerini kullanarak kullan\u0131c\u0131n\u0131n \xf6n u\xe7 taraftaki davran\u0131\u015f\u0131n\u0131 y\xf6netebilir."}),"\n",(0,r.jsx)(n.p,{children:"Casbin.js yukar\u0131da belirtilen iki sorunu da \xf6nler: Casbin hizmeti art\u0131k s\xfcrekli olarak \xe7a\u011fr\u0131lmayacak ve istemci ile sunucu aras\u0131nda ge\xe7irilen mesajlar\u0131n boyutu azalt\u0131lacak. Ayr\u0131ca t\xfcm politikalar\u0131 \xf6n u\xe7ta saklamamay\u0131 da \xf6nleyebiliriz. Kullan\u0131c\u0131 sadece kendi izinlerine eri\u015febilir, ancak eri\u015fim-kontrol modeli ve di\u011fer kullan\u0131c\u0131lar\u0131n izinleri hakk\u0131nda bilgi sahibi olamaz. Ayr\u0131ca, Casbin.js yetkilendirme y\xf6netiminde istemci ve sunucuyu etkin bir \u015fekilde ay\u0131rman\u0131n yan\u0131 s\u0131ra."})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);