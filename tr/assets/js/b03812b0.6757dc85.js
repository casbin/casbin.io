"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[2615],{2972:(e,n,i)=>{i.d(n,{A:()=>a});const a=i.p+"assets/images/editor-tips-2c4bf3155a73f079c976e5ad118d5518.png"},7525:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>d,metadata:()=>a,toc:()=>t});const a=JSON.parse('{"id":"rbac-with-pattern","title":"RBAC with Pattern","description":"Desenli RBAC","source":"@site/i18n/tr/docusaurus-plugin-content-docs/current/RBACWithPattern.mdx","sourceDirName":".","slug":"/rbac-with-pattern","permalink":"/tr/docs/rbac-with-pattern","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/RBACWithPattern.mdx","tags":[],"version":"current","frontMatter":{"id":"rbac-with-pattern","title":"RBAC with Pattern","description":"Desenli RBAC","keywords":["RBAC with pattern","pattern matching"],"authors":["hsluoyz"]},"sidebar":"docs","previous":{"title":"RBAC","permalink":"/tr/docs/rbac"},"next":{"title":"RBAC with Domains","permalink":"/tr/docs/rbac-with-domains"}}');var l=i(4848),r=i(8453);const d={id:"rbac-with-pattern",title:"RBAC with Pattern",description:"Desenli RBAC",keywords:["RBAC with pattern","pattern matching"],authors:["hsluoyz"]},s=void 0,c={},t=[{value:"H\u0131zl\u0131 Ba\u015flang\u0131\xe7",id:"h\u0131zl\u0131-ba\u015flang\u0131\xe7",level:2},{value:"RBAC&#39;ta desen e\u015flemeyi kullan\u0131n",id:"rbacta-desen-e\u015flemeyi-kullan\u0131n",level:2}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components},{TabItem:a,Tabs:d}=n;return a||u("TabItem",!0),d||u("Tabs",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"h\u0131zl\u0131-ba\u015flang\u0131\xe7",children:"H\u0131zl\u0131 Ba\u015flang\u0131\xe7"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"g(_, _)"})," i\xe7inde desen kullan\u0131n."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:'e, _ := NewEnforcer("./example.conf", "./example.csv")\ne.AddNamedMatchingFunc("g", "KeyMatch2", util.KeyMatch2)\n'})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Deseni alanla kullan\u0131n."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:'e.AddNamedDomainMatchingFunc("g", "KeyMatch2", util.KeyMatch2)\n'})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"T\xfcm desenleri kullan\u0131n."}),"\n",(0,l.jsx)(n.p,{children:"Her iki API'nin kullan\u0131m\u0131n\u0131 birle\u015ftirin."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Yukar\u0131da g\xf6sterildi\u011fi gibi, ",(0,l.jsx)(n.code,{children:"enforcer"})," \xf6rne\u011fini olu\u015fturduktan sonra, desen e\u015fle\u015ftirmeyi ",(0,l.jsx)(n.code,{children:"AddNamedMatchingFunc"})," ve ",(0,l.jsx)(n.code,{children:"AddNamedDomainMatchingFunc"})," API'leri arac\u0131l\u0131\u011f\u0131yla aktive etmeniz gerekir; bunlar desenin nas\u0131l e\u015fle\u015fti\u011fini belirler."]}),"\n",(0,l.jsx)(n.admonition,{type:"note",children:(0,l.jsxs)(n.p,{children:['If you use the online editor, You can add a pattern matching function by clicking the "Add Role Matching" button in the lower left corner.\n',(0,l.jsx)(n.img,{alt:"editor-tips",src:i(2972).A+"",width:"690",height:"480"})]})}),"\n",(0,l.jsx)(n.h2,{id:"rbacta-desen-e\u015flemeyi-kullan\u0131n",children:"RBAC'ta desen e\u015flemeyi kullan\u0131n"}),"\n",(0,l.jsxs)(n.p,{children:["Bazen, belirli konular, nesneler veya alanlar/kirac\u0131lar gibi belirli bir desene sahip olanlar\u0131n otomatik olarak bir rol verilmesini istersiniz. RBAC'taki desen e\u015fleme i\u015flevleri bunu yapman\u0131za yard\u0131mc\u0131 olabilir. Desen e\u015fleme i\u015flevi, \xf6nceki ",(0,l.jsx)(n.a,{href:"/docs/syntax-for-models#functions-in-matchers",children:"e\u015fle\u015ftirici i\u015flevinin"})," ayn\u0131 parametrelerini ve d\xf6n\xfc\u015f de\u011ferini payla\u015f\u0131r."]}),"\n",(0,l.jsxs)(n.p,{children:["Desen e\u015fleme i\u015flevi, ",(0,l.jsx)(n.code,{children:"g"})," parametresinin her birini destekler."]}),"\n",(0,l.jsxs)(n.p,{children:["Normalde RBAC'\u0131n bir e\u015fle\u015ftiricide ",(0,l.jsx)(n.code,{children:"g(r.sub, p.sub)"})," olarak ifade edildi\u011fini biliyoruz. O zaman \u015f\xf6yle bir politikay\u0131 kullanabiliriz:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csv",children:"p, alice, book_group, read\ng, /book/1, book_group\ng, /book/2, book_group\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Yani ",(0,l.jsx)(n.code,{children:"alice"}),", ",(0,l.jsx)(n.code,{children:"kitap 1"})," ve ",(0,l.jsx)(n.code,{children:"kitap 2"})," dahil t\xfcm kitaplar\u0131 okuyabilir. Ancak binlerce kitap olabilir ve her kitab\u0131 bir ",(0,l.jsx)(n.code,{children:"g"})," politikas\u0131 kural\u0131yla kitap rol\xfcne (veya grubuna) eklemek \xe7ok s\u0131k\u0131c\u0131d\u0131r."]}),"\n",(0,l.jsx)(n.p,{children:"Ancak kal\u0131p e\u015fle\u015ftirme fonksiyonlar\u0131 ile, politikay\u0131 sadece bir sat\u0131rla yazabilirsiniz:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csv",children:"g, /book/:id, book_group\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Casbin sizin i\xe7in otomatik olarak ",(0,l.jsx)(n.code,{children:"/book/1"})," ve ",(0,l.jsx)(n.code,{children:"/book/2"}),"'yi ",(0,l.jsx)(n.code,{children:"/book/:id"})," kal\u0131b\u0131na e\u015fleyecektir. Fonksiyonu sadece \u015fu \u015fekilde enforcer ile kaydetmeniz gerekir:"]}),"\n",(0,l.jsxs)(d,{groupId:"langs",children:[(0,l.jsx)(a,{value:"Go",label:"Go",default:!0,children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:'e.AddNamedMatchingFunc("g", "KeyMatch2", util.KeyMatch2)\n'})})}),(0,l.jsx)(a,{value:"Node.js",label:"Node.js",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"await e.addNamedMatchingFunc('g', Util.keyMatch2Func);\n"})})})]}),"\n",(0,l.jsx)(n.p,{children:"Etki alanlar\u0131/kirac\u0131lar i\xe7inde bir kal\u0131p e\u015fle\u015ftirme fonksiyonu kullan\u0131rken, fonksiyonu enforcer ve model ile kaydetmeniz gerekir."}),"\n",(0,l.jsxs)(d,{groupId:"langs",children:[(0,l.jsx)(a,{value:"Go",label:"Go",default:!0,children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:'e.AddNamedDomainMatchingFunc("g", "KeyMatch2", util.KeyMatch2)\n'})})}),(0,l.jsx)(a,{value:"Node.js",label:"Node.js",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"await e.addNamedDomainMatchingFunc('g', Util.keyMatch2Func);\n"})})})]}),"\n",(0,l.jsxs)(n.p,{children:["E\u011fer ",(0,l.jsx)(n.code,{children:"g(r.sub, p.sub, r.dom)"})," ifadesinin ne anlama geldi\u011fini anlamad\u0131ysan\u0131z, l\xfctfen ",(0,l.jsx)(n.a,{href:"/docs/rbac-with-domains",children:"rbac-with-domains"})," belgelerini okuyun. K\u0131saca, ",(0,l.jsx)(n.code,{children:"g(r.sub, p.sub, r.dom)"})," kullan\u0131c\u0131n\u0131n ",(0,l.jsx)(n.code,{children:"r.sub"}),"'nin etki alan\u0131 ",(0,l.jsx)(n.code,{children:"r.dom"})," i\xe7inde ",(0,l.jsx)(n.code,{children:"p.sub"})," rol\xfcne sahip olup olmad\u0131\u011f\u0131n\u0131 kontrol edecektir. \u0130\u015fte matcher'\u0131n nas\u0131l \xe7al\u0131\u015ft\u0131\u011f\u0131 bu \u015fekildedir. Tam \xf6rne\u011fi ",(0,l.jsx)(n.a,{href:"https://github.com/casbin/casbin/blob/dbdb6cbe2e7a80863e4951f9ff36da07fef01b75/model_test.go#L278-L307",children:"burada"})," g\xf6rebilirsiniz."]}),"\n",(0,l.jsx)(n.p,{children:"Yukar\u0131daki kal\u0131p e\u015fle\u015ftirme s\xf6zdizimine ek olarak, saf etki alan\u0131 kal\u0131b\u0131n\u0131 da kullanabiliriz."}),"\n",(0,l.jsxs)(n.p,{children:["\xd6rne\u011fin, ",(0,l.jsx)(n.code,{children:"sub"})," farkl\u0131 alanlarda, ",(0,l.jsx)(n.code,{children:"domain1"})," ve ",(0,l.jsx)(n.code,{children:"domain2"}),"'de eri\u015fime sahip olmas\u0131n\u0131 istiyorsak, saf alan kal\u0131b\u0131n\u0131 kullanabiliriz:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csv",children:"p, admin, domain1, data1, read\np, admin, domain1, data1, write\np, admin, domain2, data2, read\np, admin, domain2, data2, write\n\ng, alice, admin, *\ng, bob, admin, domain2\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Bu \xf6rnekte, ",(0,l.jsx)(n.code,{children:"alice"}),"'in ",(0,l.jsx)(n.code,{children:"domain1"})," ve ",(0,l.jsx)(n.code,{children:"domain2"}),"'de ",(0,l.jsx)(n.code,{children:"data"}),"'y\u0131 okuyup yazmas\u0131n\u0131 istiyoruz. ",(0,l.jsx)(n.code,{children:"g"})," i\xe7indeki kal\u0131p e\u015fle\u015ftirme ",(0,l.jsx)(n.code,{children:"*"}),", ",(0,l.jsx)(n.code,{children:"alice"}),"'e iki alanl\u0131 eri\u015fim sa\u011flar."]}),"\n",(0,l.jsxs)(n.p,{children:["Kal\u0131p e\u015fle\u015ftirmeyi kullanarak, \xf6zellikle daha karma\u015f\u0131k ve \xe7ok say\u0131da alan ya da nesne g\xf6z \xf6n\xfcnde bulundurulmas\u0131 gereken senaryolarda, ",(0,l.jsx)(n.code,{children:"policy_definition"}),"'\u0131 daha zarif ve etkili bir \u015fekilde uygulayabiliriz."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}function u(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>s});var a=i(6540);const l={},r=a.createContext(l);function d(e){const n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);