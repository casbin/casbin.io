"use strict";(self.webpackChunkcasbin_website_v2=self.webpackChunkcasbin_website_v2||[]).push([[6551],{3905:(e,a,i)=>{i.d(a,{Zo:()=>k,kt:()=>c});var n=i(7294);function r(e,a,i){return a in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}function l(e,a){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),i.push.apply(i,n)}return i}function t(e){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?l(Object(i),!0).forEach((function(a){r(e,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))}))}return e}function o(e,a){if(null==e)return{};var i,n,r=function(e,a){if(null==e)return{};var i,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)i=l[n],a.indexOf(i)>=0||(r[i]=e[i]);return r}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)i=l[n],a.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var d=n.createContext({}),s=function(e){var a=n.useContext(d),i=a;return e&&(i="function"==typeof e?e(a):t(t({},a),e)),i},k=function(e){var a=s(e.components);return n.createElement(d.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},p=n.forwardRef((function(e,a){var i=e.components,r=e.mdxType,l=e.originalType,d=e.parentName,k=o(e,["components","mdxType","originalType","parentName"]),p=s(i),c=r,m=p["".concat(d,".").concat(c)]||p[c]||u[c]||l;return i?n.createElement(m,t(t({ref:a},k),{},{components:i})):n.createElement(m,t({ref:a},k))}));function c(e,a){var i=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var l=i.length,t=new Array(l);t[0]=p;var o={};for(var d in a)hasOwnProperty.call(a,d)&&(o[d]=a[d]);o.originalType=e,o.mdxType="string"==typeof e?e:r,t[1]=o;for(var s=2;s<l;s++)t[s]=i[s];return n.createElement.apply(null,t)}return n.createElement.apply(null,i)}p.displayName="MDXCreateElement"},6077:(e,a,i)=>{i.r(a),i.d(a,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var n=i(7462),r=(i(7294),i(3905));const l={id:"api-overview",title:"API Overview",description:"Casbin API Kullan\u0131m\u0131",keywords:["API overview","API","API usage"],authors:["hsluoyz"]},t=void 0,o={unversionedId:"api-overview",id:"api-overview",title:"API Overview",description:"Casbin API Kullan\u0131m\u0131",source:"@site/i18n/tr/docusaurus-plugin-content-docs/current/APIOverview.mdx",sourceDirName:".",slug:"/api-overview",permalink:"/tr/docs/api-overview",draft:!1,editUrl:"https://github.com/casbin/casbin-website-v2/edit/master/docs/APIOverview.mdx",tags:[],version:"current",frontMatter:{id:"api-overview",title:"API Overview",description:"Casbin API Kullan\u0131m\u0131",keywords:["API overview","API","API usage"],authors:["hsluoyz"]},sidebar:"docs",previous:{title:"API",permalink:"/tr/docs/category/api"},next:{title:"Management API",permalink:"/tr/docs/management-api"}},d={},s=[{value:"Zorunlu API",id:"zorunlu-api",level:2},{value:"EnforceEx API",id:"enforceex-api",level:2},{value:"Y\xf6netim API&#39;si",id:"y\xf6netim-apisi",level:2},{value:"Get API",id:"get-api",level:3},{value:"Ekle, Sil, G\xfcncelle API",id:"ekle-sil-g\xfcncelle-api",level:3},{value:"AddEx API",id:"addex-api",level:3},{value:"RBAC API",id:"rbac-api",level:2}],k={toc:s};function u(e){let{components:a,...i}=e;return(0,r.kt)("wrapper",(0,n.Z)({},k,i,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Bu genel bak\u0131\u015f sadece Casbin API'lerini nas\u0131l kullanaca\u011f\u0131n\u0131z\u0131 g\xf6sterir ve Casbin'in nas\u0131l kuruldu\u011funu ya da nas\u0131l \xe7al\u0131\u015ft\u0131\u011f\u0131n\u0131 a\xe7\u0131klamaz. Bu e\u011fitimleri \u015fu adreste bulabilirsiniz: ",(0,r.kt)("a",{parentName:"p",href:"/docs/get-started"},"Casbin Kurulumu")," ve ",(0,r.kt)("a",{parentName:"p",href:"/docs/how-it-works"},"Casbin Nas\u0131l \xc7al\u0131\u015f\u0131r"),". Yani, bu e\u011fitimi okumaya ba\u015flad\u0131\u011f\u0131n\u0131zda, Casbin'i kodunuza tamamen kurup i\xe7e aktard\u0131\u011f\u0131n\u0131z\u0131 varsay\u0131yoruz."),(0,r.kt)("h2",{id:"zorunlu-api"},"Zorunlu API"),(0,r.kt)("p",null,"Casbin'in Zorunlu API'leriyle ba\u015flayal\u0131m. ",(0,r.kt)("inlineCode",{parentName:"p"},"model.conf")," dosyas\u0131ndan bir RBAC modeli y\xfckleyece\u011fiz ve ",(0,r.kt)("inlineCode",{parentName:"p"},"policy.csv")," dosyas\u0131ndan politikalar y\xfckleyece\u011fiz. Model s\xf6zdizimi hakk\u0131nda ",(0,r.kt)("a",{parentName:"p",href:"/docs/syntax-for-models"},"buradan")," bilgi edinebilirsiniz ve bu \xf6\u011freticide bunu ele almayaca\u011f\u0131z. A\u015fa\u011f\u0131da verilen yap\u0131land\u0131rma dosyalar\u0131n\u0131 anlayabilece\u011finizi varsay\u0131yoruz:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"model.conf")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act\n\n[role_definition]\ng = _, _\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = g(r.sub, p.sub) && r.obj == p.obj && r.act == p.act\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"policy.csv")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csv"},"p, admin, data1, read\np, admin, data1, write\np, admin, data2, read\np, admin, data2, write\np, alice, data1, read\np, bob, data2, write\ng, amber, admin\ng, abc, admin\n")),(0,r.kt)("p",null,"Yap\u0131land\u0131rma dosyalar\u0131n\u0131 okuduktan sonra, l\xfctfen a\u015fa\u011f\u0131daki kodu okuyun."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'// Load information from files.\nenforcer, err := casbin.NewEnforcer("./example/model.conf", "./example/policy.csv")\nif err != nil {\n    log.Fatalf("Error, detail: %s", err)\n}\nok, err := enforcer.Enforce("alice", "data1", "read")\n')),(0,r.kt)("p",null,"Bu kod, eri\u015fim kontrol modelini ve politikalar\u0131 yerel dosyalardan y\xfckler. ",(0,r.kt)("inlineCode",{parentName:"p"},"casbin.NewEnforcer()")," fonksiyonu bir zorlay\u0131c\u0131 d\xf6nd\xfcrecektir. \u0130ki parametresini dosya yollar\u0131 olarak tan\u0131yacak ve oradan dosyalar\u0131 y\xfckleyecektir. \u0130\u015flem s\u0131ras\u0131nda olu\u015fan hatalar ",(0,r.kt)("inlineCode",{parentName:"p"},"err")," de\u011fi\u015fkeninde saklan\u0131r. Bu kod, modeli ve politikalar\u0131 y\xfcklemek i\xe7in varsay\u0131lan adapt\xf6r\xfc kullan\u0131r ve tabii ki, ayn\u0131 sonucu bir \xfc\xe7\xfcnc\xfc taraf adapt\xf6r kullanarak da elde edebilirsiniz."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},'ok, err := enforcer.Enforce("alice", "data1", "read")')," kodu, eri\u015fim izinlerini onaylamak i\xe7in kullan\u0131l\u0131r. E\u011fer Alice read i\u015flemiyle data1'e eri\u015febiliyorsa, ",(0,r.kt)("inlineCode",{parentName:"p"},"ok"),"'un d\xf6n\xfc\u015f de\u011feri ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," olacakt\u0131r; aksi takdirde ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," olacakt\u0131r. Bu \xf6rnekte, ",(0,r.kt)("inlineCode",{parentName:"p"},"ok")," de\u011feri ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),"'dur."),(0,r.kt)("h2",{id:"enforceex-api"},"EnforceEx API"),(0,r.kt)("p",null,"Bazen hangi politikan\u0131n iste\u011fe izin verdi\u011fini merak edebilirsiniz, bu y\xfczden ",(0,r.kt)("inlineCode",{parentName:"p"},"EnforceEx()")," fonksiyonunu haz\u0131rlad\u0131k. Bunu \u015fu \u015fekilde kullanabilirsiniz:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'ok, reason, err := enforcer.EnforceEx("amber", "data1", "read")\nfmt.Println(ok, reason) // true [admin data1 read]\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"EnforceEx()")," fonksiyonu, d\xf6n\xfc\u015f de\u011feri ",(0,r.kt)("inlineCode",{parentName:"p"},"reason")," i\xe7inde tam politikay\u0131 d\xf6nd\xfcrecektir. Bu \xf6rnekte, ",(0,r.kt)("inlineCode",{parentName:"p"},"amber")," bir ",(0,r.kt)("inlineCode",{parentName:"p"},"admin")," rol\xfcd\xfcr, bu nedenle politik ",(0,r.kt)("inlineCode",{parentName:"p"},"p, admin, data1, read")," bu iste\u011fin ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," olmas\u0131na izin verdi. Bu kodun \xe7\u0131kt\u0131s\u0131 yorum i\xe7inde."),(0,r.kt)("p",null,"Casbin, bu benzeri bir\xe7ok API sa\u011flam\u0131\u015ft\u0131r. Bu API'ler temel olanlara baz\u0131 ek fonksiyonlar ekler. Bunlar \u015funlar\u0131 i\xe7erir:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"ok, err := enforcer.EnforceWithMatcher(matcher, request)")),(0,r.kt)("p",{parentName:"li"},"Bu fonksiyon bir e\u015fle\u015ftirici kullan\u0131r.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"ok, reason, err := enforcer.EnforceExWithMatcher(matcher, request)")),(0,r.kt)("p",{parentName:"li"},"Bu, ",(0,r.kt)("inlineCode",{parentName:"p"},"EnforceWithMatcher()")," ve ",(0,r.kt)("inlineCode",{parentName:"p"},"EnforceEx()")," kombinasyonudur.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"boolArray, err := enforcer.BatchEnforce(requests)")),(0,r.kt)("p",{parentName:"li"},"Bu fonksiyon, bir i\u015f listesi sa\u011flar ve bir dizi d\xf6nd\xfcr\xfcr."))),(0,r.kt)("p",null,"Bu, Casbin'in basit bir kullan\u0131m \xf6rne\u011fidir. Casbin'i bu API'leri kullanarak bir yetkilendirme sunucusu ba\u015flatmak i\xe7in kullanabilirsiniz. Sonraki paragraflarda sizlere baz\u0131 di\u011fer API t\xfcrlerini g\xf6sterece\u011fiz."),(0,r.kt)("h2",{id:"y\xf6netim-apisi"},"Y\xf6netim API'si"),(0,r.kt)("h3",{id:"get-api"},"Get API"),(0,r.kt)("p",null,"Bu API'ler, politikalardaki belirli nesneleri almak i\xe7in kullan\u0131l\u0131r. Bu \xf6rnekte, bir enforcer y\xfckl\xfcyoruz ve ondan bir \u015fey al\u0131yoruz."),(0,r.kt)("p",null,"L\xfctfen a\u015fa\u011f\u0131daki koda g\xf6z at\u0131n:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'enforcer, err := casbin.NewEnforcer("./example/model.conf", "./example/policy.csv")\nif err != nil {\n    fmt.Printf("Error, details: %s\\n", err)\n}\nallSubjects := enforcer.GetAllSubjects()\nfmt.Println(allSubjects)\n')),(0,r.kt)("p",null,"\xd6nceki \xf6rne\u011fe benzer \u015fekilde, ilk d\xf6rt sat\u0131r yerel dosyalardan gerekli bilgileri y\xfcklemek i\xe7in kullan\u0131l\u0131r. Burada bunu daha fazla tart\u0131\u015fmayaca\u011f\u0131z."),(0,r.kt)("p",null,"Kod ",(0,r.kt)("inlineCode",{parentName:"p"},"allSubjects := enforcer.GetAllSubjects()")," politikalar dosyas\u0131ndaki t\xfcm konular\u0131 al\u0131r ve bunlar\u0131 bir dizi olarak d\xf6nd\xfcr\xfcr. Daha sonra bu diziyi yazd\u0131r\u0131r\u0131z."),(0,r.kt)("p",null,"Tipik olarak, kodun \xe7\u0131kt\u0131s\u0131 \u015f\xf6yle olmal\u0131d\u0131r:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"[admin alice bob]\n")),(0,r.kt)("p",null,"Ayr\u0131ca ",(0,r.kt)("inlineCode",{parentName:"p"},"GetAllSubjects()")," fonksiyonunu ",(0,r.kt)("inlineCode",{parentName:"p"},"GetAllNamedSubjects()")," olarak de\u011fi\u015ftirerek, \u015fu anki adland\u0131r\u0131lm\u0131\u015f politikada ge\xe7en konular\u0131n listesini alabilirsiniz."),(0,r.kt)("p",null,"Benzer \u015fekilde, ",(0,r.kt)("inlineCode",{parentName:"p"},"Objects, Actions, Roles")," i\xe7in ",(0,r.kt)("inlineCode",{parentName:"p"},"GetAll")," fonksiyonlar\u0131 haz\u0131rlad\u0131k. Bu fonksiyonlara eri\u015fmek i\xe7in, fonksiyon ad\u0131ndaki ",(0,r.kt)("inlineCode",{parentName:"p"},"Subject")," kelimesini istenen kategoriyle de\u011fi\u015ftirmeniz yeterlidir."),(0,r.kt)("p",null,"Ek olarak, politikalar i\xe7in daha fazla al\u0131c\u0131 mevcuttur. \xc7a\u011f\u0131rma y\xf6ntemi ve d\xf6n\xfc\u015f de\u011ferleri yukar\u0131da bahsedilenlerle benzerdir."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"policy = e.GetPolicy()")," politikadaki t\xfcm yetkilendirme kurallar\u0131n\u0131 al\u0131r."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'filteredPolicy := e.GetFilteredPolicy(0, "alice")')," belirtilen alan filtreleriyle ilgili politika i\xe7indeki t\xfcm yetkilendirme kurallar\u0131n\u0131 al\u0131r."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'namedPolicy := e.GetNamedPolicy("p")')," adland\u0131r\u0131lm\u0131\u015f politika i\xe7indeki t\xfcm yetkilendirme kurallar\u0131n\u0131 al\u0131r."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'filteredNamedPolicy = e.GetFilteredNamedPolicy("p", 0, "bob")')," adland\u0131r\u0131lm\u0131\u015f politika i\xe7indeki belirtilen alan filtreleriyle t\xfcm yetkilendirme kurallar\u0131n\u0131 al\u0131r."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"groupingPolicy := e.GetGroupingPolicy()")," politika i\xe7indeki t\xfcm rol miras kurallar\u0131n\u0131 al\u0131r."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'filteredGroupingPolicy := e.GetFilteredGroupingPolicy(0, "alice")')," belirtilen alan filtreleriyle politika i\xe7indeki t\xfcm rol miras kurallar\u0131n\u0131 al\u0131r."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'namedGroupingPolicy := e.GetNamedGroupingPolicy("g")')," politika i\xe7indeki t\xfcm rol miras kurallar\u0131n\u0131 al\u0131r."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'namedGroupingPolicy := e.GetFilteredNamedGroupingPolicy("g", 0, "alice")')," belirtilen alan filtreleriyle politika i\xe7indeki t\xfcm rol miras kurallar\u0131n\u0131 al\u0131r.")),(0,r.kt)("h3",{id:"ekle-sil-g\xfcncelle-api"},"Ekle, Sil, G\xfcncelle API"),(0,r.kt)("p",null,"Casbin, \xe7al\u0131\u015fma zaman\u0131nda politikalar\u0131 dinamik olarak eklemek, silmek veya de\u011fi\u015ftirmek i\xe7in \xe7e\u015fitli API'ler sa\u011flar."),(0,r.kt)("p",null,"A\u015fa\u011f\u0131daki kod, politikalar\u0131 nas\u0131l eklemek, kald\u0131rmak ve g\xfcncellemek ve ayr\u0131ca bir politika olup olmad\u0131\u011f\u0131n\u0131 kontrol etmek i\xe7in nas\u0131l kullan\u0131laca\u011f\u0131n\u0131 g\xf6sterir:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'// load information from files\nenforcer, err := casbin.NewEnforcer("./example/model.conf", "./example/policy.csv")\nif err != nil {\n    fmt.Printf("Error, details: %s\\n", err)\n}\n\n// add a policy and use HasPolicy() to confirm\nenforcer.AddPolicy("added_user", "data1", "read")\nhasPolicy := enforcer.HasPolicy("added_user", "data1", "read")\nfmt.Println(hasPolicy) // true, the policy was added successfully\n\n// remove a policy and use HasPolicy() to confirm\nenforcer.RemovePolicy("alice", "data1", "read")\nhasPolicy = enforcer.HasPolicy("alice", "data1", "read")\nfmt.Println(hasPolicy) // false, the policy was removed successfully\n\n// update a policy and use HasPolicy() to confirm\nenforcer.UpdatePolicy([]string{"added_user", "data1", "read"}, []string{"added_user", "data1", "write"})\nhasPolicy = enforcer.HasPolicy("added_user", "data1", "read")\nfmt.Println(hasPolicy) // false, the original policy has expired\nhasPolicy = enforcer.HasPolicy("added_user", "data1", "write")\nfmt.Println(hasPolicy) // true, the new policy is in effect\n')),(0,r.kt)("p",null,"Bu API'leri kullanarak, politikalar\u0131n\u0131z\u0131 dinamik olarak d\xfczenleyebilirsiniz. Benzer \u015fekilde, ",(0,r.kt)("inlineCode",{parentName:"p"},"FilteredPolicy, NamedPolicy, FilteredNamedPolicy, GroupingPolicy, NamedGroupingPolicy, FilteredGroupingPolicy, FilteredNamedGroupingPolicy")," i\xe7in benzer API'ler sa\u011flad\u0131k. Bunlar\u0131 kullanmak i\xe7in, fonksiyon ad\u0131ndaki ",(0,r.kt)("inlineCode",{parentName:"p"},"Policy")," kelimesini uygun kategoriyle de\u011fi\u015ftirmek yeterlidir."),(0,r.kt)("p",null,"Ayr\u0131ca, parametreleri dizilere de\u011fi\u015ftirerek, politikalar\u0131n\u0131z\u0131 toplu olarak d\xfczenleyebilirsiniz."),(0,r.kt)("p",null,"\xd6rne\u011fin, b\xf6yle fonksiyonlar d\xfc\u015f\xfcn\xfcn:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'enforcer.UpdatePolicy([]string{"eve", "data3", "read"}, []string{"eve", "data3", "write"})\n')),(0,r.kt)("p",null,"E\u011fer ",(0,r.kt)("inlineCode",{parentName:"p"},"Policy")," yerine ",(0,r.kt)("inlineCode",{parentName:"p"},"Policies")," koyar ve parametreleri a\u015fa\u011f\u0131daki gibi de\u011fi\u015ftirirsek:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'enforcer.UpdatePolicies([][]string{{"eve", "data3", "read"}, {"jack", "data3", "read"}}, [][]string{{"eve", "data3", "write"}, {"jack", "data3", "write"}})\n')),(0,r.kt)("p",null,"o zaman bu politikalar\u0131 toplu olarak d\xfczenleyebiliriz."),(0,r.kt)("p",null,"Ayn\u0131 i\u015flemler ",(0,r.kt)("inlineCode",{parentName:"p"},"GroupingPolicy, NamedGroupingPolicy")," i\xe7in de uygulanabilir."),(0,r.kt)("h3",{id:"addex-api"},"AddEx API"),(0,r.kt)("p",null,"Casbin, kullan\u0131c\u0131lar\u0131n kurallar\u0131 toplu olarak eklemeye yard\u0131mc\u0131 olmak i\xe7in AddEx serisi API'leri sa\u011flar."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},"AddPoliciesEx(rules [][]string) (bool, error)\nAddNamedPoliciesEx(ptype string, rules [][]string) (bool, error)\nAddGroupingPoliciesEx(rules [][]string) (bool, error)\nAddNamedGroupingPoliciesEx(ptype string, rules [][]string) (bool, error)\nSelfAddPoliciesEx(sec string, ptype string, rules [][]string) (bool, error) \n")),(0,r.kt)("p",null,"Bu y\xf6ntemler ile Ex soneksi olmayan y\xf6ntemler aras\u0131ndaki fark, e\u011fer kurallardan biri zaten mevcutsa, hemen false d\xf6nmek yerine bir sonraki kural\u0131 kontrol etmeye devam edecekleridir."),(0,r.kt)("p",null,"\xd6rne\u011fin, ",(0,r.kt)("inlineCode",{parentName:"p"},"AddPolicies")," ve ",(0,r.kt)("inlineCode",{parentName:"p"},"AddPoliciesEx"),"'i kar\u015f\u0131la\u015ft\u0131ral\u0131m."),(0,r.kt)("p",null,"A\u015fa\u011f\u0131daki kodu casbin alt\u0131ndaki teste kopyalayarak \xe7al\u0131\u015ft\u0131rabilir ve g\xf6zlemleyebilirsiniz."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'func TestDemo(t *testing.T) {\n    e, err := NewEnforcer("examples/basic_model.conf", "examples/basic_policy.csv")\n    if err != nil {\n        fmt.Printf("Error, details: %s\\n", err)\n    }\n    e.ClearPolicy()\n    e.AddPolicy("user1", "data1", "read")\n    fmt.Println(e.GetPolicy())\n    testGetPolicy(t, e, [][]string{{"user1", "data1", "read"}})\n\n    // policy {"user1", "data1", "read"} now exists\n\n    // Use AddPolicies to add rules in batches\n    ok, _ := e.AddPolicies([][]string{{"user1", "data1", "read"}, {"user2", "data2", "read"}})\n    fmt.Println(e.GetPolicy())\n    // {"user2", "data2", "read"} failed to add because {"user1", "data1", "read"} already exists\n    // AddPolicies returns false and no other policies are checked, even though they may not exist in the existing ruleset\n    // ok == false\n    fmt.Println(ok)\n    testGetPolicy(t, e, [][]string{{"user1", "data1", "read"}})\n\n    // Use AddPoliciesEx to add rules in batches\n    ok, _ = e.AddPoliciesEx([][]string{{"user1", "data1", "read"}, {"user2", "data2", "read"}})\n    fmt.Println(e.GetPolicy())\n    // {"user2", "data2", "read"} is added successfully\n    // because AddPoliciesEx automatically filters the existing {"user1", "data1", "read"}\n    // ok == true\n    fmt.Println(ok)\n    testGetPolicy(t, e, [][]string{{"user1", "data1", "read"}, {"user2", "data2", "read"}})\n}\n')),(0,r.kt)("h2",{id:"rbac-api"},"RBAC API"),(0,r.kt)("p",null,"Casbin, RBAC modelini ve politikalar\u0131n\u0131 de\u011fi\u015ftirmeniz i\xe7in size baz\u0131 API'ler sunar. E\u011fer RBAC'a a\u015finasan\u0131z, bu API'leri kolayca kullanabilirsiniz."),(0,r.kt)("p",null,"Burada, Casbin'in RBAC API'lerini nas\u0131l kullanaca\u011f\u0131n\u0131z\u0131 g\xf6steriyoruz ve RBAC'\u0131n kendisinden bahsetmiyoruz. Daha fazla ayr\u0131nt\u0131y\u0131 ",(0,r.kt)("a",{parentName:"p",href:"/docs/rbac"},"buradan")," alabilirsiniz."),(0,r.kt)("p",null,"Modeli ve politikalar\u0131, daha \xf6nce oldu\u011fu gibi y\xfcklemek i\xe7in a\u015fa\u011f\u0131daki kodu kullan\u0131r\u0131z."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'enforcer, err := casbin.NewEnforcer("./example/model.conf", "./example/policy.csv")\nif err != nil {\n    fmt.Printf("Error, details: %s\\n", err)\n}\n')),(0,r.kt)("p",null,"Ard\u0131ndan, bu API'lere eri\u015fmek i\xe7in ",(0,r.kt)("inlineCode",{parentName:"p"},"enforcer")," adl\u0131 bir Enforcer \xf6rne\u011fi kullanabiliriz."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'roles, err := enforcer.GetRolesForUser("amber")\nfmt.Println(roles) // [admin]\nusers, err := enforcer.GetUsersForRole("admin")\nfmt.Println(users) // [amber abc]\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"GetRolesForUser()")," bir dizi d\xf6nd\xfcr\xfcr ve bu dizi, amber'in sahip oldu\u011fu t\xfcm rolleri i\xe7erir. Bu \xf6rnekte, amber'in sadece bir rol\xfc vard\u0131r, ki bu da admin'dir, bu nedenle ",(0,r.kt)("inlineCode",{parentName:"p"},"roles")," dizisi ",(0,r.kt)("inlineCode",{parentName:"p"},"[admin]")," \u015feklindedir. Benzer \u015fekilde, bir role ait kullan\u0131c\u0131lar\u0131 almak i\xe7in ",(0,r.kt)("inlineCode",{parentName:"p"},"GetUsersForRole()")," kullanabilirsiniz. Bu fonksiyonun d\xf6n\xfc\u015f de\u011feri de bir dizidir."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'enforcer.HasRoleForUser("amber", "admin") // true\n')),(0,r.kt)("p",null,"Bir kullan\u0131c\u0131n\u0131n rol\xfcn \xfcyesi olup olmad\u0131\u011f\u0131n\u0131 do\u011frulamak i\xe7in ",(0,r.kt)("inlineCode",{parentName:"p"},"HasRoleForUser()")," kullanabilirsiniz. Bu \xf6rnekte, amber admin'in bir \xfcyesidir, bu nedenle fonksiyonun d\xf6n\xfc\u015f de\u011feri ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," \u015feklindedir."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'fmt.Println(enforcer.Enforce("bob", "data2", "write")) // true\nenforcer.DeletePermission("data2", "write")\nfmt.Println(enforcer.Enforce("bob", "data2", "write")) // false\n')),(0,r.kt)("p",null,"Bir izni silmek i\xe7in ",(0,r.kt)("inlineCode",{parentName:"p"},"DeletePermission()")," kullanabilirsiniz."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'fmt.Println(enforcer.Enforce("alice", "data1", "read")) // true\nenforcer.DeletePermissionForUser("alice", "data1", "read")\nfmt.Println(enforcer.Enforce("alice", "data1", "read")) // false\n')),(0,r.kt)("p",null,"Ve bir kullan\u0131c\u0131 i\xe7in izni silmek i\xe7in ",(0,r.kt)("inlineCode",{parentName:"p"},"DeletePermissionForUser()")," kullanabilirsiniz."),(0,r.kt)("p",null,"Casbin'in buna benzer bir\xe7ok API'si bulunmaktad\u0131r. \xc7a\u011f\u0131rma y\xf6ntemleri ve d\xf6n\xfc\u015f de\u011ferleri, yukar\u0131daki API'lerle ayn\u0131 stilde olup ayn\u0131d\u0131r. Bu API'leri ",(0,r.kt)("a",{parentName:"p",href:"/docs/rbac-api"},"sonraki belgelerde")," bulabilirsiniz."))}u.isMDXComponent=!0}}]);