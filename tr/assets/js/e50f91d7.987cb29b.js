"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[3418],{3067:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>u,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"envoy","title":"Authorization of Service Mesh through Envoy","description":"Envoy arac\u0131l\u0131\u011f\u0131yla Servis A\u011f\u0131 Yetkilendirmesi","source":"@site/i18n/tr/docusaurus-plugin-content-docs/current/EnvoyAuthz.mdx","sourceDirName":".","slug":"/envoy","permalink":"/tr/docs/envoy","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/EnvoyAuthz.mdx","tags":[],"version":"current","frontMatter":{"id":"envoy","title":"Authorization of Service Mesh through Envoy","description":"Envoy arac\u0131l\u0131\u011f\u0131yla Servis A\u011f\u0131 Yetkilendirmesi","keywords":["Envoy","Envoy-authz","Istio"],"authors":["ashish493"]},"sidebar":"docs","previous":{"title":"Admission Webhook for K8s","permalink":"/tr/docs/k8s-gatekeeper"},"next":{"title":"Management","permalink":"/tr/docs/category/management"}}');var a=i(4848),s=i(8453);const l={id:"envoy",title:"Authorization of Service Mesh through Envoy",description:"Envoy arac\u0131l\u0131\u011f\u0131yla Servis A\u011f\u0131 Yetkilendirmesi",keywords:["Envoy","Envoy-authz","Istio"],authors:["ashish493"]},t=void 0,o={},d=[{value:"Gereksinimler",id:"gereksinimler",level:2},{value:"Middleware&#39;in \xc7al\u0131\u015fma \u015eekli",id:"middlewarein-\xe7al\u0131\u015fma-\u015fekli",level:2},{value:"Kullan\u0131m",id:"kullan\u0131m",level:2},{value:"Istio ile Entegrasyon",id:"istio-ile-entegrasyon",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"https://github.com/casbin/envoy-authz",children:"Envoy-authz"}),", casbin arac\u0131l\u0131\u011f\u0131yla d\u0131\u015f RBAC & ABAC yetkilendirmesi yapan bir Envoy ara katman yaz\u0131l\u0131m\u0131d\u0131r. Bu ara katman yaz\u0131l\u0131m\u0131, bir gRPC sunucusu \xfczerinden ",(0,a.jsx)(n.a,{href:"https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/security/ext_authz_filter.html",children:"Envoy'nin d\u0131\u015f yetkilendirme API'si"})," kullan\u0131r. Bu proxy, Istio gibi her t\xfcrl\xfc Envoy tabanl\u0131 servis a\u011f\u0131na da\u011f\u0131t\u0131labilir."]}),"\n",(0,a.jsx)(n.h2,{id:"gereksinimler",children:"Gereksinimler"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Envoy 1.17+"}),"\n",(0,a.jsx)(n.li,{children:"Istio veya ba\u015fka herhangi bir hizmet mesh t\xfcr\xfc"}),"\n",(0,a.jsx)(n.li,{children:"grpc ba\u011f\u0131ml\u0131l\u0131klar\u0131"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Ba\u011f\u0131ml\u0131l\u0131klar ",(0,a.jsx)(n.code,{children:"go.mod"})," kullan\u0131larak y\xf6netilir."]}),"\n",(0,a.jsx)(n.h2,{id:"middlewarein-\xe7al\u0131\u015fma-\u015fekli",children:"Middleware'in \xc7al\u0131\u015fma \u015eekli"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Bir istemci HTTP iste\u011fi yapar."}),"\n",(0,a.jsx)(n.li,{children:"Envoy proxy iste\u011fi gRPC sunucusuna g\xf6nderir."}),"\n",(0,a.jsx)(n.li,{children:"gRPC sunucusu iste\u011fi casbin politikalar\u0131na g\xf6re yetkilendirir."}),"\n",(0,a.jsx)(n.li,{children:"E\u011fer yetkilendirilmi\u015fse, istek iletilir; aksi takdirde reddedilir."}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["gRPC sunucusu, Envoy'deki ",(0,a.jsx)(n.a,{href:"https://github.com/envoyproxy/envoy/blob/master/api/envoy/service/auth/v2alpha/external_auth.proto",children:"external_auth.proto"})," dosyas\u0131ndan protokol arabelle\u011fine dayanmaktad\u0131r."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-protobuf",children:"// A generic interface for performing authorization checks on incoming\n// requests to a networked service.\nservice Authorization {\n  // Performs an authorization check based on the attributes associated with the\n  // incoming request and returns a status of `OK` or not `OK`.\n  rpc Check(v2.CheckRequest) returns (v2.CheckResponse);\n}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Yukar\u0131daki proto dosyas\u0131ndan, yetkilendirme sunucusunda ",(0,a.jsx)(n.code,{children:"Check()"})," hizmetini kullanmam\u0131z gerekiyor."]}),"\n",(0,a.jsx)(n.h2,{id:"kullan\u0131m",children:"Kullan\u0131m"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Casbin politikalar\u0131n\u0131 bu ",(0,a.jsx)(n.a,{href:"/docs/how-it-works",children:"k\u0131lavuz"})," do\u011frultusunda config dosyalar\u0131nda tan\u0131mlay\u0131n."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Politikalar\u0131n\u0131z\u0131 \xe7evrimi\xe7i ",(0,a.jsx)(n.a,{href:"/editor",children:"casbin-editor"})," kullanarak do\u011frulayabilir/test edebilirsiniz."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Kimlik do\u011frulama sunucusunu \u015fu \u015fekilde ba\u015flat\u0131n:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"go build .\n./authz\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Envoy yap\u0131land\u0131rmas\u0131n\u0131 y\xfckleyin:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"envoy -c authz.yaml -l info\n"})}),"\n",(0,a.jsx)(n.p,{children:"Envoy ba\u015flad\u0131\u011f\u0131nda, yetkilendirme i\u015flemi i\xe7in istekleri engelleyecektir."}),"\n",(0,a.jsx)(n.h2,{id:"istio-ile-entegrasyon",children:"Istio ile Entegrasyon"}),"\n",(0,a.jsxs)(n.p,{children:["Bu ara yaz\u0131l\u0131m\u0131n \xe7al\u0131\u015fmas\u0131 i\xe7in, JWT token'lar\u0131nda veya ba\u015fl\u0131klarda kullan\u0131c\u0131 adlar\u0131n\u0131 i\xe7eren \xf6zel ba\u015fl\u0131klar g\xf6ndermeniz gerekir. ",(0,a.jsx)(n.code,{children:"Request Headers"})," de\u011fi\u015ftirme hakk\u0131nda daha fazla bilgi i\xe7in resmi ",(0,a.jsx)(n.a,{href:"https://istio.io/v1.4/docs/tasks/policy-enforcement/control-headers/",children:"Istio dok\xfcmantasyonuna"})," ba\u015fvurabilirsiniz."]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>t});var r=i(6540);const a={},s=r.createContext(a);function l(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);