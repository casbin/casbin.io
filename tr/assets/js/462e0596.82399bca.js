"use strict";(self.webpackChunkcasbin_website_v2=self.webpackChunkcasbin_website_v2||[]).push([[2459],{3905:(e,i,a)=>{a.d(i,{Zo:()=>u,kt:()=>p});var n=a(7294);function r(e,i,a){return i in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a,e}function l(e,i){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),a.push.apply(a,n)}return a}function t(e){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?l(Object(a),!0).forEach((function(i){r(e,i,a[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))}))}return e}function o(e,i){if(null==e)return{};var a,n,r=function(e,i){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],i.indexOf(a)>=0||(r[a]=e[a]);return r}(e,i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],i.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),m=function(e){var i=n.useContext(s),a=i;return e&&(a="function"==typeof e?e(i):t(t({},i),e)),a},u=function(e){var i=m(e.components);return n.createElement(s.Provider,{value:i},e.children)},d={inlineCode:"code",wrapper:function(e){var i=e.children;return n.createElement(n.Fragment,{},i)}},k=n.forwardRef((function(e,i){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),k=m(a),p=r,c=k["".concat(s,".").concat(p)]||k[p]||d[p]||l;return a?n.createElement(c,t(t({ref:i},u),{},{components:a})):n.createElement(c,t({ref:i},u))}));function p(e,i){var a=arguments,r=i&&i.mdxType;if("string"==typeof e||r){var l=a.length,t=new Array(l);t[0]=k;var o={};for(var s in i)hasOwnProperty.call(i,s)&&(o[s]=i[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,t[1]=o;for(var m=2;m<l;m++)t[m]=a[m];return n.createElement.apply(null,t)}return n.createElement.apply(null,a)}k.displayName="MDXCreateElement"},8442:(e,i,a)=>{a.r(i),a.d(i,{assets:()=>s,contentTitle:()=>t,default:()=>d,frontMatter:()=>l,metadata:()=>o,toc:()=>m});var n=a(7462),r=(a(7294),a(3905));const l={id:"rbac",title:"RBAC",description:"Casbin RBAC kullan\u0131m\u0131",keywords:["RBAC","role definition","role hierarchy"],authors:["hsluoyz"]},t=void 0,o={unversionedId:"rbac",id:"rbac",title:"RBAC",description:"Casbin RBAC kullan\u0131m\u0131",source:"@site/i18n/tr/docusaurus-plugin-content-docs/current/RBAC.mdx",sourceDirName:".",slug:"/rbac",permalink:"/tr/docs/rbac",draft:!1,editUrl:"https://github.com/casbin/casbin-website-v2/edit/master/docs/RBAC.mdx",tags:[],version:"current",frontMatter:{id:"rbac",title:"RBAC",description:"Casbin RBAC kullan\u0131m\u0131",keywords:["RBAC","role definition","role hierarchy"],authors:["hsluoyz"]},sidebar:"docs",previous:{title:"Functions",permalink:"/tr/docs/function"},next:{title:"RBAC with Pattern",permalink:"/tr/docs/rbac-with-pattern"}},s={},m=[{value:"Rol Tan\u0131m\u0131",id:"rol-tan\u0131m\u0131",level:2},{value:"Rol Hiyerar\u015fisi",id:"rol-hiyerar\u015fisi",level:2},{value:"Rol\xfc Kullan\u0131c\u0131dan Nas\u0131l Ay\u0131rt Ederiz?",id:"rol\xfc-kullan\u0131c\u0131dan-nas\u0131l-ay\u0131rt-ederiz",level:2},{value:"\xd6rt\xfck Rolleri veya \u0130zinleri Nas\u0131l Sorgular\u0131m?",id:"\xf6rt\xfck-rolleri-veya-i\u0307zinleri-nas\u0131l-sorgular\u0131m",level:2},{value:"RBAC&#39;ta Desen E\u015fle\u015ftirme Kullan\u0131m\u0131",id:"rbacta-desen-e\u015fle\u015ftirme-kullan\u0131m\u0131",level:2},{value:"Rol Y\xf6neticisi",id:"rol-y\xf6neticisi",level:2}],u={toc:m};function d(e){let{components:i,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},u,a,{components:i,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"rol-tan\u0131m\u0131"},"Rol Tan\u0131m\u0131"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"[role_definition]"),", RBAC rol\xfc miras ili\u015fkilerini tan\u0131mlamak i\xe7in kullan\u0131l\u0131r. Casbin, kullan\u0131c\u0131lar\u0131n roller ve miras ili\u015fkilerine sahip oldu\u011fu ve kaynaklar\u0131n da roller ve miras ili\u015fkilerine sahip oldu\u011fu birden fazla RBAC sistemini destekler. Bu iki RBAC sistemi birbirini etkilemeyecektir."),(0,r.kt)("p",null,"Bu b\xf6l\xfcm iste\u011fe ba\u011fl\u0131d\u0131r. Modelde RBAC rollerini kullanm\u0131yorsan\u0131z, bu b\xf6l\xfcm\xfc atlay\u0131n."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"[role_definition]\ng = _, _\ng2 = _, _\n")),(0,r.kt)("p",null,"Yukar\u0131daki rol tan\u0131m\u0131, ",(0,r.kt)("inlineCode",{parentName:"p"},"g"),"'nin bir RBAC sistemi oldu\u011funu ve ",(0,r.kt)("inlineCode",{parentName:"p"},"g2"),"'nin ba\u015fka bir RBAC sistemi oldu\u011funu g\xf6sterir. ",(0,r.kt)("inlineCode",{parentName:"p"},"_,_")," anlam\u0131, miras ili\u015fkisinde iki taraf\u0131n yer ald\u0131\u011f\u0131d\u0131r. En yayg\u0131n durumda, e\u011fer kullan\u0131c\u0131lar i\xe7in sadece rollrelere ihtiyac\u0131n\u0131z varsa genellikle ",(0,r.kt)("inlineCode",{parentName:"p"},"g"),"'yi tek ba\u015f\u0131na kullan\u0131rs\u0131n\u0131z. Hem kullan\u0131c\u0131lar hem de kaynaklar i\xe7in rolleri (veya gruplar\u0131) gerekti\u011finde hem ",(0,r.kt)("inlineCode",{parentName:"p"},"g")," hem de ",(0,r.kt)("inlineCode",{parentName:"p"},"g2")," kullanabilirsiniz. \xd6rnekler i\xe7in l\xfctfen ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casbin/casbin/blob/master/examples/rbac_model.conf"},"rbac","_","model.conf")," ve ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casbin/casbin/blob/master/examples/rbac_with_resource_roles_model.conf"},"rbac","_","model","_","with","_","resource","_","roles.conf")," dosyalar\u0131na bak\u0131n."),(0,r.kt)("p",null,"Casbin, ger\xe7ek kullan\u0131c\u0131-rol e\u015fle\u015ftirmeyi (veya kaynaklar \xfczerindeki rolleri kullan\u0131yorsan\u0131z kaynak-rol e\u015fle\u015ftirmeyi) politika i\xe7inde saklar. \xd6rne\u011fin:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csv"},"p, data2_admin, data2, read\ng, alice, data2_admin\n")),(0,r.kt)("p",null,"Bu, ",(0,r.kt)("inlineCode",{parentName:"p"},"alice"),"'in ",(0,r.kt)("inlineCode",{parentName:"p"},"data2_admin")," rol\xfcn\xfcn \xfcyesi/miras\xe7\u0131s\u0131 oldu\u011fu anlam\u0131na gelir. Burada, ",(0,r.kt)("inlineCode",{parentName:"p"},"alice")," bir kullan\u0131c\u0131, bir kaynak veya bir rol olabilir. Casbin sadece onu bir dize olarak tan\u0131r."),(0,r.kt)("p",null,"Ard\u0131ndan, bir e\u015fle\u015ftiricide, rol\xfc a\u015fa\u011f\u0131da g\xf6sterildi\u011fi gibi kontrol etmelisiniz:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"[matchers]\nm = g(r.sub, p.sub) && r.obj == p.obj && r.act == p.act\n")),(0,r.kt)("p",null,"Bu, istekteki ",(0,r.kt)("inlineCode",{parentName:"p"},"sub"),"un politikada ",(0,r.kt)("inlineCode",{parentName:"p"},"sub")," rol\xfcne sahip olmas\u0131 gerekti\u011fi anlam\u0131na gelir."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("ol",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ol"},"Casbin sadece kullan\u0131c\u0131-rol e\u015fle\u015ftirmesini saklar."),(0,r.kt)("li",{parentName:"ol"},"Casbin, bir kullan\u0131c\u0131n\u0131n ge\xe7erli bir kullan\u0131c\u0131 olup olmad\u0131\u011f\u0131n\u0131 veya bir rol\xfcn ge\xe7erli bir rol olup olmad\u0131\u011f\u0131n\u0131 do\u011frulamaz. Bu, kimlik do\u011frulama taraf\u0131ndan halledilmelidir."),(0,r.kt)("li",{parentName:"ol"},"Bir RBAC sisteminde bir kullan\u0131c\u0131 ve bir rol i\xe7in ayn\u0131 ismi kullanmay\u0131n, \xe7\xfcnk\xfc Casbin kullan\u0131c\u0131lar\u0131 ve rolleri dizeler olarak tan\u0131r ve Casbin'in sizin ",(0,r.kt)("inlineCode",{parentName:"li"},"alice")," kullan\u0131c\u0131s\u0131n\u0131 m\u0131 yoksa ",(0,r.kt)("inlineCode",{parentName:"li"},"alice")," rol\xfcn\xfc m\xfc belirtti\u011finizi anlamak i\xe7in bir yolu yoktur. Bunu ",(0,r.kt)("inlineCode",{parentName:"li"},"role_alice")," kullanarak basit\xe7e \xe7\xf6zebilirsiniz."),(0,r.kt)("li",{parentName:"ol"},"E\u011fer ",(0,r.kt)("inlineCode",{parentName:"li"},"A")," rol ",(0,r.kt)("inlineCode",{parentName:"li"},"B"),"ye sahipse ve ",(0,r.kt)("inlineCode",{parentName:"li"},"B")," rol ",(0,r.kt)("inlineCode",{parentName:"li"},"C"),"ye sahipse, o zaman ",(0,r.kt)("inlineCode",{parentName:"li"},"A")," rol ",(0,r.kt)("inlineCode",{parentName:"li"},"C"),"ye sahiptir. Bu ge\xe7i\u015flilik \u015fu an i\xe7in sonsuzdur."))),(0,r.kt)("admonition",{title:"Simge Ad\u0131 Kural\u0131",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Geleneksel olarak, politika tan\u0131m\u0131ndaki konu simge ad\u0131 ",(0,r.kt)("inlineCode",{parentName:"p"},"sub")," olup ba\u015fta yer al\u0131r. \u015eimdi, Golang Casbin \xf6zelle\u015ftirilmi\u015f simge adlar\u0131n\u0131 ve yerlerini desteklemektedir. E\u011fer konu simge ad\u0131 ",(0,r.kt)("inlineCode",{parentName:"p"},"sub")," ise, konu simgesi herhangi bir ek eylem gerektirmeden rastgele bir yere yerle\u015ftirilebilir. E\u011fer konu simge ad\u0131 ",(0,r.kt)("inlineCode",{parentName:"p"},"sub")," de\u011filse, ",(0,r.kt)("inlineCode",{parentName:"p"},"e.SetFieldIndex()")," metodu ",(0,r.kt)("inlineCode",{parentName:"p"},"constant.SubjectIndex")," i\xe7in zorunlu olarak uygulay\u0131c\u0131 ba\u015flat\u0131ld\u0131ktan sonra \xe7a\u011fr\u0131lmal\u0131d\u0131r, konumundan ba\u011f\u0131ms\u0131z olarak."),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"# `subject` here is for sub\n[policy_definition]\np =  obj, act, subject\n")),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-go"},'e.SetFieldIndex("p", constant.SubjectIndex, 2) // index starts from 0\nok, err := e.DeleteUser("alice") // without SetFieldIndex, it will raise an error\n'))),(0,r.kt)("h2",{id:"rol-hiyerar\u015fisi"},"Rol Hiyerar\u015fisi"),(0,r.kt)("p",null,"Casbin'in RBAC'\u0131, RBAC1'in rol hiyerar\u015fisi \xf6zelli\u011fini destekler; bu, ",(0,r.kt)("inlineCode",{parentName:"p"},"alice"),"'in ",(0,r.kt)("inlineCode",{parentName:"p"},"role1"),"'e sahip olmas\u0131 ve ",(0,r.kt)("inlineCode",{parentName:"p"},"role1"),"'in ",(0,r.kt)("inlineCode",{parentName:"p"},"role2"),"'ye sahip olmas\u0131 durumunda, ",(0,r.kt)("inlineCode",{parentName:"p"},"alice"),"'in de ",(0,r.kt)("inlineCode",{parentName:"p"},"role2"),"'ye sahip olaca\u011f\u0131 ve izinlerini miras alaca\u011f\u0131 anlam\u0131na gelir."),(0,r.kt)("p",null,"Burada, hiyerar\u015fi seviyesi ad\u0131nda bir kavram\u0131m\u0131z var. Yani, bu \xf6rnekte hiyerar\u015fi seviyesi 2'dir. Casbin'deki yerle\u015fik rol y\xf6neticisi i\xe7in, maksimum hiyerar\u015fi seviyesini belirtebilirsiniz. Varsay\u0131lan de\u011fer 10'dur. Bu, ",(0,r.kt)("inlineCode",{parentName:"p"},"alice")," gibi bir son kullan\u0131c\u0131n\u0131n sadece 10 seviye rol miras alabilece\u011fi anlam\u0131na gelir."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},"// NewRoleManager is the constructor for creating an instance of the\n// default RoleManager implementation.\nfunc NewRoleManager(maxHierarchyLevel int) rbac.RoleManager {\n    rm := RoleManager{}\n    rm.allRoles = &sync.Map{}\n    rm.maxHierarchyLevel = maxHierarchyLevel\n    rm.hasPattern = false\n\n    return &rm\n}\n")),(0,r.kt)("h2",{id:"rol\xfc-kullan\u0131c\u0131dan-nas\u0131l-ay\u0131rt-ederiz"},"Rol\xfc Kullan\u0131c\u0131dan Nas\u0131l Ay\u0131rt Ederiz?"),(0,r.kt)("p",null,"Casbin, RBAC'de roller ve kullan\u0131c\u0131lar aras\u0131nda ayr\u0131m yapmaz. \u0130kisi de dizeler olarak ele al\u0131n\u0131r. E\u011fer sadece tek seviyeli bir RBAC kullan\u0131yorsan\u0131z (bir rol asla ba\u015fka bir rol\xfcn \xfcyesi olmayacak), t\xfcm kullan\u0131c\u0131lar\u0131 almak i\xe7in ",(0,r.kt)("inlineCode",{parentName:"p"},"e.GetAllSubjects()")," ve t\xfcm rolleri almak i\xe7in ",(0,r.kt)("inlineCode",{parentName:"p"},"e.GetAllRoles()")," kullanabilirsiniz. Bunlar, s\u0131ras\u0131yla, t\xfcm ",(0,r.kt)("inlineCode",{parentName:"p"},"g, u, r")," kurallar\u0131ndaki t\xfcm ",(0,r.kt)("inlineCode",{parentName:"p"},"u")," ve t\xfcm ",(0,r.kt)("inlineCode",{parentName:"p"},"r"),"'leri listeleyecektir."),(0,r.kt)("p",null,"Ancak e\u011fer \xe7ok seviyeli bir RBAC (rol hiyerar\u015fisi ile) kullan\u0131yorsan\u0131z ve uygulaman\u0131z bir ismin (dizenin) kullan\u0131c\u0131 m\u0131 yoksa rol mu oldu\u011funu kaydetmiyorsa veya ayn\u0131 isme sahip bir kullan\u0131c\u0131 ve rolunuz varsa, Casbin'e ge\xe7irmeden \xf6nce rol\xfcn \xf6n\xfcne ",(0,r.kt)("inlineCode",{parentName:"p"},"role::admin")," gibi bir \xf6n ek ekleyebilirsiniz. Bu \u015fekilde, bu \xf6neki kontrol ederek bir rol olup olmad\u0131\u011f\u0131n\u0131 anlayabilirsiniz."),(0,r.kt)("h2",{id:"\xf6rt\xfck-rolleri-veya-i\u0307zinleri-nas\u0131l-sorgular\u0131m"},"\xd6rt\xfck Rolleri veya \u0130zinleri Nas\u0131l Sorgular\u0131m?"),(0,r.kt)("p",null,'Bir kullan\u0131c\u0131, bir politika kural\u0131nda do\u011frudan atanmak yerine RBAC hiyerar\u015fisi arac\u0131l\u0131\u011f\u0131yla bir rol veya izin miras ald\u0131\u011f\u0131nda, bu t\xfcr bir atamaya "\xf6rt\xfcl\xfc" (implicit) denir. Bu t\xfcr \xf6rt\xfcl\xfc ili\u015fkileri sorgulamak i\xe7in, ',(0,r.kt)("inlineCode",{parentName:"p"},"GetRolesForUser()")," ve ",(0,r.kt)("inlineCode",{parentName:"p"},"GetPermissionsForUser()")," yerine ",(0,r.kt)("inlineCode",{parentName:"p"},"GetImplicitRolesForUser()")," ve ",(0,r.kt)("inlineCode",{parentName:"p"},"GetImplicitPermissionsForUser()")," API'lerini kullanman\u0131z gerekir. Daha fazla ayr\u0131nt\u0131 i\xe7in, l\xfctfen ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casbin/casbin/issues/137"},"bu GitHub sorununa")," bak\u0131n."),(0,r.kt)("h2",{id:"rbacta-desen-e\u015fle\u015ftirme-kullan\u0131m\u0131"},"RBAC'ta Desen E\u015fle\u015ftirme Kullan\u0131m\u0131"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/docs/rbac-with-pattern"},"Desenli RBAC")," b\xf6l\xfcm\xfcne bak\u0131n"),(0,r.kt)("h2",{id:"rol-y\xf6neticisi"},"Rol Y\xf6neticisi"),(0,r.kt)("p",null,"Ayr\u0131nt\u0131lar i\xe7in ",(0,r.kt)("a",{parentName:"p",href:"/docs/role-managers"},"Rol Y\xf6neticileri")," b\xf6l\xfcm\xfcne bak\u0131n."))}d.isMDXComponent=!0}}]);