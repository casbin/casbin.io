"use strict";(self.webpackChunkcasbin_website_v2=self.webpackChunkcasbin_website_v2||[]).push([[5692],{3905:(e,a,t)=>{t.d(a,{Zo:()=>d,kt:()=>c});var n=t(7294);function i(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){i(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function o(e,a){if(null==e)return{};var t,n,i=function(e,a){if(null==e)return{};var t,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(i[t]=e[t]);return i}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=n.createContext({}),p=function(e){var a=n.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):l(l({},a),e)),t},d=function(e){var a=p(e.components);return n.createElement(s.Provider,{value:a},e.children)},m={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},k=n.forwardRef((function(e,a){var t=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),k=p(t),c=i,u=k["".concat(s,".").concat(c)]||k[c]||m[c]||r;return t?n.createElement(u,l(l({ref:a},d),{},{components:t})):n.createElement(u,l({ref:a},d))}));function c(e,a){var t=arguments,i=a&&a.mdxType;if("string"==typeof e||i){var r=t.length,l=new Array(r);l[0]=k;var o={};for(var s in a)hasOwnProperty.call(a,s)&&(o[s]=a[s]);o.originalType=e,o.mdxType="string"==typeof e?e:i,l[1]=o;for(var p=2;p<r;p++)l[p]=t[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,t)}k.displayName="MDXCreateElement"},375:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>p});var n=t(7462),i=(t(7294),t(3905));const r={id:"syntax-for-models",title:"Syntax for Models",description:"Modeller \u0130\xe7in S\xf6zdizimi",keywords:["syntax"],authors:["nodece"]},l=void 0,o={unversionedId:"syntax-for-models",id:"syntax-for-models",title:"Syntax for Models",description:"Modeller \u0130\xe7in S\xf6zdizimi",source:"@site/i18n/tr/docusaurus-plugin-content-docs/current/SyntaxForModels.mdx",sourceDirName:".",slug:"/syntax-for-models",permalink:"/tr/docs/syntax-for-models",draft:!1,editUrl:"https://github.com/casbin/casbin-website-v2/edit/master/docs/SyntaxForModels.mdx",tags:[],version:"current",frontMatter:{id:"syntax-for-models",title:"Syntax for Models",description:"Modeller \u0130\xe7in S\xf6zdizimi",keywords:["syntax"],authors:["nodece"]},sidebar:"docs",previous:{title:"Supported Models",permalink:"/tr/docs/supported-models"},next:{title:"Effector",permalink:"/tr/docs/effector"}},s={},p=[{value:"\u0130stek tan\u0131m\u0131",id:"i\u0307stek-tan\u0131m\u0131",level:2},{value:"Politika Tan\u0131m\u0131",id:"politika-tan\u0131m\u0131",level:2},{value:"Politika Etkisi",id:"politika-etkisi",level:2},{value:"E\u015fle\u015ftiriciler",id:"e\u015fle\u015ftiriciler",level:2},{value:"E\u015fle\u015ftiricilerde ifadelerin s\u0131ras\u0131",id:"e\u015fle\u015ftiricilerde-ifadelerin-s\u0131ras\u0131",level:3},{value:"\xc7oklu B\xf6l\xfcm Tipleri",id:"\xe7oklu-b\xf6l\xfcm-tipleri",level:2},{value:"\xd6zel Gramer",id:"\xf6zel-gramer",level:2},{value:"\u0130fade De\u011ferlendirici",id:"i\u0307fade-de\u011ferlendirici",level:2}],d=e=>function(a){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.kt)("div",a)},m=d("Tabs"),k=d("TabItem"),c={toc:p};function u(e){let{components:a,...t}=e;return(0,i.kt)("wrapper",(0,n.Z)({},c,t,{components:a,mdxType:"MDXLayout"}),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Bir model yap\u0131land\u0131rmas\u0131 (CONF), en az d\xf6rt b\xf6l\xfcm i\xe7ermelidir: ",(0,i.kt)("inlineCode",{parentName:"p"},"[request_definition]"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"[policy_definition]"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"[policy_effect]"),", ve ",(0,i.kt)("inlineCode",{parentName:"p"},"[matchers]"),".")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"E\u011fer bir model Rol Tabanl\u0131 Eri\u015fim Kontrol\xfc (RBAC) kullan\u0131yorsa, ",(0,i.kt)("inlineCode",{parentName:"p"},"[role_definition]")," b\xf6l\xfcm\xfcn\xfc de i\xe7ermelidir.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Bir model yap\u0131land\u0131rmas\u0131 (CONF) yorumlar i\xe7erebilir. Yorumlar ",(0,i.kt)("inlineCode",{parentName:"p"},"#")," sembol\xfc ile ba\u015flar ve ",(0,i.kt)("inlineCode",{parentName:"p"},"#")," sembol\xfcnden sonraki her \u015fey yorum olarak kabul edilir."))),(0,i.kt)("h2",{id:"i\u0307stek-tan\u0131m\u0131"},"\u0130stek tan\u0131m\u0131"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"[request_definition]")," b\xf6l\xfcm\xfc, ",(0,i.kt)("inlineCode",{parentName:"p"},"e.Enforce(...)")," fonksiyonundaki arg\xfcmanlar\u0131 tan\u0131mlar."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ini"},"[request_definition]\nr = sub, obj, act\n")),(0,i.kt)("p",null,"Bu \xf6rnekte, ",(0,i.kt)("inlineCode",{parentName:"p"},"sub"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"obj"),", ve ",(0,i.kt)("inlineCode",{parentName:"p"},"act")," klasik eri\u015fim \xfc\xe7l\xfcs\xfcn\xfc temsil eder: konu (eri\u015fim sa\u011flayan varl\u0131k), nesne (eri\u015filen kaynak) ve eylem (eri\u015fim y\xf6ntemi). Ancak, kendi istek format\u0131n\u0131z\u0131 \xf6zelle\u015ftirebilirsiniz. \xd6rne\u011fin, belirli bir kayna\u011f\u0131 belirtmenize gerek yoksa ",(0,i.kt)("inlineCode",{parentName:"p"},"sub, act")," kullanabilirsiniz veya iki eri\u015fim varl\u0131\u011f\u0131n\u0131z varsa ",(0,i.kt)("inlineCode",{parentName:"p"},"sub, sub2, obj, act")," kullanabilirsiniz."),(0,i.kt)("h2",{id:"politika-tan\u0131m\u0131"},"Politika Tan\u0131m\u0131"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"[policy_definition]"),", bir politika i\xe7in tan\u0131m\u0131 ifade eder. Politikan\u0131n anlam\u0131n\u0131 belirler. \xd6rne\u011fin, a\u015fa\u011f\u0131daki modelimiz var:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ini"},"[policy_definition]\np = sub, obj, act\np2 = sub, act\n")),(0,i.kt)("p",null,"Ve a\u015fa\u011f\u0131daki politikam\u0131z var (e\u011fer bir politika dosyas\u0131nda ise):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csv"},"p, alice, data1, read\np2, bob, write-all-objects\n")),(0,i.kt)("p",null,"Bir politika i\xe7indeki her sat\u0131r bir politika kural\u0131 olarak adland\u0131r\u0131l\u0131r. Her politika kural\u0131, ",(0,i.kt)("inlineCode",{parentName:"p"},"p")," veya ",(0,i.kt)("inlineCode",{parentName:"p"},"p2")," gibi bir ",(0,i.kt)("inlineCode",{parentName:"p"},"politika tipi")," ile ba\u015flar. E\u011fer birden fazla tan\u0131m varsa, politika tan\u0131m\u0131yla e\u015fle\u015ftirmek i\xe7in kullan\u0131l\u0131r. Yukar\u0131daki politikada a\u015fa\u011f\u0131daki ba\u011flama g\xf6sterilmektedir. Ba\u011flama e\u015fle\u015ftiricide kullan\u0131labilir."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"(alice, data1, read) -> (p.sub, p.obj, p.act)\n(bob, write-all-objects) -> (p2.sub, p2.act)\n")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Bir politika kural\u0131ndaki \xf6\u011feler her zaman ",(0,i.kt)("inlineCode",{parentName:"p"},"dizeler")," olarak kabul edilir. Bu konuda herhangi bir sorunuz varsa, l\xfctfen \u015fu tart\u0131\u015fmaya ba\u015fvurun: ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casbin/casbin/issues/113"},"https://github.com/casbin/casbin/issues/113"))),(0,i.kt)("h2",{id:"politika-etkisi"},"Politika Etkisi"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"[policy_effect]"),", politika etkisi i\xe7in tan\u0131md\u0131r. Birden fazla politika kural\u0131 iste\u011fe uyarlarsa, eri\u015fim iste\u011finin onaylan\u0131p onaylanmayaca\u011f\u0131n\u0131 belirler. \xd6rne\u011fin, bir kural izin verir ve di\u011feri reddeder."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ini"},"[policy_effect]\ne = some(where (p.eft == allow))\n")),(0,i.kt)("p",null,"Yukar\u0131daki politika etkisi, e\u011fer ",(0,i.kt)("inlineCode",{parentName:"p"},"izin ver")," \u015feklinde e\u015fle\u015fen herhangi bir politika kural\u0131 varsa, son etkinin ",(0,i.kt)("inlineCode",{parentName:"p"},"izin ver")," oldu\u011fu anlam\u0131na gelir (ayr\u0131ca izin-ge\xe7ersiz k\u0131lma olarak da bilinir). ",(0,i.kt)("inlineCode",{parentName:"p"},"p.eft"),", bir politika i\xe7in etkidir ve ",(0,i.kt)("inlineCode",{parentName:"p"},"izin ver")," ya da ",(0,i.kt)("inlineCode",{parentName:"p"},"reddet")," olabilir. \u0130ste\u011fe ba\u011fl\u0131d\u0131r ve varsay\u0131lan de\u011fer ",(0,i.kt)("inlineCode",{parentName:"p"},"allow")," \u015feklindedir. Yukar\u0131da belirtmedi\u011fimiz i\xe7in, varsay\u0131lan de\u011feri kullan\u0131r."),(0,i.kt)("p",null,"Politika etkisi i\xe7in ba\u015fka bir \xf6rnek:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ini"},"[policy_effect]\ne = !some(where (p.eft == deny))\n")),(0,i.kt)("p",null,"Bu, e\u011fer ",(0,i.kt)("inlineCode",{parentName:"p"},"deny")," \u015feklinde e\u015fle\u015fen bir politika kural\u0131 yoksa, son etkinin ",(0,i.kt)("inlineCode",{parentName:"p"},"allow")," (deny-override olarak da bilinir) oldu\u011fu anlam\u0131na gelir. ",(0,i.kt)("inlineCode",{parentName:"p"},"some")," demek, e\u015fle\u015fen bir politika kural\u0131n\u0131n var oldu\u011fu anlam\u0131na gelir. ",(0,i.kt)("inlineCode",{parentName:"p"},"any")," demek, t\xfcm e\u015fle\u015fen politikalar\u0131n (burada kullan\u0131lmaz) oldu\u011fu anlam\u0131na gelir. Politika etkisi, mant\u0131ksal ifadelerle bile ba\u011flant\u0131l\u0131 olabilir:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ini"},"[policy_effect]\ne = some(where (p.eft == allow)) && !some(where (p.eft == deny))\n")),(0,i.kt)("p",null,"Bu, en az bir tane ",(0,i.kt)("inlineCode",{parentName:"p"},"allow")," \u015feklinde e\u015fle\u015fen politika kural\u0131 olmas\u0131 gerekti\u011fi ve hi\xe7bir ",(0,i.kt)("inlineCode",{parentName:"p"},"deny")," \u015feklinde e\u015fle\u015fen politika kural\u0131 olmamas\u0131 gerekti\u011fi anlam\u0131na gelir. Bu \u015fekilde, hem izin verme hem de reddetme yetkilendirmeleri desteklenir ve reddetme ge\xe7ersiz k\u0131lar."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Politika etkisinin s\xf6zdizimini yukar\u0131daki gibi tasarlam\u0131\u015f olsak da, mevcut uygulamalar sadece sabit kodlanm\u0131\u015f politika etkilerini kullanmaktad\u0131r. Bunun nedeni, o seviyede esnekli\u011fe pek ihtiya\xe7 olmad\u0131\u011f\u0131n\u0131 bulmam\u0131zd\u0131r. Bu nedenle \u015fimdilik, kendi \xf6zel politikan\u0131z\u0131 \xf6zelle\u015ftirmek yerine yerle\u015fik bir politika etkisinden birini kullanmal\u0131s\u0131n\u0131z.")),(0,i.kt)("p",null,"Desteklenen yerle\u015fik politika etkileri \u015funlard\u0131r:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Politika Etkisi"),(0,i.kt)("th",{parentName:"tr",align:null},"Anlam\u0131"),(0,i.kt)("th",{parentName:"tr",align:null},"\xd6rnek"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"some(where (p.eft == allow))"),(0,i.kt)("td",{parentName:"tr",align:null},"izin-ge\xe7ersiz k\u0131lma"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/supported-models#examples"},"ACL, RBAC, vb."))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"!some(where (p.eft == deny))"),(0,i.kt)("td",{parentName:"tr",align:null},"reddet-ge\xe7ersiz k\u0131l"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/supported-models#examples"},"Reddet-ge\xe7ersiz k\u0131l"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"baz\u0131(nerede (p.eft == izin)) && !baz\u0131(nerede (p.eft == reddet))"),(0,i.kt)("td",{parentName:"tr",align:null},"izin-ve-reddet"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/supported-models#examples"},"\u0130zin-ve-reddet"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\xf6ncelik(p.eft) ","|","|"," reddet"),(0,i.kt)("td",{parentName:"tr",align:null},"\xf6ncelik"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/supported-models#examples"},"\xd6ncelik"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"konu\xd6nceli\u011fi(p.eft)"),(0,i.kt)("td",{parentName:"tr",align:null},"rol bazl\u0131 \xf6ncelik"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/supported-models#examples"},"Subject-Priority"))))),(0,i.kt)("h2",{id:"e\u015fle\u015ftiriciler"},"E\u015fle\u015ftiriciler"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"[matchers]")," politikalar i\xe7in e\u015fle\u015ftiricilerin tan\u0131m\u0131d\u0131r. E\u015fle\u015ftiriciler, politikalar\u0131n kurallar\u0131n\u0131n talebe g\xf6re nas\u0131l de\u011ferlendirilece\u011fini belirleyen ifadelerdir."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ini"},"[matchers]\nm = r.sub == p.sub && r.obj == p.obj && r.act == p.act\n")),(0,i.kt)("p",null,"Yukar\u0131daki e\u015fle\u015ftirici en basitidir ve bir talebin konusu, nesnesi ve eyleminin bir politika kural\u0131ndakiyle e\u015fle\u015fmesi gerekti\u011fi anlam\u0131na gelir."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"+, -, *, /")," gibi aritmetik operat\xf6rler ve ",(0,i.kt)("inlineCode",{parentName:"p"},"&&, ||, !")," gibi mant\u0131ksal operat\xf6rler e\u015fle\u015ftiricilerde kullan\u0131labilir."),(0,i.kt)("h3",{id:"e\u015fle\u015ftiricilerde-ifadelerin-s\u0131ras\u0131"},"E\u015fle\u015ftiricilerde ifadelerin s\u0131ras\u0131"),(0,i.kt)("p",null,"\u0130fadelerin s\u0131ras\u0131 performans\u0131 b\xfcy\xfck \xf6l\xe7\xfcde etkileyebilir. Daha fazla detay i\xe7in a\u015fa\u011f\u0131daki \xf6rne\u011fe g\xf6z at\u0131n:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'const rbac_models = `\n[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act\n\n[role_definition]\ng = _, _\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = g(r.sub, p.sub) && r.obj == p.obj && r.act == p.act\n`\n\nfunc TestManyRoles(t *testing.T) {\n\n    m, _ := model.NewModelFromString(rbac_models)\n    e, _ := NewEnforcer(m, false)\n\n    roles := []string{"admin", "manager", "developer", "tester"}\n\n    // 2500 projects\n    for nbPrj := 1; nbPrj < 2500; nbPrj++ {\n        // 4 objects and 1 role per object (so 4 roles)\n        for _, role := range roles {\n            roleDB := fmt.Sprintf("%s_project:%d", role, nbPrj)\n            objectDB := fmt.Sprintf("/projects/%d", nbPrj)\n            e.AddPolicy(roleDB, objectDB, "GET")\n        }\n        jasmineRole := fmt.Sprintf("%s_project:%d", roles[1], nbPrj)\n        e.AddGroupingPolicy("jasmine", jasmineRole)\n    }\n\n    e.AddGroupingPolicy("abu", "manager_project:1")\n    e.AddGroupingPolicy("abu", "manager_project:2499")\n\n    // With same number of policies\n    // User \'abu\' has only two roles\n    // User \'jasmine\' has many roles (1 role per policy, here 2500 roles)\n\n    request := func(subject, object, action string) {\n        t0 := time.Now()\n        resp, _ := e.Enforce(subject, object, action)\n        tElapse := time.Since(t0)\n        t.Logf("RESPONSE %-10s %s\\t %s : %5v IN: %+v", subject, object, action, resp, tElapse)\n        if tElapse > time.Millisecond*100 {\n            t.Errorf("More than 100 milliseconds for %s %s %s : %+v", subject, object, action, tElapse)\n        }\n    }\n\n    request("abu", "/projects/1", "GET")        // really fast because only 2 roles in all policies and at the beginning of the casbin_rule table\n    request("abu", "/projects/2499", "GET")     // fast because only 2 roles in all policies\n    request("jasmine", "/projects/1", "GET")    // really fast at the beginning of the casbin_rule table\n\n    request("jasmine", "/projects/2499", "GET") // slow and fails the only 1st time   <<<< pb here\n    request("jasmine", "/projects/2499", "GET") // fast maybe due to internal cache mechanism\n\n    // same issue with non-existing roles\n    // request("jasmine", "/projects/999999", "GET") // slow fails the only 1st time   <<<< pb here\n    // request("jasmine", "/projects/999999", "GET") // fast maybe due to internal cache mechanism\n}\n')),(0,i.kt)("p",null,"Uygulama s\xfcresi \xe7ok uzun olabilir, 6 saniyeye kadar."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"go test -run ^TestManyRoles$ github.com/casbin/casbin/v2 -v\n\n=== RUN   TestManyRoles\n    rbac_api_test.go:598: RESPONSE abu        /projects/1        GET :  true IN: 438.379\xb5s\n    rbac_api_test.go:598: RESPONSE abu        /projects/2499     GET :  true IN: 39.005173ms\n    rbac_api_test.go:598: RESPONSE jasmine    /projects/1        GET :  true IN: 1.774319ms\n    rbac_api_test.go:598: RESPONSE jasmine    /projects/2499     GET :  true IN: 6.164071648s\n    rbac_api_test.go:600: More than 100 milliseconds for jasmine /projects/2499 GET : 6.164071648s\n    rbac_api_test.go:598: RESPONSE jasmine    /projects/2499     GET :  true IN: 12.164122ms\n--- FAIL: TestManyRoles (6.24s)\nFAIL\nFAIL    github.com/casbin/casbin/v2     6.244s\nFAIL\n")),(0,i.kt)("p",null,"Ancak, e\u015fle\u015ftiricilerdeki ifadelerin s\u0131ras\u0131n\u0131 ayarlayarak ve fonksiyonlar gibi zaman al\u0131c\u0131 ifadeleri arkaya koyarak, y\xfcr\xfctme s\xfcresi \xe7ok k\u0131sa olacakt\u0131r."),(0,i.kt)("p",null,"Yukar\u0131daki \xf6rnekte e\u015fle\u015ftiricilerdeki ifadelerin s\u0131ras\u0131n\u0131 \u015fu \u015fekilde de\u011fi\u015ftirmek:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ini"},"[matchers]\nm = r.obj == p.obj && g(r.sub, p.sub) && r.act == p.act\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"go test -run ^TestManyRoles$ github.com/casbin/casbin/v2 -v\n=== RUN   TestManyRoles\n    rbac_api_test.go:599: RESPONSE abu        /projects/1        GET :  true IN: 786.635\xb5s\n    rbac_api_test.go:599: RESPONSE abu        /projects/2499     GET :  true IN: 4.933064ms\n    rbac_api_test.go:599: RESPONSE jasmine    /projects/1        GET :  true IN: 2.908534ms\n    rbac_api_test.go:599: RESPONSE jasmine    /projects/2499     GET :  true IN: 7.292963ms\n    rbac_api_test.go:599: RESPONSE jasmine    /projects/2499     GET :  true IN: 6.168307ms\n--- PASS: TestManyRoles (0.05s)\nPASS\nok      github.com/casbin/casbin/v2     0.053s\n")),(0,i.kt)("h2",{id:"\xe7oklu-b\xf6l\xfcm-tipleri"},"\xc7oklu B\xf6l\xfcm Tipleri"),(0,i.kt)("p",null,"E\u011fer birden fazla politikay\u0131 tan\u0131mlaman\u0131z veya birden fazla e\u015fle\u015ftiriciye ihtiyac\u0131n\u0131z varsa, ",(0,i.kt)("inlineCode",{parentName:"p"},"p2")," veya ",(0,i.kt)("inlineCode",{parentName:"p"},"m2")," \xf6rneklerini kullanabilirsiniz. Asl\u0131nda, yukar\u0131da bahsedilen d\xf6rt b\xf6l\xfcm\xfcn hepsi \xe7oklu tipler kullanabilir ve s\xf6zdizimi ",(0,i.kt)("inlineCode",{parentName:"p"},"r")," ve ard\u0131ndan bir say\u0131d\u0131r, \xf6rne\u011fin ",(0,i.kt)("inlineCode",{parentName:"p"},"r2")," veya ",(0,i.kt)("inlineCode",{parentName:"p"},"e2"),". Varsay\u0131lan olarak, bu d\xf6rt b\xf6l\xfcm bire bir e\u015fle\u015fmelidir. \xd6rne\u011fin, ",(0,i.kt)("inlineCode",{parentName:"p"},"r2")," b\xf6l\xfcm\xfcn\xfcz sadece ",(0,i.kt)("inlineCode",{parentName:"p"},"m2")," e\u015fle\u015ftiriciyi kullanarak ",(0,i.kt)("inlineCode",{parentName:"p"},"p2")," politikalar\u0131n\u0131 e\u015fle\u015ftirecektir."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"enforce")," metodunun ilk parametresi olarak bir ",(0,i.kt)("inlineCode",{parentName:"p"},"EnforceContext")," ge\xe7irebilirsiniz. ",(0,i.kt)("inlineCode",{parentName:"p"},"EnforceContext")," \u015fu \u015fekilde tan\u0131mlanm\u0131\u015ft\u0131r:"),(0,i.kt)(m,{groupId:"langs",mdxType:"Tabs"},(0,i.kt)(k,{value:"Go",label:"Go",default:!0,mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'EnforceContext{"r2","p2","e2","m2"}\ntype EnforceContext struct {\n    RType string\n    PType string\n    EType string\n    MType string\n}\n'))),(0,i.kt)(k,{value:"Node.js",label:"Node.js",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const enforceContext = new EnforceContext('r2', 'p2', 'e2', 'm2');\nclass EnforceContext {\n  constructor(rType, pType, eType, mType) {\n    this.pType = pType;\n    this.eType = eType;\n    this.mType = mType;\n    this.rType = rType;\n  }\n}\n"))),(0,i.kt)(k,{value:"Java",label:"Java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'EnforceContext enforceContext = new EnforceContext("2");\npublic class EnforceContext {\n    private String pType;\n    private String eType;\n    private String mType;\n    private String rType;\n    public EnforceContext(String suffix) {\n      this.pType = "p" + suffix;\n      this.eType = "e" + suffix;\n      this.mType = "m" + suffix;\n      this.rType = "r" + suffix;\n    }\n}\n')))),(0,i.kt)("p",null,"\u0130\u015fte bir \xf6rnek kullan\u0131m. L\xfctfen ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casbin/casbin/blob/master/examples/multiple_policy_definitions_model.conf"},"model")," ve ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casbin/casbin/blob/master/examples/multiple_policy_definitions_policy.csv"},"policy")," dosyalar\u0131na ba\u015fvurun. \u0130stek \u015fu \u015fekildedir:"),(0,i.kt)(m,{groupId:"langs",mdxType:"Tabs"},(0,i.kt)(k,{value:"Go",label:"Go",default:!0,mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'// Pass in a suffix as a parameter to NewEnforceContext, such as 2 or 3, and it will create r2, p2, etc.\nenforceContext := NewEnforceContext("2")\n// You can also specify a certain type individually\nenforceContext.EType = "e"\n// Don\'t pass in EnforceContext; the default is r, p, e, m\ne.Enforce("alice", "data2", "read")        // true\n// Pass in EnforceContext\ne.Enforce(enforceContext, struct{ Age int }{Age: 70}, "/data1", "read")        //false\ne.Enforce(enforceContext, struct{ Age int }{Age: 30}, "/data1", "read")        //true\n'))),(0,i.kt)(k,{value:"Node.js",label:"Node.js",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'// Pass in a suffix as a parameter to NewEnforceContext, such as 2 or 3, and it will create r2, p2, etc.\nconst enforceContext = new NewEnforceContext(\'2\');\n\n// You can also specify a certain type individually\nenforceContext.eType = "e"\n\n// Don\'t pass in EnforceContext; the default is r, p, e, m\ne.Enforce("alice", "data2", "read")        // true\n\n// Pass in EnforceContext\ne.Enforce(enforceContext, {Age: 70}, "/data1", "read")        //false\ne.Enforce(enforceContext, {Age: 30}, "/data1", "read")        //true\n'))),(0,i.kt)(k,{value:"Java",label:"Java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'// Pass in a suffix as a parameter to NewEnforceContext, such as 2 or 3, and it will create r2, p2, etc.\nEnforceContext enforceContext = new EnforceContext("2");\n// You can also specify a certain type individually\nenforceContext.seteType("e");\n// Don\'t pass in EnforceContext; the default is r, p, e, m\ne.enforce("alice", "data2", "read");  // true\n// Pass in EnforceContext\n// TestEvalRule is located in https://github.com/casbin/jcasbin/blob/master/src/test/java/org/casbin/jcasbin/main/AbacAPIUnitTest.java#L56\ne.enforce(enforceContext, new AbacAPIUnitTest.TestEvalRule("alice", 70), "/data1", "read"); // false\ne.enforce(enforceContext, new AbacAPIUnitTest.TestEvalRule("alice", 30), "/data1", "read"); // true\n')))),(0,i.kt)("h2",{id:"\xf6zel-gramer"},"\xd6zel Gramer"),(0,i.kt)("p",null,'Ayr\u0131ca "in" operat\xf6r\xfcn\xfc de kullanabilirsiniz, bu tek metin ad\u0131na sahip olan operat\xf6rd\xfcr. Bu operat\xf6r, sa\u011f taraftaki dizinin, sol taraftaki de\u011fere e\u015fit bir de\u011fer i\xe7erip i\xe7ermedi\u011fini kontrol eder. E\u015fitlik == operat\xf6r\xfc kullan\u0131larak belirlenir ve bu k\xfct\xfcphane de\u011ferler aras\u0131ndaki t\xfcrleri kontrol etmez. \u0130ki de\u011fer interface{}\'e d\xf6n\xfc\u015ft\xfcr\xfclebilir ve hala == ile e\u015fitlik kontrol\xfc yap\u0131labilirse, beklendi\u011fi gibi \xe7al\u0131\u015facaklard\u0131r. Dizinin parametre olarak kullan\u0131labilece\u011fini unutmay\u0131n, ancak bu bir []interface{} olmal\u0131d\u0131r.'),(0,i.kt)("p",null,"Ayr\u0131ca ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casbin/casbin/blob/277c1a2b85698272f764d71a94d2595a8d425915/examples/rbac_model_matcher_using_in_op.conf"},"rbac","_","model","_","matcher","_","using","_","in","_","op"),", ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casbin/casbin/blob/277c1a2b85698272f764d71a94d2595a8d425915/examples/keyget2_model.conf"},"keyget2","_","model")," ve ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casbin/casbin/blob/277c1a2b85698272f764d71a94d2595a8d425915/examples/keyget_model.conf"},"keyget","_","model")," dosyalar\u0131na da ba\u015fvurun."),(0,i.kt)("p",null,"\xd6rnek:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ini"},"[request_definition]\nr = sub, obj\n...\n[matchers]\nm = r.sub.Name in (r.obj.Admins)\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'e.Enforce(Sub{Name: "alice"}, Obj{Name: "a book", Admins: []interface{}{"alice", "bob"}})\n')),(0,i.kt)("h2",{id:"i\u0307fade-de\u011ferlendirici"},"\u0130fade De\u011ferlendirici"),(0,i.kt)("p",null,"Casbin'de e\u015fle\u015ftirici de\u011ferlendirme, her dilin ifade de\u011ferlendiricileri taraf\u0131ndan uygulanmaktad\u0131r. Casbin, g\xfc\xe7lerini birle\u015ftirerek birle\u015fik PERM dilini sa\u011flar. Burada sa\u011flanan model s\xf6zdizimine ek olarak, bu ifade de\u011ferlendiriciler ba\u015fka bir dil veya uygulama taraf\u0131ndan desteklenmeyebilecek ek i\u015flevler sunabilir. L\xfctfen bu i\u015flevselli\u011fi kullan\u0131rken dikkatli olun."),(0,i.kt)("p",null,"Her Casbin uygulamas\u0131 taraf\u0131ndan kullan\u0131lan ifade de\u011ferlendiriciler \u015funlard\u0131r:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Uygulama"),(0,i.kt)("th",{parentName:"tr",align:null},"Dil"),(0,i.kt)("th",{parentName:"tr",align:null},"\u0130fade De\u011ferlendirici"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Casbin"),(0,i.kt)("td",{parentName:"tr",align:null},"Golang"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://github.com/casbin/govaluate"},"https://github.com/casbin/govaluate"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"jCasbin"),(0,i.kt)("td",{parentName:"tr",align:null},"Java"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://github.com/killme2008/aviatorscript"},"https://github.com/killme2008/aviatorscript"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Node-Casbin"),(0,i.kt)("td",{parentName:"tr",align:null},"Node.js"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://github.com/donmccurdy/expression-eval"},"https://github.com/donmccurdy/expression-eval"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"PHP-Casbin"),(0,i.kt)("td",{parentName:"tr",align:null},"PHP"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://github.com/symfony/expression-language"},"https://github.com/symfony/expression-language"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"PyCasbin"),(0,i.kt)("td",{parentName:"tr",align:null},"Python"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://github.com/danthedeckie/simpleeval"},"https://github.com/danthedeckie/simpleeval"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Casbin.NET"),(0,i.kt)("td",{parentName:"tr",align:null},"C#"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://github.com/davideicardi/DynamicExpresso"},"https://github.com/davideicardi/DynamicExpresso"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Casbin4D"),(0,i.kt)("td",{parentName:"tr",align:null},"Delphi"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://github.com/casbin4d/Casbin4D/tree/master/SourceCode/Common/Third%20Party/TExpressionParser"},"https://github.com/casbin4d/Casbin4D/tree/master/SourceCode/Common/Third%20Party/TExpressionParser"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"casbin-rs"),(0,i.kt)("td",{parentName:"tr",align:null},"Rust"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://github.com/jonathandturner/rhai"},"https://github.com/jonathandturner/rhai"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"casbin-cpp"),(0,i.kt)("td",{parentName:"tr",align:null},"C++"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://github.com/ArashPartow/exprtk"},"https://github.com/ArashPartow/exprtk"))))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"E\u011fer Casbin ile bir performans sorunu ya\u015f\u0131yorsan\u0131z, muhtemelen ifade de\u011ferlendiricinin d\xfc\u015f\xfck verimlili\u011fi y\xfcz\xfcndendir. Sorunu Casbin'e veya ifade de\u011ferlendiriciye do\u011frudan dan\u0131\u015farak performans\u0131 h\u0131zland\u0131rma konusunda tavsiye alabilirsiniz. Daha fazla ayr\u0131nt\u0131 i\xe7in l\xfctfen ",(0,i.kt)("a",{parentName:"p",href:"/docs/benchmark"},"K\u0131yaslamalar")," b\xf6l\xfcm\xfcne bak\u0131n.")))}u.isMDXComponent=!0}}]);