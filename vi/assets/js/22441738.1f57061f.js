"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[2830],{4698(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"rbac-with-domains-api","title":"RBAC with Domains API","description":"M\u1ed9t API th\xe2n thi\u1ec7n h\u01a1n v\u1edbi ng\u01b0\u1eddi d\xf9ng cho RBAC v\u1edbi c\xe1c mi\u1ec1n. API n\xe0y l\xe0 m\u1ed9t t\u1eadp h\u1ee3p con c\u1ee7a API Qu\u1ea3n l\xfd. Ng\u01b0\u1eddi d\xf9ng RBAC c\xf3 th\u1ec3 s\u1eed d\u1ee5ng API n\xe0y \u0111\u1ec3 \u0111\u01a1n gi\u1ea3n h\xf3a m\xe3 c\u1ee7a h\u1ecd.","source":"@site/i18n/vi/docusaurus-plugin-content-docs/current/RBACWithDomainsAPI.mdx","sourceDirName":".","slug":"/rbac-with-domains-api","permalink":"/vi/docs/rbac-with-domains-api","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/RBACWithDomainsAPI.mdx","tags":[],"version":"current","frontMatter":{"id":"rbac-with-domains-api","title":"RBAC with Domains API","description":"M\u1ed9t API th\xe2n thi\u1ec7n h\u01a1n v\u1edbi ng\u01b0\u1eddi d\xf9ng cho RBAC v\u1edbi c\xe1c mi\u1ec1n. API n\xe0y l\xe0 m\u1ed9t t\u1eadp h\u1ee3p con c\u1ee7a API Qu\u1ea3n l\xfd. Ng\u01b0\u1eddi d\xf9ng RBAC c\xf3 th\u1ec3 s\u1eed d\u1ee5ng API n\xe0y \u0111\u1ec3 \u0111\u01a1n gi\u1ea3n h\xf3a m\xe3 c\u1ee7a h\u1ecd.","keywords":["RBAC with domains","API"],"authors":["hsluoyz"]},"sidebar":"docs","previous":{"title":"RBAC API","permalink":"/vi/docs/rbac-api"},"next":{"title":"RBAC with Conditions API","permalink":"/vi/docs/rbac-with-conditions-api"}}');var a=i(4848),l=i(8453);const o={id:"rbac-with-domains-api",title:"RBAC with Domains API",description:"M\u1ed9t API th\xe2n thi\u1ec7n h\u01a1n v\u1edbi ng\u01b0\u1eddi d\xf9ng cho RBAC v\u1edbi c\xe1c mi\u1ec1n. API n\xe0y l\xe0 m\u1ed9t t\u1eadp h\u1ee3p con c\u1ee7a API Qu\u1ea3n l\xfd. Ng\u01b0\u1eddi d\xf9ng RBAC c\xf3 th\u1ec3 s\u1eed d\u1ee5ng API n\xe0y \u0111\u1ec3 \u0111\u01a1n gi\u1ea3n h\xf3a m\xe3 c\u1ee7a h\u1ecd.",keywords:["RBAC with domains","API"],authors:["hsluoyz"]},r=void 0,d={},c=[{value:"T\xe0i li\u1ec7u tham kh\u1ea3o",id:"t\xe0i-li\u1ec7u-tham-kh\u1ea3o",level:2},{value:"<code>GetUsersForRoleInDomain()</code>",id:"getusersforroleindomain",level:3},{value:"<code>GetRolesForUserInDomain()</code>",id:"getrolesforuserindomain",level:3},{value:"<code>GetPermissionsForUserInDomain()</code>",id:"getpermissionsforuserindomain",level:3},{value:"<code>AddRoleForUserInDomain()</code>",id:"addroleforuserindomain",level:3},{value:"<code>DeleteRoleForUserInDomain()</code>",id:"deleteroleforuserindomain",level:3},{value:"<code>DeleteRolesForUserInDomain()</code>",id:"deleterolesforuserindomain",level:3},{value:"<code>GetAllUsersByDomain()</code>",id:"getallusersbydomain",level:3},{value:"<code>DeleteAllUsersByDomain()</code>",id:"deleteallusersbydomain",level:3},{value:"<code>DeleteDomains()</code>",id:"deletedomains",level:3},{value:"<code>GetAllDomains()</code>",id:"getalldomains",level:3},{value:"<code>GetAllRolesByDomain()</code>",id:"getallrolesbydomain",level:3},{value:"<code>GetImplicitUsersForResourceByDomain()</code>",id:"getimplicitusersforresourcebydomain",level:3}];function t(e){const n={admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,l.R)(),...e.components},{TabItem:i,Tabs:s}=n;return i||m("TabItem",!0),s||m("Tabs",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"This simplified API is designed for RBAC with domains. It is a subset of the Management API, making it easier for RBAC users to work with domain-based policies."}),"\n",(0,a.jsx)(n.h2,{id:"t\xe0i-li\u1ec7u-tham-kh\u1ea3o",children:"T\xe0i li\u1ec7u tham kh\u1ea3o"}),"\n",(0,a.jsxs)(n.p,{children:["Bi\u1ebfn to\xe0n c\u1ee5c ",(0,a.jsx)(n.code,{children:"e"})," \u0111\u1ea1i di\u1ec7n cho th\u1ec3 hi\u1ec7n Enforcer."]}),"\n",(0,a.jsxs)(s,{groupId:"langs",children:[(0,a.jsx)(i,{value:"Go",label:"Go",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",children:'e, err := NewEnforcer("examples/rbac_with_domains_model.conf", "examples/rbac_with_domains_policy.csv")\n'})})}),(0,a.jsx)(i,{value:"Node.js",label:"Node.js",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"const e = await newEnforcer('examples/rbac_with_domains_model.conf', 'examples/rbac_with_domains_policy.csv')\n"})})}),(0,a.jsx)(i,{value:"PHP",label:"PHP",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-php",children:"$e = new Enforcer('examples/rbac_with_domains_model.conf', 'examples/rbac_with_domains_policy.csv');\n"})})}),(0,a.jsx)(i,{value:"Python",label:"Python",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'e = casbin.Enforcer("examples/rbac_with_domains_model.conf", "examples/rbac_with_domains_policy.csv")\n'})})}),(0,a.jsx)(i,{value:".NET",label:".NET",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",children:'var e = new Enforcer("examples/rbac_with_domains_model.conf", "examples/rbac_with_domains_policy.csv");\n'})})}),(0,a.jsx)(i,{value:"Rust",label:"Rust",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-rust",children:'let mut e = Enforcer::new("examples/rbac_with_domains_model.conf", "examples/rbac_with_domains_policy.csv").await?;\n'})})}),(0,a.jsx)(i,{value:"Java",label:"Java",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'Enforcer e = new Enforcer("examples/rbac_with_domains_model.conf", "examples/rbac_with_domains_policy.csv");\n'})})})]}),"\n",(0,a.jsx)(n.h3,{id:"getusersforroleindomain",children:(0,a.jsx)(n.code,{children:"GetUsersForRoleInDomain()"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"GetUsersForRoleInDomain()"})," retrieves all users assigned to a specific role within a domain."]}),"\n",(0,a.jsx)(n.p,{children:"V\xed d\u1ee5:"}),"\n",(0,a.jsxs)(s,{groupId:"langs",children:[(0,a.jsx)(i,{value:"Go",label:"Go",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",children:'res := e.GetUsersForRoleInDomain("admin", "domain1")\n'})})}),(0,a.jsx)(i,{value:"Node.js",label:"Node.js",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:'const res = e.getUsersForRoleInDomain("admin", "domain1")\n'})})}),(0,a.jsx)(i,{value:"Python",label:"Python",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'res = e.get_users_for_role_in_domain("admin", "domain1")\n'})})})]}),"\n",(0,a.jsx)(n.h3,{id:"getrolesforuserindomain",children:(0,a.jsx)(n.code,{children:"GetRolesForUserInDomain()"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"GetRolesForUserInDomain()"})," retrieves all roles assigned to a user within a domain."]}),"\n",(0,a.jsx)(n.p,{children:"V\xed d\u1ee5:"}),"\n",(0,a.jsxs)(s,{groupId:"langs",children:[(0,a.jsx)(i,{value:"Go",label:"Go",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",children:'res := e.GetRolesForUserInDomain("admin", "domain1")\n'})})}),(0,a.jsx)(i,{value:"Node.js",label:"Node.js",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:'const res = e.getRolesForUserInDomain("alice", "domain1")\n'})})}),(0,a.jsx)(i,{value:"Python",label:"Python",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'res = e.get_roles_for_user_in_domain("alice", "domain1")\n'})})}),(0,a.jsx)(i,{value:"Java",label:"Java",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'List<String> res = e.getRolesForUserInDomain("admin", "domain1");\n'})})})]}),"\n",(0,a.jsx)(n.h3,{id:"getpermissionsforuserindomain",children:(0,a.jsx)(n.code,{children:"GetPermissionsForUserInDomain()"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"GetPermissionsForUserInDomain()"})," retrieves all permissions for a user or role within a domain."]}),"\n",(0,a.jsx)(n.p,{children:"V\xed d\u1ee5:"}),"\n",(0,a.jsxs)(s,{groupId:"langs",children:[(0,a.jsx)(i,{value:"Go",label:"Go",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",children:'res := e.GetPermissionsForUserInDomain("alice", "domain1")\n'})})}),(0,a.jsx)(i,{value:"Java",label:"Java",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'List<List<String>> res = e.getPermissionsForUserInDomain("alice", "domain1");\n'})})})]}),"\n",(0,a.jsx)(n.h3,{id:"addroleforuserindomain",children:(0,a.jsx)(n.code,{children:"AddRoleForUserInDomain()"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"AddRoleForUserInDomain()"})," assigns a role to a user within a domain. Returns ",(0,a.jsx)(n.code,{children:"false"})," if the user already has the role (no changes made)."]}),"\n",(0,a.jsx)(n.p,{children:"V\xed d\u1ee5:"}),"\n",(0,a.jsxs)(s,{groupId:"langs",children:[(0,a.jsx)(i,{value:"Go",label:"Go",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",children:'ok, err := e.AddRoleForUserInDomain("alice", "admin", "domain1")\n'})})}),(0,a.jsx)(i,{value:"Python",label:"Python",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'ok = e.add_role_for_user_in_domain("alice", "admin", "domain1")\n'})})}),(0,a.jsx)(i,{value:"Java",label:"Java",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'boolean ok = e.addRoleForUserInDomain("alice", "admin", "domain1");\n'})})})]}),"\n",(0,a.jsx)(n.h3,{id:"deleteroleforuserindomain",children:(0,a.jsx)(n.code,{children:"DeleteRoleForUserInDomain()"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"DeleteRoleForUserInDomain()"})," removes a role from a user within a domain. Returns ",(0,a.jsx)(n.code,{children:"false"})," if the user does not have the role (no changes made)."]}),"\n",(0,a.jsx)(n.p,{children:"V\xed d\u1ee5:"}),"\n",(0,a.jsxs)(s,{groupId:"langs",children:[(0,a.jsx)(i,{value:"Go",label:"Go",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",children:'ok, err := e.DeleteRoleForUserInDomain("alice", "admin", "domain1")\n'})})}),(0,a.jsx)(i,{value:"Java",label:"Java",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'boolean ok = e.deleteRoleForUserInDomain("alice", "admin", "domain1");\n'})})})]}),"\n",(0,a.jsx)(n.h3,{id:"deleterolesforuserindomain",children:(0,a.jsx)(n.code,{children:"DeleteRolesForUserInDomain()"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"DeleteRolesForUserInDomain()"})," removes all roles from a user within a domain. Returns ",(0,a.jsx)(n.code,{children:"false"})," if the user has no roles (no changes made)."]}),"\n",(0,a.jsx)(n.p,{children:"V\xed d\u1ee5:"}),"\n",(0,a.jsx)(s,{groupId:"langs",children:(0,a.jsx)(i,{value:"Go",label:"Go",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",children:'ok, err := e.DeleteRolesForUserInDomain("alice", "domain1")\n'})})})}),"\n",(0,a.jsx)(n.h3,{id:"getallusersbydomain",children:(0,a.jsx)(n.code,{children:"GetAllUsersByDomain()"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"GetAllUsersByDomain()"})," retrieves all users associated with the specified domain. Returns an empty string array if no domain is defined in the model."]}),"\n",(0,a.jsx)(n.p,{children:"V\xed d\u1ee5:"}),"\n",(0,a.jsx)(s,{groupId:"langs",children:(0,a.jsx)(i,{value:"Go",label:"Go",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",children:'res := e.GetAllUsersByDomain("domain1")\n'})})})}),"\n",(0,a.jsx)(n.h3,{id:"deleteallusersbydomain",children:(0,a.jsx)(n.code,{children:"DeleteAllUsersByDomain()"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"DeleteAllUsersByDomain()"})," removes all users associated with the specified domain. Returns ",(0,a.jsx)(n.code,{children:"false"})," if no domain is defined in the model."]}),"\n",(0,a.jsx)(n.p,{children:"V\xed d\u1ee5:"}),"\n",(0,a.jsx)(s,{groupId:"langs",children:(0,a.jsx)(i,{value:"Go",label:"Go",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",children:'ok, err := e.DeleteAllUsersByDomain("domain1")\n'})})})}),"\n",(0,a.jsx)(n.h3,{id:"deletedomains",children:(0,a.jsx)(n.code,{children:"DeleteDomains()"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"DeleteDomains()"})," removes all associated users and roles for the specified domains. If no parameters are provided, all domains are deleted."]}),"\n",(0,a.jsx)(n.p,{children:"V\xed d\u1ee5:"}),"\n",(0,a.jsx)(s,{groupId:"langs",children:(0,a.jsx)(i,{value:"Go",label:"Go",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",children:'ok, err := e.DeleteDomains("domain1", "domain2")\n'})})})}),"\n",(0,a.jsx)(n.h3,{id:"getalldomains",children:(0,a.jsx)(n.code,{children:"GetAllDomains()"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"GetAllDomains()"})," retrieves all domains."]}),"\n",(0,a.jsx)(n.p,{children:"V\xed d\u1ee5:"}),"\n",(0,a.jsx)(s,{groupId:"langs",children:(0,a.jsx)(i,{value:"Go",label:"Go",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",children:"res, _ := e.GetAllDomains()\n"})})})}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["When handling domain names that contain ",(0,a.jsx)(n.code,{children:"::"}),", unexpected behavior may occur. In Casbin, ",(0,a.jsx)(n.code,{children:"::"})," is a reserved keyword, similar to ",(0,a.jsx)(n.code,{children:"for"})," or ",(0,a.jsx)(n.code,{children:"if"})," in programming languages. Never use ",(0,a.jsx)(n.code,{children:"::"})," within a domain name."]})}),"\n",(0,a.jsx)(n.h3,{id:"getallrolesbydomain",children:(0,a.jsx)(n.code,{children:"GetAllRolesByDomain()"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"GetAllRolesByDomain()"})," retrieves all roles associated with the specified domain."]}),"\n",(0,a.jsx)(n.p,{children:"V\xed d\u1ee5:"}),"\n",(0,a.jsx)(s,{groupId:"langs",children:(0,a.jsx)(i,{value:"Go",label:"Go",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",children:'res := e.GetAllRolesByDomain("domain1")\n'})})})}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsx)(n.p,{children:"Ph\u01b0\u01a1ng ph\xe1p n\xe0y kh\xf4ng \xe1p d\u1ee5ng cho c\xe1c mi\u1ec1n c\xf3 m\u1ed1i quan h\u1ec7 k\u1ebf th\u1eeba, c\xf2n \u0111\u01b0\u1ee3c g\u1ecdi l\xe0 vai tr\xf2 ng\u1ea7m \u0111\u1ecbnh."})}),"\n",(0,a.jsx)(n.h3,{id:"getimplicitusersforresourcebydomain",children:(0,a.jsx)(n.code,{children:"GetImplicitUsersForResourceByDomain()"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"GetImplicitUsersForResourceByDomain()"})," returns implicit users based on resource and domain."]}),"\n",(0,a.jsx)(n.p,{children:"V\xed d\u1ee5:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csv",children:"p, admin, domain1, data1, read\np, admin, domain1, data1, write\np, admin, domain2, data2, read\np, admin, domain2, data2, write\ng, alice, admin, domain1\ng, bob, admin, domain2\n"})}),"\n",(0,a.jsxs)(n.p,{children:['GetImplicitUsersForResourceByDomain("data1", "domain1") s\u1ebd tr\u1ea3 v\u1ec1 ',(0,a.jsx)(n.code,{children:'[["alice", "domain1", "data1", "read"],["alice", "domain1", "data1", "write"]], nil'})]}),"\n",(0,a.jsx)(s,{groupId:"langs",children:(0,a.jsx)(i,{value:"Go",label:"Go",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",children:'ImplicitUsers, err := e.GetImplicitUsersForResourceByDomain("data1", "domain1")\n'})})})}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsx)(n.p,{children:'Ch\u1ec9 ng\u01b0\u1eddi d\xf9ng s\u1ebd \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1, vai tr\xf2 (\u0111\u1ed1i s\u1ed1 th\u1ee9 2 trong "g") s\u1ebd b\u1ecb lo\u1ea1i tr\u1eeb.'})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(t,{...e})}):t(e)}function m(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},8453(e,n,i){i.d(n,{R:()=>o,x:()=>r});var s=i(6540);const a={},l=s.createContext(a);function o(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);