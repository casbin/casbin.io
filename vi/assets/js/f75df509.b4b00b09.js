"use strict";(self.webpackChunkcasbin_website_v2=self.webpackChunkcasbin_website_v2||[]).push([[7742],{3905:(n,t,e)=>{e.d(t,{Zo:()=>p,kt:()=>m});var c=e(7294);function r(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function a(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,c)}return e}function o(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?a(Object(e),!0).forEach((function(t){r(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):a(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function i(n,t){if(null==n)return{};var e,c,r=function(n,t){if(null==n)return{};var e,c,r={},a=Object.keys(n);for(c=0;c<a.length;c++)e=a[c],t.indexOf(e)>=0||(r[e]=n[e]);return r}(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(c=0;c<a.length;c++)e=a[c],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}var h=c.createContext({}),l=function(n){var t=c.useContext(h),e=t;return n&&(e="function"==typeof n?n(t):o(o({},t),n)),e},p=function(n){var t=l(n.components);return c.createElement(h.Provider,{value:t},n.children)},s={inlineCode:"code",wrapper:function(n){var t=n.children;return c.createElement(c.Fragment,{},t)}},u=c.forwardRef((function(n,t){var e=n.components,r=n.mdxType,a=n.originalType,h=n.parentName,p=i(n,["components","mdxType","originalType","parentName"]),u=l(e),m=r,d=u["".concat(h,".").concat(m)]||u[m]||s[m]||a;return e?c.createElement(d,o(o({ref:t},p),{},{components:e})):c.createElement(d,o({ref:t},p))}));function m(n,t){var e=arguments,r=t&&t.mdxType;if("string"==typeof n||r){var a=e.length,o=new Array(a);o[0]=u;var i={};for(var h in t)hasOwnProperty.call(t,h)&&(i[h]=t[h]);i.originalType=n,i.mdxType="string"==typeof n?n:r,o[1]=i;for(var l=2;l<a;l++)o[l]=e[l];return c.createElement.apply(null,o)}return c.createElement.apply(null,e)}u.displayName="MDXCreateElement"},4169:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>h,contentTitle:()=>o,default:()=>s,frontMatter:()=>a,metadata:()=>i,toc:()=>l});var c=e(7462),r=(e(7294),e(3905));const a={id:"abac",title:"ABAC",description:"ABAC d\u1ef1a tr\xean Casbin",keywords:["ABAC","ABAC model"],authors:["hsluoyz"]},o=void 0,i={unversionedId:"abac",id:"abac",title:"ABAC",description:"ABAC d\u1ef1a tr\xean Casbin",source:"@site/i18n/vi/docusaurus-plugin-content-docs/current/ABAC.mdx",sourceDirName:".",slug:"/abac",permalink:"/vi/docs/abac",draft:!1,editUrl:"https://github.com/casbin/casbin-website-v2/edit/master/docs/ABAC.mdx",tags:[],version:"current",frontMatter:{id:"abac",title:"ABAC",description:"ABAC d\u1ef1a tr\xean Casbin",keywords:["ABAC","ABAC model"],authors:["hsluoyz"]},sidebar:"docs",previous:{title:"ReBAC",permalink:"/vi/docs/rebac"},next:{title:"BLP",permalink:"/vi/docs/blp"}},h={},l=[{value:"M\xf4 h\xecnh ABAC l\xe0 g\xec?",id:"m\xf4-h\xecnh-abac-l\xe0-g\xec",level:2},{value:"L\xe0m th\u1ebf n\xe0o \u0111\u1ec3 s\u1eed d\u1ee5ng ABAC?",id:"l\xe0m-th\u1ebf-n\xe0o-\u0111\u1ec3-s\u1eed-d\u1ee5ng-abac",level:2},{value:"M\u1edf r\u1ed9ng m\xf4 h\xecnh cho s\u1ed1 l\u01b0\u1ee3ng l\u1edbn v\xe0 ph\u1ee9c t\u1ea1p c\u1ee7a c\xe1c quy t\u1eafc ABAC",id:"m\u1edf-r\u1ed9ng-m\xf4-h\xecnh-cho-s\u1ed1-l\u01b0\u1ee3ng-l\u1edbn-v\xe0-ph\u1ee9c-t\u1ea1p-c\u1ee7a-c\xe1c-quy-t\u1eafc-abac",level:2}],p={toc:l};function s(n){let{components:t,...e}=n;return(0,r.kt)("wrapper",(0,c.Z)({},p,e,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"m\xf4-h\xecnh-abac-l\xe0-g\xec"},"M\xf4 h\xecnh ABAC l\xe0 g\xec?"),(0,r.kt)("p",null,"ABAC l\xe0 vi\u1ebft t\u1eaft c\u1ee7a Attribute-Based Access Control. N\xf3 cho ph\xe9p b\u1ea1n ki\u1ec3m so\xe1t truy c\u1eadp b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng c\xe1c thu\u1ed9c t\xednh (t\xednh ch\u1ea5t) c\u1ee7a ch\u1ee7 th\u1ec3, \u0111\u1ed1i t\u01b0\u1ee3ng ho\u1eb7c h\xe0nh \u0111\u1ed9ng thay v\xec s\u1eed d\u1ee5ng c\xe1c gi\xe1 tr\u1ecb chu\u1ed7i m\u1ed9t c\xe1ch tr\u1ef1c ti\u1ebfp. B\u1ea1n c\xf3 th\u1ec3 \u0111\xe3 nghe \u0111\u1ebfn m\u1ed9t ng\xf4n ng\u1eef \u0111i\u1ec1u khi\u1ec3n truy c\u1eadp ABAC ph\u1ee9c t\u1ea1p \u0111\u01b0\u1ee3c g\u1ecdi l\xe0 XACML. Trong khi \u0111\xf3, ABAC c\u1ee7a Casbin th\xec \u0111\u01a1n gi\u1ea3n h\u01a1n nhi\u1ec1u. Trong ABAC c\u1ee7a Casbin, b\u1ea1n c\xf3 th\u1ec3 s\u1eed d\u1ee5ng c\u1ea5u tr\xfac (structs) ho\u1eb7c c\xe1c th\u1ec3 hi\u1ec7n c\u1ee7a l\u1edbp (class instances) thay v\xec chu\u1ed7i cho c\xe1c ph\u1ea7n t\u1eed m\xf4 h\xecnh."),(0,r.kt)("p",null,"H\xe3y c\xf9ng xem x\xe9t v\xed d\u1ee5 ch\xednh th\u1ee9c v\u1ec1 ABAC:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = r.sub == r.obj.Owner\n")),(0,r.kt)("p",null,"Trong matcher, ch\xfang ta s\u1eed d\u1ee5ng ",(0,r.kt)("inlineCode",{parentName:"p"},"r.obj.Owner")," thay v\xec ",(0,r.kt)("inlineCode",{parentName:"p"},"r.obj"),". ",(0,r.kt)("inlineCode",{parentName:"p"},"r.obj")," \u0111\u01b0\u1ee3c truy\u1ec1n v\xe0o h\xe0m ",(0,r.kt)("inlineCode",{parentName:"p"},"Enforce()")," s\u1ebd l\xe0 m\u1ed9t c\u1ea5u tr\xfac ho\u1eb7c th\u1ec3 hi\u1ec7n c\u1ee7a l\u1edbp thay v\xec m\u1ed9t chu\u1ed7i. Casbin s\u1ebd s\u1eed d\u1ee5ng ph\u1ea3n chi\u1ebfu (reflection) \u0111\u1ec3 l\u1ea5y bi\u1ebfn th\xe0nh vi\xean ",(0,r.kt)("inlineCode",{parentName:"p"},"obj")," trong c\u1ea5u tr\xfac ho\u1eb7c l\u1edbp \u0111\xf3 cho b\u1ea1n."),(0,r.kt)("p",null,"\u0110\xe2y l\xe0 \u0111\u1ecbnh ngh\u0129a cho c\u1ea5u tr\xfac ho\u1eb7c l\u1edbp ",(0,r.kt)("inlineCode",{parentName:"p"},"r.obj"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},"type testResource struct {\n    Name  string\n    Owner string\n}\n")),(0,r.kt)("p",null,"N\u1ebfu b\u1ea1n mu\u1ed1n truy\u1ec1n tham s\u1ed1 cho enforcer th\xf4ng qua JSON, b\u1ea1n c\u1ea7n k\xedch ho\u1ea1t ch\u1ee9c n\u0103ng \u0111\xf3 v\u1edbi ",(0,r.kt)("inlineCode",{parentName:"p"},"e.EnableAcceptJsonRequest(true)"),"."),(0,r.kt)("p",null,"V\xed d\u1ee5:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'e, _ := NewEnforcer("examples/abac_model.conf")\ne.EnableAcceptJsonRequest(true)\n\ndata1Json := `{ "Name": "data1", "Owner": "bob"}`\n\nok, _ := e.Enforce("alice", data1Json, "read")\n')),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Cho ph\xe9p ch\u1ee9c n\u0103ng ch\u1ea5p nh\u1eadn tham s\u1ed1 JSON c\xf3 th\u1ec3 d\u1eabn \u0111\u1ebfn gi\u1ea3m hi\u1ec7u su\u1ea5t t\u1eeb 1.1 \u0111\u1ebfn 1.5 l\u1ea7n.")),(0,r.kt)("h2",{id:"l\xe0m-th\u1ebf-n\xe0o-\u0111\u1ec3-s\u1eed-d\u1ee5ng-abac"},"L\xe0m th\u1ebf n\xe0o \u0111\u1ec3 s\u1eed d\u1ee5ng ABAC?"),(0,r.kt)("p",null,"\u0110\u1ec3 s\u1eed d\u1ee5ng ABAC, b\u1ea1n c\u1ea7n l\xe0m hai vi\u1ec7c:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Ch\u1ec9 \u0111\u1ecbnh c\xe1c thu\u1ed9c t\xednh trong b\u1ed9 so kh\u1edbp m\xf4 h\xecnh."),(0,r.kt)("li",{parentName:"ol"},"Truy\u1ec1n v\xe0o th\u1ec3 hi\u1ec7n c\u1ee7a struct ho\u1eb7c l\u1edbp cho ph\u1ea7n t\u1eed nh\u01b0 m\u1ed9t \u0111\u1ed1i s\u1ed1 cho h\xe0m ",(0,r.kt)("inlineCode",{parentName:"li"},"Enforce()")," c\u1ee7a Casbin.")),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"Hi\u1ec7n t\u1ea1i, ch\u1ec9 c\xf3 c\xe1c ph\u1ea7n t\u1eed y\xeau c\u1ea7u nh\u01b0 ",(0,r.kt)("inlineCode",{parentName:"p"},"r.sub"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"r.obj"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"r.act"),", v.v... h\u1ed7 tr\u1ee3 ABAC. B\u1ea1n kh\xf4ng th\u1ec3 s\u1eed d\u1ee5ng n\xf3 tr\xean c\xe1c ph\u1ea7n t\u1eed ch\xednh s\xe1ch nh\u01b0 ",(0,r.kt)("inlineCode",{parentName:"p"},"p.sub")," v\xec kh\xf4ng c\xf3 c\xe1ch n\xe0o \u0111\u1ec3 \u0111\u1ecbnh ngh\u0129a m\u1ed9t struct ho\u1eb7c l\u1edbp trong ch\xednh s\xe1ch c\u1ee7a Casbin.")),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"B\u1ea1n c\xf3 th\u1ec3 s\u1eed d\u1ee5ng nhi\u1ec1u thu\u1ed9c t\xednh ABAC trong m\u1ed9t b\u1ed9 so kh\u1edbp. V\xed d\u1ee5: ",(0,r.kt)("inlineCode",{parentName:"p"},"m = r.sub.Domain == r.obj.Domain"),".")),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"N\u1ebfu b\u1ea1n c\u1ea7n s\u1eed d\u1ee5ng d\u1ea5u ph\u1ea9y trong m\u1ed9t ch\xednh s\xe1ch m\xe0 xung \u0111\u1ed9t v\u1edbi d\u1ea5u ph\xe2n c\xe1ch c\u1ee7a CSV, b\u1ea1n c\xf3 th\u1ec3 tho\xe1t kh\u1ecfi n\xf3 b\u1eb1ng c\xe1ch bao quanh c\xe2u l\u1ec7nh v\u1edbi d\u1ea5u ngo\u1eb7c k\xe9p. V\xed d\u1ee5, ",(0,r.kt)("inlineCode",{parentName:"p"},'"keyMatch("bob", r.sub.Role)"')," s\u1ebd kh\xf4ng b\u1ecb t\xe1ch ra.")),(0,r.kt)("h2",{id:"m\u1edf-r\u1ed9ng-m\xf4-h\xecnh-cho-s\u1ed1-l\u01b0\u1ee3ng-l\u1edbn-v\xe0-ph\u1ee9c-t\u1ea1p-c\u1ee7a-c\xe1c-quy-t\u1eafc-abac"},"M\u1edf r\u1ed9ng m\xf4 h\xecnh cho s\u1ed1 l\u01b0\u1ee3ng l\u1edbn v\xe0 ph\u1ee9c t\u1ea1p c\u1ee7a c\xe1c quy t\u1eafc ABAC"),(0,r.kt)("p",null,"Vi\u1ec7c tri\u1ec3n khai m\xf4 h\xecnh ABAC \u1edf tr\xean \u0111\u01a1n gi\u1ea3n \u1edf c\u1ed1t l\xf5i c\u1ee7a n\xf3. Tuy nhi\xean, trong nhi\u1ec1u tr\u01b0\u1eddng h\u1ee3p, h\u1ec7 th\u1ed1ng \u1ee7y quy\u1ec1n y\xeau c\u1ea7u m\u1ed9t s\u1ed1 l\u01b0\u1ee3ng l\u1edbn v\xe0 ph\u1ee9c t\u1ea1p c\u1ee7a c\xe1c quy t\u1eafc ABAC. \u0110\u1ec3 \u0111\xe1p \u1ee9ng y\xeau c\u1ea7u n\xe0y, n\xean th\xeam c\xe1c quy t\u1eafc v\xe0o ch\xednh s\xe1ch thay v\xec v\xe0o m\xf4 h\xecnh. \u0110i\u1ec1u n\xe0y c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n b\u1eb1ng c\xe1ch gi\u1edbi thi\u1ec7u m\u1ed9t c\u1ea5u tr\xfac ch\u1ee9c n\u0103ng ",(0,r.kt)("inlineCode",{parentName:"p"},"eval()"),". \u0110\xe2y l\xe0 m\u1ed9t v\xed d\u1ee5:"),(0,r.kt)("p",null,"\u0110\xe2y l\xe0 \u0111\u1ecbnh ngh\u0129a c\u1ee7a t\u1ec7p ",(0,r.kt)("inlineCode",{parentName:"p"},"CONF")," \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 \u0111\u1ecbnh ngh\u0129a m\xf4 h\xecnh ABAC."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub_rule, obj, act\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = eval(p.sub_rule) && r.obj == p.obj && r.act == p.act\n")),(0,r.kt)("p",null,"Trong v\xed d\u1ee5 n\xe0y, ",(0,r.kt)("inlineCode",{parentName:"p"},"p.sub_rule")," l\xe0 m\u1ed9t c\u1ea5u tr\xfac ho\u1eb7c l\u1edbp (ki\u1ec3u ng\u01b0\u1eddi d\xf9ng \u0111\u1ecbnh ngh\u0129a) ch\u1ee9a c\xe1c thu\u1ed9c t\xednh c\u1ea7n thi\u1ebft \u0111\u1ec3 s\u1eed d\u1ee5ng trong ch\xednh s\xe1ch."),(0,r.kt)("p",null,"\u0110\xe2y l\xe0 ch\xednh s\xe1ch \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ed1i v\u1edbi m\xf4 h\xecnh cho ",(0,r.kt)("inlineCode",{parentName:"p"},"Enforcement"),". B\xe2y gi\u1edd, b\u1ea1n c\xf3 th\u1ec3 s\u1eed d\u1ee5ng th\u1ec3 hi\u1ec7n \u0111\u1ed1i t\u01b0\u1ee3ng \u0111\u01b0\u1ee3c truy\u1ec1n v\xe0o ",(0,r.kt)("inlineCode",{parentName:"p"},"eval()")," l\xe0m tham s\u1ed1 \u0111\u1ec3 \u0111\u1ecbnh ngh\u0129a m\u1ed9t s\u1ed1 r\xe0ng bu\u1ed9c ABAC."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csv"},"p, r.sub.Age > 18, /data1, read\np, r.sub.Age < 60, /data2, write\n")))}s.isMDXComponent=!0}}]);