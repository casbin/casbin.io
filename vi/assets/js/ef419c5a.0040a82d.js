"use strict";(self.webpackChunkcasbin_website_v2=self.webpackChunkcasbin_website_v2||[]).push([[6993],{3905:(t,n,e)=>{e.d(n,{Zo:()=>h,kt:()=>d});var r=e(7294);function a(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function l(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function i(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?l(Object(e),!0).forEach((function(n){a(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):l(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function o(t,n){if(null==t)return{};var e,r,a=function(t,n){if(null==t)return{};var e,r,a={},l=Object.keys(t);for(r=0;r<l.length;r++)e=l[r],n.indexOf(e)>=0||(a[e]=t[e]);return a}(t,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)e=l[r],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(a[e]=t[e])}return a}var g=r.createContext({}),c=function(t){var n=r.useContext(g),e=n;return t&&(e="function"==typeof t?t(n):i(i({},n),t)),e},h=function(t){var n=c(t.components);return r.createElement(g.Provider,{value:n},t.children)},p={inlineCode:"code",wrapper:function(t){var n=t.children;return r.createElement(r.Fragment,{},n)}},u=r.forwardRef((function(t,n){var e=t.components,a=t.mdxType,l=t.originalType,g=t.parentName,h=o(t,["components","mdxType","originalType","parentName"]),u=c(e),d=a,m=u["".concat(g,".").concat(d)]||u[d]||p[d]||l;return e?r.createElement(m,i(i({ref:n},h),{},{components:e})):r.createElement(m,i({ref:n},h))}));function d(t,n){var e=arguments,a=n&&n.mdxType;if("string"==typeof t||a){var l=e.length,i=new Array(l);i[0]=u;var o={};for(var g in n)hasOwnProperty.call(n,g)&&(o[g]=n[g]);o.originalType=t,o.mdxType="string"==typeof t?t:a,i[1]=o;for(var c=2;c<l;c++)i[c]=e[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,e)}u.displayName="MDXCreateElement"},6238:(t,n,e)=>{e.r(n),e.d(n,{assets:()=>g,contentTitle:()=>i,default:()=>m,frontMatter:()=>l,metadata:()=>o,toc:()=>c});var r=e(7462),a=(e(7294),e(3905));const l={id:"log-error",title:"Log & Error Handling",description:"Nh\u1eadt k\xfd v\xe0 x\u1eed l\xfd l\u1ed7i trong Casbin",keywords:["log","error","error handling"],authors:["hsluoyz"]},i=void 0,o={unversionedId:"log-error",id:"log-error",title:"Log & Error Handling",description:"Nh\u1eadt k\xfd v\xe0 x\u1eed l\xfd l\u1ed7i trong Casbin",source:"@site/i18n/vi/docusaurus-plugin-content-docs/current/LogError.mdx",sourceDirName:".",slug:"/log-error",permalink:"/vi/docs/log-error",draft:!1,editUrl:"https://github.com/casbin/casbin-website-v2/edit/master/docs/LogError.mdx",tags:[],version:"current",frontMatter:{id:"log-error",title:"Log & Error Handling",description:"Nh\u1eadt k\xfd v\xe0 x\u1eed l\xfd l\u1ed7i trong Casbin",keywords:["log","error","error handling"],authors:["hsluoyz"]},sidebar:"docs",previous:{title:"Casbin Service",permalink:"/vi/docs/service"},next:{title:"Frontend Usage",permalink:"/vi/docs/frontend"}},g={},c=[{value:"Nh\u1eadt k\xfd",id:"nh\u1eadt-k\xfd",level:2},{value:"S\u1eed d\u1ee5ng c\xe1c logger kh\xe1c nhau cho c\xe1c enforcer kh\xe1c nhau",id:"s\u1eed-d\u1ee5ng-c\xe1c-logger-kh\xe1c-nhau-cho-c\xe1c-enforcer-kh\xe1c-nhau",level:3},{value:"Loggers \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3",id:"loggers-\u0111\u01b0\u1ee3c-h\u1ed7-tr\u1ee3",level:4},{value:"C\xe1ch vi\u1ebft m\u1ed9t tr\xecnh ghi nh\u1eadt k\xfd",id:"c\xe1ch-vi\u1ebft-m\u1ed9t-tr\xecnh-ghi-nh\u1eadt-k\xfd",level:4},{value:"X\u1eed l\xfd l\u1ed7i",id:"x\u1eed-l\xfd-l\u1ed7i",level:2},{value:"B\u1eadt v\xe0 t\u1eaft",id:"b\u1eadt-v\xe0-t\u1eaft",level:2}],h=t=>function(n){return console.warn("Component "+t+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.kt)("div",n)},p=h("Tabs"),u=h("TabItem"),d={toc:c};function m(t){let{components:n,...e}=t;return(0,a.kt)("wrapper",(0,r.Z)({},d,e,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"nh\u1eadt-k\xfd"},"Nh\u1eadt k\xfd"),(0,a.kt)("p",null,"Casbin s\u1eed d\u1ee5ng ",(0,a.kt)("inlineCode",{parentName:"p"},"log")," t\xedch h\u1ee3p s\u1eb5n \u0111\u1ec3 in nh\u1eadt k\xfd ra b\u1ea3ng \u0111i\u1ec1u khi\u1ec3n theo m\u1eb7c \u0111\u1ecbnh, v\xed d\u1ee5:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-log"},"2017/07/15 19:43:56 [Request: alice, data1, read ---\x3e true]\n")),(0,a.kt)("p",null,"Nh\u1eadt k\xfd kh\xf4ng \u0111\u01b0\u1ee3c b\u1eadt theo m\u1eb7c \u0111\u1ecbnh. B\u1ea1n c\xf3 th\u1ec3 b\u1eadt/t\u1eaft n\xf3 th\xf4ng qua ",(0,a.kt)("inlineCode",{parentName:"p"},"Enforcer.EnableLog()")," ho\u1eb7c tham s\u1ed1 cu\u1ed1i c\xf9ng c\u1ee7a ",(0,a.kt)("inlineCode",{parentName:"p"},"NewEnforcer()"),"."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Ch\xfang t\xf4i \u0111\xe3 h\u1ed7 tr\u1ee3 nh\u1eadt k\xfd m\xf4 h\xecnh, y\xeau c\u1ea7u \xe9p bu\u1ed9c, vai tr\xf2 v\xe0 ch\xednh s\xe1ch trong Golang. B\u1ea1n c\xf3 th\u1ec3 \u0111\u1ecbnh ngh\u0129a nh\u1eadt k\xfd ri\xeang c\u1ee7a m\xecnh \u0111\u1ec3 ghi nh\u1eadt k\xfd Casbin.\nN\u1ebfu b\u1ea1n \u0111ang s\u1eed d\u1ee5ng Python, pycasbin t\u1eadn d\u1ee5ng c\u01a1 ch\u1ebf ghi log m\u1eb7c \u0111\u1ecbnh c\u1ee7a Python. G\xf3i pycasbin th\u1ef1c hi\u1ec7n m\u1ed9t cu\u1ed9c g\u1ecdi \u0111\u1ebfn ",(0,a.kt)("inlineCode",{parentName:"p"},"logging.getLogger()")," \u0111\u1ec3 thi\u1ebft l\u1eadp logger. Kh\xf4ng c\u1ea7n c\u1ea5u h\xecnh ghi log \u0111\u1eb7c bi\u1ec7t ngo\xe0i vi\u1ec7c kh\u1edfi t\u1ea1o logger trong \u1ee9ng d\u1ee5ng cha. N\u1ebfu kh\xf4ng c\xf3 ghi log n\xe0o \u0111\u01b0\u1ee3c kh\u1edfi t\u1ea1o trong \u1ee9ng d\u1ee5ng cha, b\u1ea1n s\u1ebd kh\xf4ng th\u1ea5y b\u1ea5t k\u1ef3 th\xf4ng b\xe1o log n\xe0o t\u1eeb pycasbin. \u0110\u1ed3ng th\u1eddi, khi b\u1ea1n b\u1eadt ghi log trong pycasbin, n\xf3 s\u1ebd s\u1eed d\u1ee5ng ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/casbin/pycasbin/blob/c33cabfa0ac65cd09cf812a65e71794d64cb5132/casbin/util/log.py#L6C1-L6C1"},"c\u1ea5u h\xecnh log m\u1eb7c \u0111\u1ecbnh"),". \u0110\u1ed1i v\u1edbi c\xe1c ph\u1ea7n m\u1edf r\u1ed9ng pycasbin kh\xe1c, b\u1ea1n c\xf3 th\u1ec3 tham kh\u1ea3o ",(0,a.kt)("a",{parentName:"p",href:"https://docs.djangoproject.com/en/4.2/topics/logging/"},"t\xe0i li\u1ec7u ghi log c\u1ee7a Django")," n\u1ebfu b\u1ea1n l\xe0 ng\u01b0\u1eddi d\xf9ng Django. \u0110\u1ed1i v\u1edbi ng\u01b0\u1eddi d\xf9ng Python kh\xe1c, b\u1ea1n n\xean tham kh\u1ea3o ",(0,a.kt)("a",{parentName:"p",href:"https://docs.python.org/3/library/logging.config.html"},"t\xe0i li\u1ec7u ghi log c\u1ee7a Python")," \u0111\u1ec3 c\u1ea5u h\xecnh logger.")),(0,a.kt)("h3",{id:"s\u1eed-d\u1ee5ng-c\xe1c-logger-kh\xe1c-nhau-cho-c\xe1c-enforcer-kh\xe1c-nhau"},"S\u1eed d\u1ee5ng c\xe1c logger kh\xe1c nhau cho c\xe1c enforcer kh\xe1c nhau"),(0,a.kt)("p",null,"M\u1ed7i enforcer c\xf3 th\u1ec3 c\xf3 logger ri\xeang c\u1ee7a m\xecnh \u0111\u1ec3 ghi th\xf4ng tin, v\xe0 n\xf3 c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c thay \u0111\u1ed5i trong th\u1eddi gian ch\u1ea1y."),(0,a.kt)("p",null,"V\xe0 b\u1ea1n c\xf3 th\u1ec3 s\u1eed d\u1ee5ng m\u1ed9t logger th\xedch h\u1ee3p th\xf4ng qua tham s\u1ed1 cu\u1ed1i c\xf9ng c\u1ee7a ",(0,a.kt)("inlineCode",{parentName:"p"},"NewEnforcer()"),". N\u1ebfu b\u1ea1n \u0111ang s\u1eed d\u1ee5ng c\xe1ch n\xe0y \u0111\u1ec3 kh\u1edfi t\u1ea1o enforcer c\u1ee7a m\xecnh, b\u1ea1n kh\xf4ng c\u1ea7n s\u1eed d\u1ee5ng tham s\u1ed1 enabled v\xec m\u1ee9c \u0111\u1ed9 \u01b0u ti\xean c\u1ee7a tr\u01b0\u1eddng enabled trong logger l\xe0 cao h\u01a1n."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-go"},"// Set a default logger as enforcer e1's logger.\n// This operation can also be seen as changing the logger of e1 at runtime.\ne1.SetLogger(&Log.DefaultLogger{})\n\n// Set another logger as enforcer e2's logger.\ne2.SetLogger(&YouOwnLogger)\n\n// Set your logger when initializing enforcer e3.\ne3, _ := casbin.NewEnforcer(\"examples/rbac_model.conf\", a, logger)\n")),(0,a.kt)("h4",{id:"loggers-\u0111\u01b0\u1ee3c-h\u1ed7-tr\u1ee3"},"Loggers \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3"),(0,a.kt)("p",null,"Ch\xfang t\xf4i cung c\u1ea5p m\u1ed9t s\u1ed1 loggers \u0111\u1ec3 gi\xfap b\u1ea1n ghi l\u1ea1i th\xf4ng tin."),(0,a.kt)(p,{groupId:"langs",mdxType:"Tabs"},(0,a.kt)(u,{value:"Go",label:"Go",default:!0,mdxType:"TabItem"},(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Logger"),(0,a.kt)("th",{parentName:"tr",align:null},"T\xe1c gi\u1ea3"),(0,a.kt)("th",{parentName:"tr",align:null},"M\xf4 t\u1ea3"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/casbin/casbin/blob/master/log/default_logger.go"},"Logger m\u1eb7c \u0111\u1ecbnh (built-in)")),(0,a.kt)("td",{parentName:"tr",align:null},"Casbin"),(0,a.kt)("td",{parentName:"tr",align:null},"Logger m\u1eb7c \u0111\u1ecbnh s\u1eed d\u1ee5ng golang log.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/casbin/zap-logger"},"Zap logger")),(0,a.kt)("td",{parentName:"tr",align:null},"Casbin"),(0,a.kt)("td",{parentName:"tr",align:null},"S\u1eed d\u1ee5ng ",(0,a.kt)("a",{parentName:"td",href:"https://github.com/uber-go/zap"},"zap"),", cung c\u1ea5p nh\u1eadt k\xfd \u0111\u01b0\u1ee3c m\xe3 h\xf3a JSON v\xe0 b\u1ea1n c\xf3 th\u1ec3 t\xf9y ch\u1ec9nh nhi\u1ec1u h\u01a1n v\u1edbi zap-logger c\u1ee7a ri\xeang m\xecnh."))))),(0,a.kt)(u,{value:"PHP",label:"PHP",mdxType:"TabItem"},(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Tr\xecnh ghi nh\u1eadt k\xfd"),(0,a.kt)("th",{parentName:"tr",align:null},"T\xe1c gi\u1ea3"),(0,a.kt)("th",{parentName:"tr",align:null},"M\xf4 t\u1ea3"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/php-casbin/psr3-bridge"},"psr3-bridge logger")),(0,a.kt)("td",{parentName:"tr",align:null},"Casbin"),(0,a.kt)("td",{parentName:"tr",align:null},"Cung c\u1ea5p m\u1ed9t c\u1ea7u n\u1ed1i tu\xe2n th\u1ee7 ",(0,a.kt)("a",{parentName:"td",href:"https://www.php-fig.org/psr/psr-3/"},"PSR-3"),".")))))),(0,a.kt)("h4",{id:"c\xe1ch-vi\u1ebft-m\u1ed9t-tr\xecnh-ghi-nh\u1eadt-k\xfd"},"C\xe1ch vi\u1ebft m\u1ed9t tr\xecnh ghi nh\u1eadt k\xfd"),(0,a.kt)("p",null,"Tr\xecnh ghi nh\u1eadt k\xfd c\u1ee7a b\u1ea1n n\xean tri\u1ec3n khai giao di\u1ec7n ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/casbin/casbin/blob/master/log/logger.go#L20"},"Logger"),"."),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Ph\u01b0\u01a1ng th\u1ee9c"),(0,a.kt)("th",{parentName:"tr",align:null},"Ki\u1ec3u"),(0,a.kt)("th",{parentName:"tr",align:null},"M\xf4 t\u1ea3"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"EnableLog()"),(0,a.kt)("td",{parentName:"tr",align:null},"b\u1eaft bu\u1ed9c"),(0,a.kt)("td",{parentName:"tr",align:null},"Ki\u1ec3m so\xe1t vi\u1ec7c in th\xf4ng \u0111i\u1ec7p.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"IsEnabled()"),(0,a.kt)("td",{parentName:"tr",align:null},"b\u1eaft bu\u1ed9c"),(0,a.kt)("td",{parentName:"tr",align:null},"Hi\u1ec3n th\u1ecb tr\u1ea1ng th\xe1i k\xedch ho\u1ea1t hi\u1ec7n t\u1ea1i c\u1ee7a tr\xecnh ghi nh\u1eadt k\xfd.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"LogModel()"),(0,a.kt)("td",{parentName:"tr",align:null},"b\u1eaft bu\u1ed9c"),(0,a.kt)("td",{parentName:"tr",align:null},"Ghi l\u1ea1i th\xf4ng tin li\xean quan \u0111\u1ebfn m\xf4 h\xecnh.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"LogEnforce()"),(0,a.kt)("td",{parentName:"tr",align:null},"b\u1eaft bu\u1ed9c"),(0,a.kt)("td",{parentName:"tr",align:null},"Ghi l\u1ea1i th\xf4ng tin li\xean quan \u0111\u1ebfn vi\u1ec7c th\u1ef1c thi.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"LogRole()"),(0,a.kt)("td",{parentName:"tr",align:null},"b\u1eaft bu\u1ed9c"),(0,a.kt)("td",{parentName:"tr",align:null},"Ghi l\u1ea1i th\xf4ng tin li\xean quan \u0111\u1ebfn vai tr\xf2.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"LogPolicy()"),(0,a.kt)("td",{parentName:"tr",align:null},"b\u1eaft bu\u1ed9c"),(0,a.kt)("td",{parentName:"tr",align:null},"Ghi l\u1ea1i th\xf4ng tin li\xean quan \u0111\u1ebfn ch\xednh s\xe1ch.")))),(0,a.kt)("p",null,"B\u1ea1n c\xf3 th\u1ec3 truy\u1ec1n ",(0,a.kt)("inlineCode",{parentName:"p"},"logger")," t\xf9y ch\u1ec9nh c\u1ee7a m\xecnh v\xe0o ",(0,a.kt)("inlineCode",{parentName:"p"},"Enforcer.SetLogger()"),"."),(0,a.kt)("p",null,"\u0110\xe2y l\xe0 m\u1ed9t v\xed d\u1ee5 v\u1ec1 c\xe1ch t\xf9y ch\u1ec9nh m\u1ed9t logger cho Golang:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-go"},'import (\n    "fmt"\n    "log"\n    "strings"\n)\n\n// DefaultLogger is the implementation for a Logger using golang log.\ntype DefaultLogger struct {\n    enabled bool\n}\n\nfunc (l *DefaultLogger) EnableLog(enable bool) {\n    l.enabled = enable\n}\n\nfunc (l *DefaultLogger) IsEnabled() bool {\n    return l.enabled\n}\n\nfunc (l *DefaultLogger) LogModel(model [][]string) {\n    if !l.enabled {\n        return\n    }\n    var str strings.Builder\n    str.WriteString("Model: ")\n    for _, v := range model {\n        str.WriteString(fmt.Sprintf("%v\\n", v))\n    }\n\n    log.Println(str.String())\n}\n\nfunc (l *DefaultLogger) LogEnforce(matcher string, request []interface{}, result bool, explains [][]string) {\n    if !l.enabled {\n        return\n    }\n\n    var reqStr strings.Builder\n    reqStr.WriteString("Request: ")\n    for i, rval := range request {\n        if i != len(request)-1 {\n            reqStr.WriteString(fmt.Sprintf("%v, ", rval))\n        } else {\n            reqStr.WriteString(fmt.Sprintf("%v", rval))\n        }\n    }\n    reqStr.WriteString(fmt.Sprintf(" ---\x3e %t\\n", result))\n\n    reqStr.WriteString("Hit Policy: ")\n    for i, pval := range explains {\n        if i != len(explains)-1 {\n            reqStr.WriteString(fmt.Sprintf("%v, ", pval))\n        } else {\n            reqStr.WriteString(fmt.Sprintf("%v \\n", pval))\n        }\n    }\n\n    log.Println(reqStr.String())\n}\n\nfunc (l *DefaultLogger) LogPolicy(policy map[string][][]string) {\n    if !l.enabled {\n        return\n    }\n\n    var str strings.Builder\n    str.WriteString("Policy: ")\n    for k, v := range policy {\n        str.WriteString(fmt.Sprintf("%s : %v\\n", k, v))\n    }\n\n    log.Println(str.String())\n}\n\nfunc (l *DefaultLogger) LogRole(roles []string) {\n    if !l.enabled {\n        return\n    }\n\n    log.Println("Roles: ", roles)\n}\n')),(0,a.kt)("h2",{id:"x\u1eed-l\xfd-l\u1ed7i"},"X\u1eed l\xfd l\u1ed7i"),(0,a.kt)("p",null,"L\u1ed7i ho\u1eb7c s\u1ef1 c\u1ed1 c\xf3 th\u1ec3 x\u1ea3y ra khi b\u1ea1n s\u1eed d\u1ee5ng Casbin v\xec nh\u1eefng l\xfd do nh\u01b0:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"C\xfa ph\xe1p kh\xf4ng h\u1ee3p l\u1ec7 trong t\u1ec7p m\xf4 h\xecnh (.conf)."),(0,a.kt)("li",{parentName:"ol"},"C\xfa ph\xe1p kh\xf4ng h\u1ee3p l\u1ec7 trong t\u1ec7p ch\xednh s\xe1ch (.csv)."),(0,a.kt)("li",{parentName:"ol"},"L\u1ed7i t\xf9y ch\u1ec9nh t\u1eeb c\xe1c b\u1ed9 \u0111i\u1ec1u h\u1ee3p l\u01b0u tr\u1eef, v\xed d\u1ee5: MySQL kh\xf4ng th\u1ec3 k\u1ebft n\u1ed1i."),(0,a.kt)("li",{parentName:"ol"},"L\u1ed7i t\u1eeb Casbin.")),(0,a.kt)("p",null,"C\xf3 n\u0103m ch\u1ee9c n\u0103ng ch\xednh m\xe0 b\u1ea1n c\xf3 th\u1ec3 c\u1ea7n ph\u1ea3i bi\u1ebft \u0111\u1ec3 x\u1eed l\xfd l\u1ed7i ho\u1eb7c s\u1ef1 c\u1ed1:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Ch\u1ee9c n\u0103ng"),(0,a.kt)("th",{parentName:"tr",align:null},"H\xe0nh vi khi g\u1eb7p l\u1ed7i"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://godoc.org/github.com/casbin/casbin#NewEnforcer"},"NewEnforcer()")),(0,a.kt)("td",{parentName:"tr",align:null},"Tr\u1ea3 v\u1ec1 m\u1ed9t l\u1ed7i")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://godoc.org/github.com/casbin/casbin#Enforcer.LoadModel"},"LoadModel()")),(0,a.kt)("td",{parentName:"tr",align:null},"Tr\u1ea3 v\u1ec1 m\u1ed9t l\u1ed7i")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://godoc.org/github.com/casbin/casbin#Enforcer.LoadPolicy"},"LoadPolicy()")),(0,a.kt)("td",{parentName:"tr",align:null},"Tr\u1ea3 v\u1ec1 m\u1ed9t l\u1ed7i")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://godoc.org/github.com/casbin/casbin#Enforcer.SavePolicy"},"SavePolicy()")),(0,a.kt)("td",{parentName:"tr",align:null},"Tr\u1ea3 v\u1ec1 m\u1ed9t l\u1ed7i")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://godoc.org/github.com/casbin/casbin#Enforcer.Enforce"},"Enforce()")),(0,a.kt)("td",{parentName:"tr",align:null},"Tr\u1ea3 v\u1ec1 m\u1ed9t l\u1ed7i")))),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("inlineCode",{parentName:"p"},"NewEnforcer()")," g\u1ecdi ",(0,a.kt)("inlineCode",{parentName:"p"},"LoadModel()")," v\xe0 ",(0,a.kt)("inlineCode",{parentName:"p"},"LoadPolicy()")," b\xean trong. V\xec v\u1eady, b\u1ea1n kh\xf4ng c\u1ea7n ph\u1ea3i g\u1ecdi hai h\xe0m sau khi s\u1eed d\u1ee5ng ",(0,a.kt)("inlineCode",{parentName:"p"},"NewEnforcer()"),".")),(0,a.kt)("h2",{id:"b\u1eadt-v\xe0-t\u1eaft"},"B\u1eadt v\xe0 t\u1eaft"),(0,a.kt)("p",null,"B\u1ed9 th\u1ef1c thi c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c t\u1eaft th\xf4ng qua h\xe0m ",(0,a.kt)("inlineCode",{parentName:"p"},"Enforcer.EnableEnforce()"),". Khi n\xf3 b\u1ecb t\u1eaft, ",(0,a.kt)("inlineCode",{parentName:"p"},"Enforcer.Enforce()")," s\u1ebd lu\xf4n tr\u1ea3 v\u1ec1 ",(0,a.kt)("inlineCode",{parentName:"p"},"true"),". C\xe1c thao t\xe1c kh\xe1c nh\u01b0 th\xeam ho\u1eb7c x\xf3a ch\xednh s\xe1ch kh\xf4ng b\u1ecb \u1ea3nh h\u01b0\u1edfng. \u0110\xe2y l\xe0 m\u1ed9t v\xed d\u1ee5:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-go"},'e := casbin.NewEnforcer("examples/basic_model.conf", "examples/basic_policy.csv")\n\n// Will return false.\n// By default, the enforcer is enabled.\ne.Enforce("non-authorized-user", "data1", "read")\n\n// Disable the enforcer at runtime.\ne.EnableEnforce(false)\n\n// Will return true for any request.\ne.Enforce("non-authorized-user", "data1", "read")\n\n// Enable the enforcer again.\ne.EnableEnforce(true)\n\n// Will return false.\ne.Enforce("non-authorized-user", "data1", "read")\n')))}m.isMDXComponent=!0}}]);