"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[2579],{2549(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"syntax-for-models","title":"Syntax for Models","description":"Sintaks untuk Model","source":"@site/i18n/id/docusaurus-plugin-content-docs/current/SyntaxForModels.mdx","sourceDirName":".","slug":"/syntax-for-models","permalink":"/id/docs/syntax-for-models","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/SyntaxForModels.mdx","tags":[],"version":"current","frontMatter":{"id":"syntax-for-models","title":"Syntax for Models","description":"Sintaks untuk Model","keywords":["syntax"],"authors":["nodece"]},"sidebar":"docs","previous":{"title":"Supported Models","permalink":"/id/docs/supported-models"},"next":{"title":"Effector","permalink":"/id/docs/effector"}}');var t=s(4848),r=s(8453);const a={id:"syntax-for-models",title:"Syntax for Models",description:"Sintaks untuk Model",keywords:["syntax"],authors:["nodece"]},o=void 0,c={},l=[{value:"Definisi permintaan",id:"definisi-permintaan",level:2},{value:"Definisi Kebijakan",id:"definisi-kebijakan",level:2},{value:"Efek Kebijakan",id:"efek-kebijakan",level:2},{value:"Constraint Definition",id:"constraint-definition",level:2},{value:"Constraint Types",id:"constraint-types",level:3},{value:"How Constraints Work",id:"how-constraints-work",level:3},{value:"Pemadanan (Matchers)",id:"pemadanan-matchers",level:2},{value:"Urutan ekspresi dalam pemadanan",id:"urutan-ekspresi-dalam-pemadanan",level:3},{value:"Beberapa Jenis Bagian",id:"beberapa-jenis-bagian",level:2},{value:"Tata Bahasa Khusus",id:"tata-bahasa-khusus",level:2},{value:"Evaluator Ekspresi",id:"evaluator-ekspresi",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components},{TabItem:s,Tabs:i}=n;return s||p("TabItem",!0),i||p("Tabs",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["A model configuration (CONF) requires at minimum four sections: ",(0,t.jsx)(n.code,{children:"[request_definition]"}),", ",(0,t.jsx)(n.code,{children:"[policy_definition]"}),", ",(0,t.jsx)(n.code,{children:"[policy_effect]"}),", and ",(0,t.jsx)(n.code,{children:"[matchers]"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Models implementing Role-Based Access Control (RBAC) must additionally include a ",(0,t.jsx)(n.code,{children:"[role_definition]"})," section."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Models requiring policy invariant enforcement for RBAC may optionally include a ",(0,t.jsx)(n.code,{children:"[constraint_definition]"})," section."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Model configuration (CONF) files support comments. The ",(0,t.jsx)(n.code,{children:"#"})," symbol initiates a comment, treating all subsequent text on that line as commentary."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"definisi-permintaan",children:"Definisi permintaan"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"[request_definition]"})," section specifies the parameters passed to the ",(0,t.jsx)(n.code,{children:"e.Enforce(...)"})," function."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:"[request_definition]\nr = sub, obj, act\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Here, ",(0,t.jsx)(n.code,{children:"sub"}),", ",(0,t.jsx)(n.code,{children:"obj"}),", and ",(0,t.jsx)(n.code,{children:"act"})," represent the traditional access control triple: subject (requesting entity), object (target resource), and action (operation type). This format is customizable\u2014use ",(0,t.jsx)(n.code,{children:"sub, act"})," when resources needn't be specified, or ",(0,t.jsx)(n.code,{children:"sub, sub2, obj, act"})," when two requesting entities are involved."]}),"\n",(0,t.jsx)(n.h2,{id:"definisi-kebijakan",children:"Definisi Kebijakan"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"[policy_definition]"})," describes policy structure and semantics. Consider this model:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:"[policy_definition]\np = sub, obj, act\np2 = sub, act\n"})}),"\n",(0,t.jsx)(n.p,{children:"With this corresponding policy (from a policy file):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csv",children:"p, alice, data1, read\np2, bob, write-all-objects\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Policy rules are organized as lines in the policy file. Each rule begins with a ",(0,t.jsx)(n.code,{children:"policy type"})," identifier (like ",(0,t.jsx)(n.code,{children:"p"})," or ",(0,t.jsx)(n.code,{children:"p2"}),") that matches one of your policy definitions when multiple exist. The policy above creates these bindings for matcher use:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"(alice, data1, read) -> (p.sub, p.obj, p.act)\n(bob, write-all-objects) -> (p2.sub, p2.act)\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Policy rule elements are always interpreted as ",(0,t.jsx)(n.code,{children:"strings"}),". For questions about this behavior, consult the discussion at: ",(0,t.jsx)(n.a,{href:"https://github.com/casbin/casbin/issues/113",children:"https://github.com/casbin/casbin/issues/113"})]})}),"\n",(0,t.jsx)(n.h2,{id:"efek-kebijakan",children:"Efek Kebijakan"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"[policy_effect]"})," section determines request approval when multiple matching policies exist\u2014for instance, when one permits and another denies."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:"[policy_effect]\ne = some(where (p.eft == allow))\n"})}),"\n",(0,t.jsxs)(n.p,{children:['This policy effect implements "allow-override": when any matched policy grants ',(0,t.jsx)(n.code,{children:"allow"}),", the final decision is ",(0,t.jsx)(n.code,{children:"allow"}),". The ",(0,t.jsx)(n.code,{children:"p.eft"})," field contains a policy's effect, taking values of either ",(0,t.jsx)(n.code,{children:"allow"})," or ",(0,t.jsx)(n.code,{children:"deny"}),". This field is optional and defaults to ",(0,t.jsx)(n.code,{children:"allow"}),"\u2014since we omitted it above, the default applies."]}),"\n",(0,t.jsx)(n.p,{children:"Here's an alternative policy effect:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:"[policy_effect]\ne = !some(where (p.eft == deny))\n"})}),"\n",(0,t.jsxs)(n.p,{children:['This implements "deny-override": the final effect is ',(0,t.jsx)(n.code,{children:"allow"})," when no ",(0,t.jsx)(n.code,{children:"deny"})," policies match. Here, ",(0,t.jsx)(n.code,{children:"some"})," indicates at least one matching policy exists, while ",(0,t.jsx)(n.code,{children:"any"})," means all policies match (though not used in this example). Policy effects can combine using logical expressions:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:"[policy_effect]\ne = some(where (p.eft == allow)) && !some(where (p.eft == deny))\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This requires at least one ",(0,t.jsx)(n.code,{children:"allow"})," policy and zero ",(0,t.jsx)(n.code,{children:"deny"})," policies. Both allow and deny authorizations are supported, with deny taking priority over allow."]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"While we designed the policy effect syntax shown above, current implementations use hard-coded policy effects. We discovered limited need for this level of customization. Consequently, you must select from the built-in policy effects rather than defining custom ones."})}),"\n",(0,t.jsx)(n.p,{children:"Available built-in policy effects:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Efek Kebijakan"}),(0,t.jsx)(n.th,{children:"Arti"}),(0,t.jsx)(n.th,{children:"Contoh"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"some(where (p.eft == allow))"}),(0,t.jsx)(n.td,{children:"izinkan-override"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/supported-models#examples",children:"ACL, RBAC, dll."})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"!some(where (p.eft == deny))"}),(0,t.jsx)(n.td,{children:"tolak-menggantikan"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/supported-models#examples",children:"Tolak-menggantikan"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"beberapa(di mana (p.eft == izinkan)) && !beberapa(di mana (p.eft == tolak))"}),(0,t.jsx)(n.td,{children:"izinkan-dan-tolak"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/supported-models#examples",children:"Izinkan-dan-tolak"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"prioritas(p.eft) || tolak"}),(0,t.jsx)(n.td,{children:"prioritas"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/supported-models#examples",children:"Prioritas"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"prioritasSubjek(p.eft)"}),(0,t.jsx)(n.td,{children:"prioritas berdasarkan peran"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/supported-models#examples",children:"Subjek-Prioritas"})})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"constraint-definition",children:"Constraint Definition"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"[constraint_definition]"})," section establishes policy invariants for RBAC systems. Constraints maintain role assignment validity by verifying rules whenever policies change. This optional section requires RBAC enablement (necessitating ",(0,t.jsx)(n.code,{children:"[role_definition]"}),")."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:'[constraint_definition]\nc = sod("finance_requester", "finance_approver")\nc2 = sodMax(["payroll_view", "payroll_edit", "payroll_approve"], 1)\nc3 = roleMax("superadmin", 2)\nc4 = rolePre("db_admin", "security_trained")\n'})}),"\n",(0,t.jsx)(n.h3,{id:"constraint-types",children:"Constraint Types"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Separation of Duties (sod)"})," - Blocks users from simultaneously holding conflicting roles. When Alice receives the ",(0,t.jsx)(n.code,{children:"finance_requester"})," role, the system prevents assigning her ",(0,t.jsx)(n.code,{children:"finance_approver"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:'c = sod("finance_requester", "finance_approver")\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Separation of Duties Max (sodMax)"})," - Restricts the number of roles from a set that each user may hold. Setting ",(0,t.jsx)(n.code,{children:"sodMax"})," to 1 for payroll operations means a user can view, edit, or approve\u2014never possessing more than one of these roles concurrently."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:'c2 = sodMax(["payroll_view", "payroll_edit", "payroll_approve"], 1)\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Role Cardinality (roleMax)"})," - Limits how many users can possess a specific role. Setting a limit of 2 for ",(0,t.jsx)(n.code,{children:"superadmin"})," restricts that role to two people organization-wide."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:'c3 = roleMax("superadmin", 2)\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Prerequisite Role (rolePre)"})," - Requires having a prerequisite role before granting another role. Users cannot receive ",(0,t.jsx)(n.code,{children:"db_admin"})," access without first possessing the ",(0,t.jsx)(n.code,{children:"security_trained"})," role."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:'c4 = rolePre("db_admin", "security_trained")\n'})}),"\n",(0,t.jsx)(n.h3,{id:"how-constraints-work",children:"How Constraints Work"}),"\n",(0,t.jsxs)(n.p,{children:["Constraints perform automatic validation during grouping policy modifications via methods like ",(0,t.jsx)(n.code,{children:"AddGroupingPolicy()"})," or ",(0,t.jsx)(n.code,{children:"RemoveGroupingPolicy()"}),". When changes violate constraints, the operations fail and return constraint violation errors, leaving policies unchanged."]}),"\n",(0,t.jsx)(n.p,{children:"At model initialization, the system verifies all existing constraints against current policies. Invalid constraints (incorrect syntax, missing RBAC configuration, or violations of existing data) prevent model loading and generate descriptive errors."}),"\n",(0,t.jsx)(n.h2,{id:"pemadanan-matchers",children:"Pemadanan (Matchers)"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"[matchers]"})," section specifies how policy rules evaluate against requests."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:"[matchers]\nm = r.sub == p.sub && r.obj == p.obj && r.act == p.act\n"})}),"\n",(0,t.jsx)(n.p,{children:"This represents the most basic matcher, requiring that request subject, object, and action match corresponding policy rule fields."}),"\n",(0,t.jsxs)(n.p,{children:["Matchers support arithmetic operators (",(0,t.jsx)(n.code,{children:"+, -, *, /"}),") and logical operators (",(0,t.jsx)(n.code,{children:"&&, ||, !"}),")."]}),"\n",(0,t.jsx)(n.h3,{id:"urutan-ekspresi-dalam-pemadanan",children:"Urutan ekspresi dalam pemadanan"}),"\n",(0,t.jsx)(n.p,{children:"Expression ordering significantly impacts performance. Review the following example for details:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:'const rbac_models = `\n[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act\n\n[role_definition]\ng = _, _\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = g(r.sub, p.sub) && r.obj == p.obj && r.act == p.act\n`\n\nfunc TestManyRoles(t *testing.T) {\n\n    m, _ := model.NewModelFromString(rbac_models)\n    e, _ := NewEnforcer(m, false)\n\n    roles := []string{"admin", "manager", "developer", "tester"}\n\n    // 2500 projects\n    for nbPrj := 1; nbPrj < 2500; nbPrj++ {\n        // 4 objects and 1 role per object (so 4 roles)\n        for _, role := range roles {\n            roleDB := fmt.Sprintf("%s_project:%d", role, nbPrj)\n            objectDB := fmt.Sprintf("/projects/%d", nbPrj)\n            e.AddPolicy(roleDB, objectDB, "GET")\n        }\n        jasmineRole := fmt.Sprintf("%s_project:%d", roles[1], nbPrj)\n        e.AddGroupingPolicy("jasmine", jasmineRole)\n    }\n\n    e.AddGroupingPolicy("abu", "manager_project:1")\n    e.AddGroupingPolicy("abu", "manager_project:2499")\n\n    // With same number of policies\n    // User \'abu\' has only two roles\n    // User \'jasmine\' has many roles (1 role per policy, here 2500 roles)\n\n    request := func(subject, object, action string) {\n        t0 := time.Now()\n        resp, _ := e.Enforce(subject, object, action)\n        tElapse := time.Since(t0)\n        t.Logf("RESPONSE %-10s %s\\t %s : %5v IN: %+v", subject, object, action, resp, tElapse)\n        if tElapse > time.Millisecond*100 {\n            t.Errorf("More than 100 milliseconds for %s %s %s : %+v", subject, object, action, tElapse)\n        }\n    }\n\n    request("abu", "/projects/1", "GET")        // really fast because only 2 roles in all policies and at the beginning of the casbin_rule table\n    request("abu", "/projects/2499", "GET")     // fast because only 2 roles in all policies\n    request("jasmine", "/projects/1", "GET")    // really fast at the beginning of the casbin_rule table\n\n    request("jasmine", "/projects/2499", "GET") // slow and fails the only 1st time   <<<< pb here\n    request("jasmine", "/projects/2499", "GET") // fast maybe due to internal cache mechanism\n\n    // same issue with non-existing roles\n    // request("jasmine", "/projects/999999", "GET") // slow fails the only 1st time   <<<< pb here\n    // request("jasmine", "/projects/999999", "GET") // fast maybe due to internal cache mechanism\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Enforcement duration can reach 6 seconds."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"go test -run ^TestManyRoles$ github.com/casbin/casbin/v3 -v\n\n=== RUN   TestManyRoles\n    rbac_api_test.go:598: RESPONSE abu        /projects/1        GET :  true IN: 438.379\xb5s\n    rbac_api_test.go:598: RESPONSE abu        /projects/2499     GET :  true IN: 39.005173ms\n    rbac_api_test.go:598: RESPONSE jasmine    /projects/1        GET :  true IN: 1.774319ms\n    rbac_api_test.go:598: RESPONSE jasmine    /projects/2499     GET :  true IN: 6.164071648s\n    rbac_api_test.go:600: More than 100 milliseconds for jasmine /projects/2499 GET : 6.164071648s\n    rbac_api_test.go:598: RESPONSE jasmine    /projects/2499     GET :  true IN: 12.164122ms\n--- FAIL: TestManyRoles (6.24s)\nFAIL\nFAIL    github.com/casbin/casbin/v3     6.244s\nFAIL\n"})}),"\n",(0,t.jsx)(n.p,{children:"Reordering matcher expressions by placing expensive operations (like functions) later dramatically reduces execution time."}),"\n",(0,t.jsx)(n.p,{children:"Modifying the matcher expression order in the previous example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:"[matchers]\nm = r.obj == p.obj && g(r.sub, p.sub) && r.act == p.act\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"go test -run ^TestManyRoles$ github.com/casbin/casbin/v3 -v\n=== RUN   TestManyRoles\n    rbac_api_test.go:599: RESPONSE abu        /projects/1        GET :  true IN: 786.635\xb5s\n    rbac_api_test.go:599: RESPONSE abu        /projects/2499     GET :  true IN: 4.933064ms\n    rbac_api_test.go:599: RESPONSE jasmine    /projects/1        GET :  true IN: 2.908534ms\n    rbac_api_test.go:599: RESPONSE jasmine    /projects/2499     GET :  true IN: 7.292963ms\n    rbac_api_test.go:599: RESPONSE jasmine    /projects/2499     GET :  true IN: 6.168307ms\n--- PASS: TestManyRoles (0.05s)\nPASS\nok      github.com/casbin/casbin/v3     0.053s\n"})}),"\n",(0,t.jsx)(n.h2,{id:"beberapa-jenis-bagian",children:"Beberapa Jenis Bagian"}),"\n",(0,t.jsxs)(n.p,{children:["When requiring multiple policy definitions or matchers, use identifiers like ",(0,t.jsx)(n.code,{children:"p2"})," or ",(0,t.jsx)(n.code,{children:"m2"}),". All four primary sections support multiple types through numbered suffixes: ",(0,t.jsx)(n.code,{children:"r2"}),", ",(0,t.jsx)(n.code,{children:"e2"}),", etc. By default, these sections maintain one-to-one correspondence\u2014your ",(0,t.jsx)(n.code,{children:"r2"})," section uses the ",(0,t.jsx)(n.code,{children:"m2"})," matcher for matching ",(0,t.jsx)(n.code,{children:"p2"})," policies."]}),"\n",(0,t.jsxs)(n.p,{children:["Pass an ",(0,t.jsx)(n.code,{children:"EnforceContext"})," as the first ",(0,t.jsx)(n.code,{children:"enforce"})," parameter to specify section types. The ",(0,t.jsx)(n.code,{children:"EnforceContext"})," structure:"]}),"\n",(0,t.jsxs)(i,{groupId:"langs",children:[(0,t.jsx)(s,{value:"Go",label:"Go",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:'EnforceContext{"r2","p2","e2","m2"}\ntype EnforceContext struct {\n    RType string\n    PType string\n    EType string\n    MType string\n}\n'})})}),(0,t.jsx)(s,{value:"Node.js",label:"Node.js",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const enforceContext = new EnforceContext('r2', 'p2', 'e2', 'm2');\nclass EnforceContext {\n  constructor(rType, pType, eType, mType) {\n    this.pType = pType;\n    this.eType = eType;\n    this.mType = mType;\n    this.rType = rType;\n  }\n}\n"})})}),(0,t.jsx)(s,{value:"Java",label:"Java",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'EnforceContext enforceContext = new EnforceContext("2");\npublic class EnforceContext {\n    private String pType;\n    private String eType;\n    private String mType;\n    private String rType;\n    public EnforceContext(String suffix) {\n      this.pType = "p" + suffix;\n      this.eType = "e" + suffix;\n      this.mType = "m" + suffix;\n      this.rType = "r" + suffix;\n    }\n}\n'})})})]}),"\n",(0,t.jsxs)(n.p,{children:["Example usage follows. Refer to the ",(0,t.jsx)(n.a,{href:"https://github.com/casbin/casbin/blob/master/examples/multiple_policy_definitions_model.conf",children:"model"})," and ",(0,t.jsx)(n.a,{href:"https://github.com/casbin/casbin/blob/master/examples/multiple_policy_definitions_policy.csv",children:"policy"})," files. Request format:"]}),"\n",(0,t.jsxs)(i,{groupId:"langs",children:[(0,t.jsx)(s,{value:"Go",label:"Go",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:'// Pass in a suffix as a parameter to NewEnforceContext, such as 2 or 3, and it will create r2, p2, etc.\nenforceContext := NewEnforceContext("2")\n// You can also specify a certain type individually\nenforceContext.EType = "e"\n// Don\'t pass in EnforceContext; the default is r, p, e, m\ne.Enforce("alice", "data2", "read")        // true\n// Pass in EnforceContext\ne.Enforce(enforceContext, struct{ Age int }{Age: 70}, "/data1", "read")        //false\ne.Enforce(enforceContext, struct{ Age int }{Age: 30}, "/data1", "read")        //true\n'})})}),(0,t.jsx)(s,{value:"Node.js",label:"Node.js",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'// Pass in a suffix as a parameter to NewEnforceContext, such as 2 or 3, and it will create r2, p2, etc.\nconst enforceContext = new NewEnforceContext(\'2\');\n\n// You can also specify a certain type individually\nenforceContext.eType = "e"\n\n// Don\'t pass in EnforceContext; the default is r, p, e, m\ne.Enforce("alice", "data2", "read")        // true\n\n// Pass in EnforceContext\ne.Enforce(enforceContext, {Age: 70}, "/data1", "read")        //false\ne.Enforce(enforceContext, {Age: 30}, "/data1", "read")        //true\n'})})}),(0,t.jsx)(s,{value:"Java",label:"Java",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'// Pass in a suffix as a parameter to NewEnforceContext, such as 2 or 3, and it will create r2, p2, etc.\nEnforceContext enforceContext = new EnforceContext("2");\n// You can also specify a certain type individually\nenforceContext.seteType("e");\n// Don\'t pass in EnforceContext; the default is r, p, e, m\ne.enforce("alice", "data2", "read");  // true\n// Pass in EnforceContext\n// TestEvalRule is located in https://github.com/casbin/jcasbin/blob/master/src/test/java/org/casbin/jcasbin/main/AbacAPIUnitTest.java#L56\ne.enforce(enforceContext, new AbacAPIUnitTest.TestEvalRule("alice", 70), "/data1", "read"); // false\ne.enforce(enforceContext, new AbacAPIUnitTest.TestEvalRule("alice", 30), "/data1", "read"); // true\n'})})})]}),"\n",(0,t.jsx)(n.h2,{id:"tata-bahasa-khusus",children:"Tata Bahasa Khusus"}),"\n",(0,t.jsxs)(n.p,{children:['The "in" operator is available\u2014the sole text-named operator. It checks whether the right-side array contains a value equal to the left-side value. Equality uses the == operator without type checking between values. Values castable to interface'," and comparable with == behave as expected. Arrays must be []interface"," type when used as parameters."]}),"\n",(0,t.jsxs)(n.p,{children:["Reference examples: ",(0,t.jsx)(n.a,{href:"https://github.com/casbin/casbin/blob/277c1a2b85698272f764d71a94d2595a8d425915/examples/rbac_model_matcher_using_in_op.conf",children:"rbac_model_matcher_using_in_op"}),", ",(0,t.jsx)(n.a,{href:"https://github.com/casbin/casbin/blob/277c1a2b85698272f764d71a94d2595a8d425915/examples/keyget2_model.conf",children:"keyget2_model"}),", and ",(0,t.jsx)(n.a,{href:"https://github.com/casbin/casbin/blob/277c1a2b85698272f764d71a94d2595a8d425915/examples/keyget_model.conf",children:"keyget_model"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Contoh:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:"[request_definition]\nr = sub, obj\n...\n[matchers]\nm = r.sub.Name in (r.obj.Admins)\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:'e.Enforce(Sub{Name: "alice"}, Obj{Name: "a book", Admins: []interface{}{"alice", "bob"}})\n'})}),"\n",(0,t.jsx)(n.h2,{id:"evaluator-ekspresi",children:"Evaluator Ekspresi"}),"\n",(0,t.jsx)(n.p,{children:"Casbin's matcher evaluation employs language-specific expression evaluators. Casbin leverages these evaluators to deliver the unified PERM language. Beyond the documented model syntax, these evaluators may provide additional functionality not universally supported across languages or implementations. Exercise caution when utilizing such features."}),"\n",(0,t.jsx)(n.p,{children:"Expression evaluators by implementation:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Implementasi"}),(0,t.jsx)(n.th,{children:"Bahasa"}),(0,t.jsx)(n.th,{children:"Evaluator Ekspresi"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Casbin"}),(0,t.jsx)(n.td,{children:"Golang"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://github.com/casbin/govaluate",children:"https://github.com/casbin/govaluate"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"jCasbin"}),(0,t.jsx)(n.td,{children:"Java"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://github.com/killme2008/aviatorscript",children:"https://github.com/killme2008/aviatorscript"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Node-Casbin"}),(0,t.jsx)(n.td,{children:"Node.js"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://github.com/donmccurdy/expression-eval",children:"https://github.com/donmccurdy/expression-eval"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"PHP-Casbin"}),(0,t.jsx)(n.td,{children:"PHP"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://github.com/symfony/expression-language",children:"https://github.com/symfony/expression-language"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"PyCasbin"}),(0,t.jsx)(n.td,{children:"Python"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://github.com/danthedeckie/simpleeval",children:"https://github.com/danthedeckie/simpleeval"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Casbin.NET"}),(0,t.jsx)(n.td,{children:"C#"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://github.com/davideicardi/DynamicExpresso",children:"https://github.com/davideicardi/DynamicExpresso"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Casbin4D"}),(0,t.jsx)(n.td,{children:"Delphi"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://github.com/casbin4d/Casbin4D/tree/master/SourceCode/Common/Third%20Party/TExpressionParser",children:"https://github.com/casbin4d/Casbin4D/tree/master/SourceCode/Common/Third%20Party/TExpressionParser"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"casbin-rs"}),(0,t.jsx)(n.td,{children:"Rust"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://github.com/jonathandturner/rhai",children:"https://github.com/jonathandturner/rhai"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"casbin-cpp"}),(0,t.jsx)(n.td,{children:"C++"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://github.com/ArashPartow/exprtk",children:"https://github.com/ArashPartow/exprtk"})})]})]})]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["Performance issues with Casbin likely stem from expression evaluator inefficiency. Report problems to either Casbin or the expression evaluator for optimization guidance. Consult the ",(0,t.jsx)(n.a,{href:"/docs/benchmark",children:"Benchmarks"})," section for additional details."]})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}function p(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},8453(e,n,s){s.d(n,{R:()=>a,x:()=>o});var i=s(6540);const t={},r=i.createContext(t);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);