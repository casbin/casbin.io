"use strict";(self.webpackChunkcasbin_website_v2=self.webpackChunkcasbin_website_v2||[]).push([[3600],{3905:(a,e,n)=>{n.d(e,{Zo:()=>p,kt:()=>c});var t=n(7294);function i(a,e,n){return e in a?Object.defineProperty(a,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[e]=n,a}function r(a,e){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.push.apply(n,t)}return n}function u(a){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(a,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))}))}return a}function s(a,e){if(null==a)return{};var n,t,i=function(a,e){if(null==a)return{};var n,t,i={},r=Object.keys(a);for(t=0;t<r.length;t++)n=r[t],e.indexOf(n)>=0||(i[n]=a[n]);return i}(a,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);for(t=0;t<r.length;t++)n=r[t],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(a,n)&&(i[n]=a[n])}return i}var o=t.createContext({}),l=function(a){var e=t.useContext(o),n=e;return a&&(n="function"==typeof a?a(e):u(u({},e),a)),n},p=function(a){var e=l(a.components);return t.createElement(o.Provider,{value:e},a.children)},m={inlineCode:"code",wrapper:function(a){var e=a.children;return t.createElement(t.Fragment,{},e)}},k=t.forwardRef((function(a,e){var n=a.components,i=a.mdxType,r=a.originalType,o=a.parentName,p=s(a,["components","mdxType","originalType","parentName"]),k=l(n),c=i,d=k["".concat(o,".").concat(c)]||k[c]||m[c]||r;return n?t.createElement(d,u(u({ref:e},p),{},{components:n})):t.createElement(d,u({ref:e},p))}));function c(a,e){var n=arguments,i=e&&e.mdxType;if("string"==typeof a||i){var r=n.length,u=new Array(r);u[0]=k;var s={};for(var o in e)hasOwnProperty.call(e,o)&&(s[o]=e[o]);s.originalType=a,s.mdxType="string"==typeof a?a:i,u[1]=s;for(var l=2;l<r;l++)u[l]=n[l];return t.createElement.apply(null,u)}return t.createElement.apply(null,n)}k.displayName="MDXCreateElement"},4660:(a,e,n)=>{n.r(e),n.d(e,{assets:()=>o,contentTitle:()=>u,default:()=>m,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var t=n(7462),i=(n(7294),n(3905));const r={id:"performance",title:"Performance Optimization",description:"Pengoptimalan kinerja Casbin",keywords:["optimization"],authors:["hsluoyz"]},u=void 0,s={unversionedId:"performance",id:"performance",title:"Performance Optimization",description:"Pengoptimalan kinerja Casbin",source:"@site/i18n/id/docusaurus-plugin-content-docs/current/Performance.mdx",sourceDirName:".",slug:"/performance",permalink:"/id/docs/performance",draft:!1,editUrl:"https://github.com/casbin/casbin-website-v2/edit/master/docs/Performance.mdx",tags:[],version:"current",frontMatter:{id:"performance",title:"Performance Optimization",description:"Pengoptimalan kinerja Casbin",keywords:["optimization"],authors:["hsluoyz"]},sidebar:"docs",previous:{title:"Benchmarks",permalink:"/id/docs/benchmark"},next:{title:"Authorization of Kubernetes",permalink:"/id/docs/k8s"}},o={},l=[{value:"Lalu Lintas Volume Tinggi",id:"lalu-lintas-volume-tinggi",level:4},{value:"Jumlah Aturan Kebijakan yang Tinggi",id:"jumlah-aturan-kebijakan-yang-tinggi",level:4}],p={toc:l};function m(a){let{components:e,...n}=a;return(0,i.kt)("wrapper",(0,t.Z)({},p,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Ketika diterapkan dalam lingkungan produksi dengan jutaan pengguna atau izin, Anda mungkin mengalami penurunan kinerja dalam penegakan Casbin. Biasanya ada dua penyebab:"),(0,i.kt)("h4",{id:"lalu-lintas-volume-tinggi"},"Lalu Lintas Volume Tinggi"),(0,i.kt)("p",null,"Jumlah permintaan masuk per detik terlalu besar, misalnya, 10.000 permintaan/s untuk satu instance Casbin. Dalam kasus seperti ini, satu instance Casbin biasanya tidak cukup untuk menangani semua permintaan. Ada dua solusi yang mungkin:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Gunakan multi-threading untuk mengaktifkan beberapa instance Casbin, sehingga Anda dapat sepenuhnya memanfaatkan semua core di mesin tersebut. Untuk detail lebih lanjut, lihat: ",(0,i.kt)("a",{parentName:"p",href:"/docs/multi-threading"},"Multi-threading"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Deploy instance Casbin ke sebuah kluster (beberapa mesin) dan gunakan Watcher untuk memastikan semua instance Casbin konsisten. Untuk detail lebih lanjut, lihat: ",(0,i.kt)("a",{parentName:"p",href:"/docs/watchers"},"Watchers"),"."))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Anda dapat menggunakan kedua metode di atas secara bersamaan, misalnya, deploy Casbin ke kluster 10 mesin di mana setiap mesin memiliki 5 thread yang secara bersamaan melayani permintaan penerapan Casbin.")),(0,i.kt)("h4",{id:"jumlah-aturan-kebijakan-yang-tinggi"},"Jumlah Aturan Kebijakan yang Tinggi"),(0,i.kt)("p",null,"Dalam lingkungan cloud atau multi-tenant, jutaan aturan kebijakan mungkin diperlukan. Setiap panggilan penerapan atau bahkan memuat aturan kebijakan pada waktu awal dapat sangat lambat. Kasus seperti ini biasanya dapat dikurangi dengan beberapa cara:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Periksa apakah model Casbin atau kebijakan Anda dirancang dengan baik. Model dan kebijakan yang ditulis dengan baik mengabstraksi logika duplikat untuk setiap pengguna/penyewa dan mengurangi jumlah aturan ke tingkat yang sangat kecil (\\< 100). Misalnya, Anda dapat membagikan beberapa aturan default di seluruh penyewa dan mengizinkan pengguna untuk menyesuaikan aturan mereka nanti. Aturan yang disesuaikan dapat menggantikan aturan default. Jika Anda memiliki pertanyaan lebih lanjut, silakan buka masalah GitHub di repositori Casbin.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Lakukan sharding agar enforcer Casbin hanya memuat sebagian kecil dari aturan kebijakan. Misalnya, enforcer","_","0 dapat melayani penyewa","_","0 hingga penyewa","_","99, sementara enforcer","_","1 dapat melayani penyewa","_","100 hingga penyewa","_","199. Untuk memuat hanya sebagian dari semua aturan kebijakan, lihat: ",(0,i.kt)("a",{parentName:"p",href:"/docs/policy-subset-loading"},"Policy Subset Loading"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Berikan izin kepada peran RBAC bukan kepada pengguna secara langsung. RBAC Casbin diimplementasikan oleh pohon warisan peran (sebagai cache). Jadi, diberikan pengguna seperti Alice, Casbin hanya membutuhkan waktu O(1) untuk menanyakan pohon RBAC mengenai hubungan peran-pengguna dan melakukan penegakan. Jika aturan g Anda tidak sering berubah, maka pohon RBAC tidak perlu diperbarui secara terus-menerus. Lihat detail diskusi ini di sini: ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casbin/casbin/issues/681#issuecomment-763801583"},"https://github.com/casbin/casbin/issues/681#issuecomment-763801583")))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Anda dapat mencoba semua metode di atas secara bersamaan.")))}m.isMDXComponent=!0}}]);