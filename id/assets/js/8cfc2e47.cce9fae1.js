"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[2129],{7707(e,n,i){i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>o,frontMatter:()=>r,metadata:()=>a,toc:()=>u});const a=JSON.parse('{"id":"menu-permissions","title":"Menu Permissions","description":"Contoh untuk Izin Menu","source":"@site/i18n/id/docusaurus-plugin-content-docs/current/MenuPermissions.mdx","sourceDirName":".","slug":"/menu-permissions","permalink":"/id/docs/menu-permissions","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/MenuPermissions.mdx","tags":[],"version":"current","frontMatter":{"id":"menu-permissions","title":"Menu Permissions","description":"Contoh untuk Izin Menu","keywords":["Menu Permissions","example"],"authors":["amikecoXu"]},"sidebar":"docs","previous":{"title":"Data Permissions","permalink":"/id/docs/data-permissions"},"next":{"title":"Extensions","permalink":"/id/docs/category/extensions"}}');var s=i(4848),t=i(8453);const r={id:"menu-permissions",title:"Menu Permissions",description:"Contoh untuk Izin Menu",keywords:["Menu Permissions","example"],authors:["amikecoXu"]},d=void 0,l={},u=[{value:"1. Berkas Konfigurasi",id:"1-berkas-konfigurasi",level:3},{value:"1.1 Gambaran Umum",id:"11-gambaran-umum",level:4},{value:"1.2 Definisi Izin (Policies)",id:"12-definisi-izin-policies",level:4},{value:"1.3 Peran dan Asosiasi Pengguna",id:"13-peran-dan-asosiasi-pengguna",level:4},{value:"1.4 Hierarki Item Menu",id:"14-hierarki-item-menu",level:4},{value:"1.5 Warisan Izin Menu dan Aturan Default",id:"15-warisan-izin-menu-dan-aturan-default",level:4},{value:"1.6 Aturan Warisan Izin Khusus",id:"16-aturan-warisan-izin-khusus",level:4},{value:"1.7 Deskripsi Contoh",id:"17-deskripsi-contoh",level:4},{value:"2. Kontrol Izin Menu",id:"2-kontrol-izin-menu",level:3}];function c(e){const n={a:"a",code:"code",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Kami memulai dengan memperkenalkan contoh Spring Boot yang menampilkan sistem menu. Contoh ini menggunakan jCasbin untuk mengelola izin menu. Pada akhirnya, contoh ini bertujuan untuk mengabstraksi middleware, khususnya untuk izin menu, yang dapat diperluas ke bahasa lain yang didukung oleh Casbin, seperti Go dan Python."}),"\n",(0,s.jsx)(n.h3,{id:"1-berkas-konfigurasi",children:"1. Berkas Konfigurasi"}),"\n",(0,s.jsxs)(n.p,{children:["Anda perlu mengatur manajemen peran dan izin dalam berkas ",(0,s.jsx)(n.code,{children:"policy.csv"}),", bersama dengan hubungan induk-anak antara item menu. Untuk detail lebih lanjut, silakan merujuk ke ",(0,s.jsx)(n.a,{href:"https://github.com/jcasbin/jcasbin-menu-permission",children:"repo GitHub ini"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"11-gambaran-umum",children:"1.1 Gambaran Umum"}),"\n",(0,s.jsxs)(n.p,{children:["Dengan menggunakan ",(0,s.jsx)(n.code,{children:"policy.csv"}),", Anda dapat mengkonfigurasi fleksibel izin peran dan struktur menu untuk kontrol akses yang halus. Berkas konfigurasi ini mendefinisikan izin akses untuk peran yang berbeda pada berbagai item menu, asosiasi antara pengguna dan peran, serta hubungan hierarki antara item menu."]}),"\n",(0,s.jsx)(n.h4,{id:"12-definisi-izin-policies",children:"1.2 Definisi Izin (Policies)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Aturan Kebijakan"}),": Kebijakan didefinisikan dengan awalan ",(0,s.jsx)(n.code,{children:"p"}),", menentukan peran (",(0,s.jsx)(n.code,{children:"sub"}),") dan izin mereka (",(0,s.jsx)(n.code,{children:"act"}),") pada item menu (",(0,s.jsx)(n.code,{children:"obj"}),"), bersama dengan efek aturan (",(0,s.jsx)(n.code,{children:"eft"}),"), di mana ",(0,s.jsx)(n.code,{children:"allow"})," menunjukkan izin diberikan, dan ",(0,s.jsx)(n.code,{children:"deny"})," menunjukkan izin ditolak."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Contoh:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"p, ROLE_ROOT, SystemMenu, read, allow"})," berarti peran ",(0,s.jsx)(n.code,{children:"ROLE_ROOT"})," memiliki akses baca ke item menu ",(0,s.jsx)(n.code,{children:"SystemMenu"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"p, ROLE_ROOT, UserMenu, read, deny"})," berarti peran ",(0,s.jsx)(n.code,{children:"ROLE_ROOT"})," ditolak akses baca ke item menu ",(0,s.jsx)(n.code,{children:"UserMenu"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"13-peran-dan-asosiasi-pengguna",children:"1.3 Peran dan Asosiasi Pengguna"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Warisan Peran"}),": Hubungan pengguna-peran dan hierarki peran didefinisikan dengan awalan ",(0,s.jsx)(n.code,{children:"g"}),". Hal ini memungkinkan pengguna untuk mewarisi izin dari satu atau beberapa peran."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Contoh:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"g, user, ROLE_USER"})," berarti pengguna ",(0,s.jsx)(n.code,{children:"user"})," ditugaskan peran ",(0,s.jsx)(n.code,{children:"ROLE_USER"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"g, ROLE_ADMIN, ROLE_USER"})," berarti ",(0,s.jsx)(n.code,{children:"ROLE_ADMIN"})," mewarisi izin dari ",(0,s.jsx)(n.code,{children:"ROLE_USER"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"14-hierarki-item-menu",children:"1.4 Hierarki Item Menu"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Hubungan Menu"}),": Hubungan induk-anak antara item menu didefinisikan dengan awalan ",(0,s.jsx)(n.code,{children:"g2"}),", membantu dalam pembangunan struktur menu."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Contoh:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"g2, UserSubMenu_allow, UserMenu"})," menunjukkan bahwa ",(0,s.jsx)(n.code,{children:"UserSubMenu_allow"})," adalah submenu dari ",(0,s.jsx)(n.code,{children:"UserMenu"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"g2, (NULL), SystemMenu"})," menunjukkan bahwa ",(0,s.jsx)(n.code,{children:"SystemMenu"})," tidak memiliki item submenu, yang berarti itu adalah item menu tingkat atas."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"15-warisan-izin-menu-dan-aturan-default",children:"1.5 Warisan Izin Menu dan Aturan Default"}),"\n",(0,s.jsx)(n.p,{children:"Ketika mengelola izin menu dengan jCasbin, hubungan izin antara menu induk dan menu anak mengikuti aturan warisan tertentu, dengan dua aturan default penting:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Warisan Izin Menu Induk"}),":"]}),"\n",(0,s.jsxs)(n.p,{children:["Jika sebuah menu induk secara eksplisit diberikan izin ",(0,s.jsx)(n.code,{children:"allow"}),", semua submenu-nya juga secara default akan memiliki izin ",(0,s.jsx)(n.code,{children:"allow"})," kecuali jika secara khusus ditandai sebagai ",(0,s.jsx)(n.code,{children:"deny"}),". Ini berarti setelah sebuah menu induk dapat diakses, submenu-nya juga dapat diakses secara default."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Penanganan Menu Induk Tanpa Pengaturan Izin Langsung"}),":"]}),"\n",(0,s.jsxs)(n.p,{children:["Jika sebuah menu induk tidak memiliki pengaturan izin langsung (baik secara eksplisit diizinkan maupun ditolak) tetapi memiliki setidaknya satu submenu yang secara eksplisit diberikan izin ",(0,s.jsx)(n.code,{children:"allow"}),", maka menu induk tersebut secara implisit dianggap memiliki izin ",(0,s.jsx)(n.code,{children:"allow"}),". Ini memastikan pengguna dapat menavigasi ke submenu ini."]}),"\n",(0,s.jsx)(n.h4,{id:"16-aturan-warisan-izin-khusus",children:"1.6 Aturan Warisan Izin Khusus"}),"\n",(0,s.jsxs)(n.p,{children:["Mengenai warisan izin antar peran, terutama dalam skenario yang melibatkan izin ",(0,s.jsx)(n.code,{children:"deny"}),", aturan berikut harus diikuti untuk memastikan keamanan sistem dan kontrol izin yang tepat:"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Perbedaan Antara Penolakan Eksplisit dan Default"}),":"]}),"\n",(0,s.jsxs)(n.p,{children:["Jika sebuah peran, seperti ",(0,s.jsx)(n.code,{children:"ROLE_ADMIN"}),", secara eksplisit ditolak akses ke suatu item menu, seperti ",(0,s.jsx)(n.code,{children:"AdminSubMenu_deny"})," (ditandai sebagai ",(0,s.jsx)(n.code,{children:"deny"}),"), maka bahkan jika peran ini diwariskan oleh peran lain (misalnya, ",(0,s.jsx)(n.code,{children:"ROLE_ROOT"}),"), peran yang mewarisi tidak diperbolehkan mengakses item menu yang ditolak tersebut. Ini memastikan kebijakan keamanan eksplisit tidak dilewati karena warisan peran."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Warisan Izin Penolakan Default"}),":"]}),"\n",(0,s.jsxs)(n.p,{children:["Sebaliknya, jika penolakan akses sebuah peran ke item menu (misalnya, ",(0,s.jsx)(n.code,{children:"UserSubMenu_deny"}),") adalah default (tidak secara eksplisit ditandai sebagai ",(0,s.jsx)(n.code,{children:"deny"}),", tetapi karena tidak secara eksplisit diberikan ",(0,s.jsx)(n.code,{children:"allow"}),"), maka ketika peran ini diwariskan oleh peran lain (misalnya, ",(0,s.jsx)(n.code,{children:"ROLE_ADMIN"}),"), peran yang mewarisi dapat mengganti status ",(0,s.jsx)(n.code,{children:"deny"})," default, memungkinkan akses ke item menu ini."]}),"\n",(0,s.jsx)(n.h4,{id:"17-deskripsi-contoh",children:"1.7 Deskripsi Contoh"}),"\n",(0,s.jsx)(n.p,{children:"kebijakan:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csv",children:"p, ROLE_ROOT, SystemMenu, read, allow\np, ROLE_ROOT, AdminMenu, read, allow\np, ROLE_ROOT, UserMenu, read, deny\np, ROLE_ADMIN, UserMenu, read, allow\np, ROLE_ADMIN, AdminMenu, read, allow\np, ROLE_ADMIN, AdminSubMenu_deny, read, deny\np, ROLE_USER, UserSubMenu_allow, read, allow\n\ng, user, ROLE_USER\ng, admin, ROLE_ADMIN\ng, root, ROLE_ROOT\ng, ROLE_ADMIN, ROLE_USER\n\ng2, UserSubMenu_allow, UserMenu\ng2, UserSubMenu_deny, UserMenu\ng2, UserSubSubMenu, UserSubMenu_allow\ng2, AdminSubMenu_allow, AdminMenu\ng2, AdminSubMenu_deny, AdminMenu\ng2, (NULL), SystemMenu\n"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"NamaMenu"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"PERAN_ROOT"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"PERAN_ADMIN"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"PERAN_PENGGUNA"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"SystemMenu"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"UserMenu"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"UserSubMenu_allow"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"UserSubSubMenu"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"UserSubMenu_deny"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"AdminMenu"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"AdminSubMenu_allow"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"AdminSubMenu_deny"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"2-kontrol-izin-menu",children:"2. Kontrol Izin Menu"}),"\n",(0,s.jsxs)(n.p,{children:["Daftar semua item menu yang dapat diakses oleh suatu nama pengguna tertentu dapat diidentifikasi melalui fungsi ",(0,s.jsx)(n.code,{children:"findAccessibleMenus()"})," yang tersedia di ",(0,s.jsx)(n.a,{href:"https://github.com/jcasbin/jcasbin-menu-permission/blob/master/src/main/java/org/casbin/service/MenuService.java",children:"MenuService"}),". Untuk memeriksa apakah pengguna tertentu memiliki hak untuk mengakses item menu yang ditentukan, metode ",(0,s.jsx)(n.code,{children:"checkMenuAccess()"})," dapat digunakan. Pendekatan ini memastikan bahwa izin menu dikendalikan secara efektif, memanfaatkan kemampuan jCasbin untuk mengelola hak akses secara efisien."]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453(e,n,i){i.d(n,{R:()=>r,x:()=>d});var a=i(6540);const s={},t=a.createContext(s);function r(e){const n=a.useContext(t);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(t.Provider,{value:n},e.children)}}}]);