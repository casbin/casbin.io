<!doctype html>
<html lang="uk" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-k8s-gatekeeper" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Admission Webhook for K8s | Casbin</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://casbin.org/uk/docs/k8s-gatekeeper"><meta data-rh="true" property="og:locale" content="uk"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" property="og:locale:alternate" content="ko"><meta data-rh="true" property="og:locale:alternate" content="ru"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="pt"><meta data-rh="true" property="og:locale:alternate" content="th"><meta data-rh="true" property="og:locale:alternate" content="ar"><meta data-rh="true" property="og:locale:alternate" content="id"><meta data-rh="true" property="og:locale:alternate" content="vi"><meta data-rh="true" property="og:locale:alternate" content="it"><meta data-rh="true" property="og:locale:alternate" content="ms"><meta data-rh="true" property="og:locale:alternate" content="tr"><meta data-rh="true" name="docusaurus_locale" content="uk"><meta data-rh="true" name="docsearch:language" content="uk"><meta data-rh="true" name="Casbin" content="An authorization library that supports access control models like ACL, RBAC, ABAC, ReBAC, PBAC, OrBAC, BLP, Biba, LBAC, UCON for Golang, Java, C/C++, Node.js, Javascript, PHP, Laravel, Python, .NET (C#), Delphi, Rust, Ruby, Swift (Objective-C), Lua (OpenResty), Dart (Flutter) and Elixir"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Admission Webhook for K8s | Casbin"><meta data-rh="true" name="description" content="Kubernetes (K8s) RBAC &amp; ABAC авторизаційне проміжне програмне забезпечення на основі Casbin"><meta data-rh="true" property="og:description" content="Kubernetes (K8s) RBAC &amp; ABAC авторизаційне проміжне програмне забезпечення на основі Casbin"><meta data-rh="true" name="keywords" content="k8s-gatekeeper,Kubernetes,K8s"><link data-rh="true" rel="icon" href="/uk/img/favicon.png"><link data-rh="true" rel="canonical" href="https://casbin.org/uk/docs/k8s-gatekeeper"><link data-rh="true" rel="alternate" href="https://casbin.org/docs/k8s-gatekeeper" hreflang="en"><link data-rh="true" rel="alternate" href="https://casbin.org/zh/docs/k8s-gatekeeper" hreflang="zh"><link data-rh="true" rel="alternate" href="https://casbin.org/ko/docs/k8s-gatekeeper" hreflang="ko"><link data-rh="true" rel="alternate" href="https://casbin.org/ru/docs/k8s-gatekeeper" hreflang="ru"><link data-rh="true" rel="alternate" href="https://casbin.org/fr/docs/k8s-gatekeeper" hreflang="fr"><link data-rh="true" rel="alternate" href="https://casbin.org/de/docs/k8s-gatekeeper" hreflang="de"><link data-rh="true" rel="alternate" href="https://casbin.org/ja/docs/k8s-gatekeeper" hreflang="ja"><link data-rh="true" rel="alternate" href="https://casbin.org/es/docs/k8s-gatekeeper" hreflang="es"><link data-rh="true" rel="alternate" href="https://casbin.org/pt/docs/k8s-gatekeeper" hreflang="pt"><link data-rh="true" rel="alternate" href="https://casbin.org/uk/docs/k8s-gatekeeper" hreflang="uk"><link data-rh="true" rel="alternate" href="https://casbin.org/th/docs/k8s-gatekeeper" hreflang="th"><link data-rh="true" rel="alternate" href="https://casbin.org/ar/docs/k8s-gatekeeper" hreflang="ar"><link data-rh="true" rel="alternate" href="https://casbin.org/id/docs/k8s-gatekeeper" hreflang="id"><link data-rh="true" rel="alternate" href="https://casbin.org/vi/docs/k8s-gatekeeper" hreflang="vi"><link data-rh="true" rel="alternate" href="https://casbin.org/it/docs/k8s-gatekeeper" hreflang="it"><link data-rh="true" rel="alternate" href="https://casbin.org/ms/docs/k8s-gatekeeper" hreflang="ms"><link data-rh="true" rel="alternate" href="https://casbin.org/tr/docs/k8s-gatekeeper" hreflang="tr"><link data-rh="true" rel="alternate" href="https://casbin.org/docs/k8s-gatekeeper" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://6NBEV8TOFK-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Розширене використання","item":"https://casbin.org/uk/docs/category/advanced-usage"},{"@type":"ListItem","position":2,"name":"Admission Webhook for K8s","item":"https://casbin.org/uk/docs/k8s-gatekeeper"}]}</script><link rel="alternate" type="application/rss+xml" href="/uk/blog/rss.xml" title="Casbin RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/uk/blog/atom.xml" title="Casbin Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8S2TKCJ27X"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-8S2TKCJ27X",{})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Casbin" href="/uk/opensearch.xml">
<script src="/js/hotjar.js" async></script>
<script src="/js/probe.js" async></script>
<script src="/js/clarity.js" async></script><link rel="stylesheet" href="/uk/assets/css/styles.833f1c9f.css">
<script src="/uk/assets/js/runtime~main.1e6b5f60.js" defer="defer"></script>
<script src="/uk/assets/js/main.79f25be4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Перейти до основного контенту"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Перейти до основного контенту</a></div><nav aria-label="Головна" class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Переключити панель навігації" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/uk/"><div class="navbar__logo"><img src="https://cdn.casbin.org/img/casbin_logo_1024x256.png" alt="Casbin Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="https://cdn.casbin.org/img/casbin_logo_1024x256.png" alt="Casbin Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/uk/docs/overview">Документація</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/uk/docs/get-started">Розпочати</a></li><li><a class="dropdown__link" href="/uk/docs/category/model">Модель</a></li><li><a class="dropdown__link" href="/uk/docs/category/storage">Зберігання</a></li><li><a class="dropdown__link" href="/uk/docs/adapters">Адаптери</a></li><li><a class="dropdown__link" href="/uk/docs/category/api">API</a></li><li><a class="dropdown__link" href="/uk/docs/ide-plugins">Плагіни IDE</a></li><li><a class="dropdown__link" href="/uk/docs/contributing">Почати внесок</a></li></ul></div><a class="navbar__item navbar__link" href="/uk/ecosystem">Plugins</a><a class="navbar__item navbar__link" href="/uk/gallery">Authorization Models</a><a class="navbar__item navbar__link" href="/uk/editor">GUI Policy Editor</a><a class="navbar__item navbar__link" href="/uk/blog">Блог</a><a class="navbar__item navbar__link" href="/uk/help">Допомога</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Українська</a><ul class="dropdown__menu"><li><a href="/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">中文</a></li><li><a href="/ko/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">한국어</a></li><li><a href="/ru/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ru">Русский</a></li><li><a href="/fr/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/de/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="/ja/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/es/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/pt/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">Português</a></li><li><a href="/uk/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="uk">Українська</a></li><li><a href="/th/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="th">ไทย</a></li><li><a href="/ar/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ar">العربية</a></li><li><a href="/id/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="id">Indonesia</a></li><li><a href="/vi/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="vi">Tiếng Việt</a></li><li><a href="/it/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="it">Italiano</a></li><li><a href="/ms/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ms">Melayu</a></li><li><a href="/tr/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="tr">Türkçe</a></li><li class=""><hr style="margin: 0.3rem 0;"></li><li><a href="https://crowdin.com/project/casbin-website" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help Us Translate<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><a href="https://github.com/casbin/casbin" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://discord.gg/S5UjpzGZjN" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-community-discord"></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Пошук (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Пошук</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Перемикання між темним та світлим режимом (зараз system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Прокрутити назад до початку" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/uk/"><img src="https://cdn.casbin.org/img/casbin_logo_1024x256.png" alt="Casbin Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="https://cdn.casbin.org/img/casbin_logo_1024x256.png" alt="Casbin Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b></b></a><nav aria-label="Бічна панель документації" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/uk/docs/category/the-basics"><span title="Основи" class="categoryLinkLabel_W154">Основи</span></a><button aria-label="Collapse sidebar category &#x27;Основи&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/overview"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/get-started"><span title="Get Started" class="linkLabel_WmDU">Get Started</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/how-it-works"><span title="How It Works" class="linkLabel_WmDU">How It Works</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/tutorials"><span title="Tutorials" class="linkLabel_WmDU">Tutorials</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/uk/docs/category/model"><span title="Модель" class="categoryLinkLabel_W154">Модель</span></a><button aria-label="Collapse sidebar category &#x27;Модель&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/supported-models"><span title="Supported Models" class="linkLabel_WmDU">Supported Models</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/syntax-for-models"><span title="Syntax for Models" class="linkLabel_WmDU">Syntax for Models</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/effector"><span title="Effector" class="linkLabel_WmDU">Effector</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/function"><span title="Functions" class="linkLabel_WmDU">Functions</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/uk/docs/rbac-overview"><span title="RBAC" class="categoryLinkLabel_W154">RBAC</span></a><button aria-label="Collapse sidebar category &#x27;RBAC&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/rbac"><span title="RBAC" class="linkLabel_WmDU">RBAC</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/rbac-with-pattern"><span title="RBAC with Pattern" class="linkLabel_WmDU">RBAC with Pattern</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/rbac-with-domains"><span title="RBAC with Domains" class="linkLabel_WmDU">RBAC with Domains</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/rbac-with-conditions"><span title="RBAC with Conditions" class="linkLabel_WmDU">RBAC with Conditions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/rbac-96"><span title="Casbin RBAC vs. RBAC96" class="linkLabel_WmDU">Casbin RBAC vs. RBAC96</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/rebac"><span title="ReBAC" class="linkLabel_WmDU">ReBAC</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/abac"><span title="ABAC" class="linkLabel_WmDU">ABAC</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/pbac"><span title="PBAC" class="linkLabel_WmDU">PBAC</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/uk/docs/mac-overview"><span title="MAC" class="categoryLinkLabel_W154">MAC</span></a><button aria-label="Collapse sidebar category &#x27;MAC&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/blp"><span title="BLP" class="linkLabel_WmDU">BLP</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/biba"><span title="Biba" class="linkLabel_WmDU">Biba</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/lbac"><span title="LBAC" class="linkLabel_WmDU">LBAC</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/orbac"><span title="OrBAC" class="linkLabel_WmDU">OrBAC</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/priority-model"><span title="Priority Model" class="linkLabel_WmDU">Priority Model</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/ucon"><span title="Usage Control (UCON)" class="linkLabel_WmDU">Usage Control (UCON)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/superadmin"><span title="Super Admin" class="linkLabel_WmDU">Super Admin</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/uk/docs/category/storage"><span title="Зберігання" class="categoryLinkLabel_W154">Зберігання</span></a><button aria-label="Collapse sidebar category &#x27;Зберігання&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/model-storage"><span title="Model Storage" class="linkLabel_WmDU">Model Storage</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/policy-storage"><span title="Policy Storage" class="linkLabel_WmDU">Policy Storage</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/policy-subset-loading"><span title="Policy Subset Loading" class="linkLabel_WmDU">Policy Subset Loading</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/uk/docs/category/scenarios"><span title="Сценарії" class="categoryLinkLabel_W154">Сценарії</span></a><button aria-label="Collapse sidebar category &#x27;Сценарії&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/data-permissions"><span title="Data Permissions" class="linkLabel_WmDU">Data Permissions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/menu-permissions"><span title="Menu Permissions" class="linkLabel_WmDU">Menu Permissions</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/uk/docs/plugins-overview"><span title="Plugins" class="categoryLinkLabel_W154">Plugins</span></a><button aria-label="Collapse sidebar category &#x27;Plugins&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/enforcers"><span title="Enforcers" class="linkLabel_WmDU">Enforcers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/adapters"><span title="Adapters" class="linkLabel_WmDU">Adapters</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/watchers"><span title="Watchers" class="linkLabel_WmDU">Watchers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/dispatchers"><span title="Dispatchers" class="linkLabel_WmDU">Dispatchers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/role-managers"><span title="Role Managers" class="linkLabel_WmDU">Role Managers</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/uk/docs/middlewares"><span title="Middlewares" class="categoryLinkLabel_W154">Middlewares</span></a><button aria-label="Collapse sidebar category &#x27;Middlewares&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/kong-authz"><span title="Kong" class="linkLabel_WmDU">Kong</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/graphql-middlewares"><span title="GraphQL" class="linkLabel_WmDU">GraphQL</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/cloud-native"><span title="Cloud Native" class="linkLabel_WmDU">Cloud Native</span></a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/uk/docs/category/api"><span title="API" class="categoryLinkLabel_W154">API</span></a><button aria-label="Collapse sidebar category &#x27;API&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/api-overview"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/management-api"><span title="Management API" class="linkLabel_WmDU">Management API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/rbac-api"><span title="RBAC API" class="linkLabel_WmDU">RBAC API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/rbac-with-domains-api"><span title="RBAC with Domains API" class="linkLabel_WmDU">RBAC with Domains API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/rbac-with-conditions-api"><span title="RBAC with Conditions API" class="linkLabel_WmDU">RBAC with Conditions API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/rolemanager-api"><span title="RoleManager API" class="linkLabel_WmDU">RoleManager API</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/uk/docs/category/advanced-usage"><span title="Розширене використання" class="categoryLinkLabel_W154">Розширене використання</span></a><button aria-label="Collapse sidebar category &#x27;Розширене використання&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/multi-threading"><span title="Multi-threading" class="linkLabel_WmDU">Multi-threading</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/benchmark"><span title="Benchmarks" class="linkLabel_WmDU">Benchmarks</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/performance"><span title="Performance Optimization" class="linkLabel_WmDU">Performance Optimization</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/k8s"><span title="Authorization of Kubernetes" class="linkLabel_WmDU">Authorization of Kubernetes</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/uk/docs/k8s-gatekeeper"><span title="Admission Webhook for K8s" class="linkLabel_WmDU">Admission Webhook for K8s</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/envoy"><span title="Authorization of Service Mesh through Envoy" class="linkLabel_WmDU">Authorization of Service Mesh through Envoy</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/uk/docs/category/management"><span title="Управління" class="categoryLinkLabel_W154">Управління</span></a><button aria-label="Collapse sidebar category &#x27;Управління&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/admin-portal"><span title="Admin Portal" class="linkLabel_WmDU">Admin Portal</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/service"><span title="Casbin Service" class="linkLabel_WmDU">Casbin Service</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/command-line-tools"><span title="Command-line Tools" class="linkLabel_WmDU">Command-line Tools</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/log-error"><span title="Log &amp; Error Handling" class="linkLabel_WmDU">Log &amp; Error Handling</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/frontend"><span title="Frontend Usage" class="linkLabel_WmDU">Frontend Usage</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/uk/docs/category/editor"><span title="Редактор" class="categoryLinkLabel_W154">Редактор</span></a><button aria-label="Collapse sidebar category &#x27;Реда ктор&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/online-editor"><span title="Online Editor" class="linkLabel_WmDU">Online Editor</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/ide-plugins"><span title="IDE Plugins" class="linkLabel_WmDU">IDE Plugins</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/uk/docs/category/more"><span title="Більше" class="categoryLinkLabel_W154">Більше</span></a><button aria-label="Collapse sidebar category &#x27;Більше&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/adopters"><span title="Our Adopters" class="linkLabel_WmDU">Our Adopters</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/contributing"><span title="Contributing" class="linkLabel_WmDU">Contributing</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/privacy-policy"><span title="Privacy Policy" class="linkLabel_WmDU">Privacy Policy</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/terms-of-service"><span title="Terms of Service" class="linkLabel_WmDU">Terms of Service</span></a></li></ul></li></ul></nav><button type="button" title="Згорнути бічну панель" aria-label="Згорнути бічну панель" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Навігаційні стежки"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Домашня сторінка" class="breadcrumbs__link" href="/uk/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/uk/docs/category/advanced-usage"><span>Розширене використання</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Admission Webhook for K8s</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P"> На цій сторінці</button></div><div class="theme-doc-markdown markdown"><header><h1>Admission Webhook for K8s</h1></header><h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="1-огляд-та-документація-для-casbin-k8s-gatekeeper">1. Огляд та документація для Casbin K8s-Gatekeeper<a href="#1-огляд-та-документація-для-casbin-k8s-gatekeeper" class="hash-link" aria-label="Пряме посилання на 1. Огляд та документація для Casbin K8s-Gatekeeper" title="Пряме посилання на 1. Огляд та документація для Casbin K8s-Gatekeeper" translate="no">​</a></h2>
<p>Casbin K8s-GateKeeper - це вебхук для прийому в Kubernetes, який інтегрує Casbin як інструмент контролю доступу. Використовуючи Casbin K8s-GateKeeper, ви можете створювати гнучкі правила для авторизації або перехоплення будь-якої операції з ресурсами K8s, НЕ пишучи жодного рядка коду, а лише кілька рядків декларативних конфігурацій моделей та політик Casbin, які є частиною мови ACL (список контролю доступу) Casbin.</p>
<p>Casbin K8s-GateKeeper розроблений та підтримується спільнотою Casbin. Репозиторій цього проекту доступний тут: <a href="https://github.com/casbin/k8s-gatekeeper" target="_blank" rel="noopener noreferrer" class="">https://github.com/casbin/k8s-gatekeeper</a></p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="01-простий-приклад">0.1 Простий приклад<a href="#01-простий-приклад" class="hash-link" aria-label="Пряме посилання на 0.1 Простий приклад" title="Пряме посилання на 0.1 Простий приклад" translate="no">​</a></h3>
<p>Наприклад, вам не потрібно писати жодного коду, а використовувати наступні рядки конфігурації для досягнення цієї функції: &quot;Заборонити використання зображень з деякими вказаними тегами в будь-яких розгортаннях&quot;:</p>
<p>Model:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">request_definition</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">r</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain">  </span><span class="token value attr-value" style="color:#e3116c">obj</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">policy_definition</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">p</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain">  </span><span class="token value attr-value" style="color:#e3116c">obj,eft</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">policy_effect</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">e</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">!some(where (p.eft == deny))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">matchers</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">m</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">r.obj.Request.Namespace == &quot;default&quot; &amp;&amp; r.obj.Request.Resource.Resource ==&quot;deployments&quot; &amp;&amp; \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">contain(split(accessWithWildcard(${OBJECT}.Spec.Template.Spec.Containers , &quot;*&quot;, &quot;Image&quot;),&quot;:&quot;,1) , p.obj)</span><br></span></code></pre></div></div>
<p>And Policy:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> </span><span class="token value">&quot;1.14.1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value">deny</span><br></span></code></pre></div></div>
<p>Це звичайна мова ACL Casbin. Припустимо, ви вже прочитали розділи про них, тоді буде дуже легко зрозуміти.</p>
<p>Casbin K8s-Gatekeeper має наступні переваги:</p>
<ul>
<li class="">Легко використовувати. Написання кількох рядків ACL набагато краще, ніж написання багатьох рядків коду.</li>
<li class="">Дозволяє гаряче оновлення конфігурацій. Вам не потрібно вимикати весь плагін, щоб змінити конфігурації.</li>
<li class="">Це гнучко. Можна створити довільні правила на будь-який ресурс K8s, який можна дослідити за допомогою <code>kubectl gatekeeper</code>.</li>
<li class="">Це спрощує реалізацію вебхука прийому K8s, який є дуже складним. Вам не потрібно знати, що таке вебхук прийому K8s або як писати код для нього. Все, що вам потрібно зробити, це знати ресурс, на якому ви хочете встановити обмеження, а потім написати Casbin ACL. Всі знають, що K8s складний, але використовуючи Casbin K8s-Gatekeeper, ви можете заощадити час.</li>
<li class="">Це підтримується спільнотою Casbin. Не соромтеся звертатися до нас, якщо щось у цьому плагіні вас бентежить або якщо ви зіткнулися з будь-якими проблемами під час спроби цього.</li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="11-як-працює-casbin-k8s-gatekeeper">1.1 Як працює Casbin K8s-Gatekeeper?<a href="#11-як-працює-casbin-k8s-gatekeeper" class="hash-link" aria-label="Пряме посилання на 1.1 Як працює Casbin K8s-Gatekeeper?" title="Пряме посилання на 1.1 Як працює Casbin K8s-Gatekeeper?" translate="no">​</a></h3>
<p>K8s-Gatekeeper - це вебхук для прийому в K8s, який використовує <a class="" href="/uk/docs/overview">Casbin</a> для застосування довільних правил контролю доступу, визначених користувачем, щоб допомогти запобігти будь-якій операції в K8s, яку адміністратор не хоче.</p>
<p>Casbin - це потужна та ефективна бібліотека контролю доступу з відкритим вихідним кодом. Вона надає підтрим ку для забезпечення авторизації на основі різних моделей контролю доступу. Для отримання додаткової інформації про Casbin, дивіться <a class="" href="/uk/docs/overview">Огляд</a>.</p>
<p>Вебхуки прийому в K8s - це HTTP-зворотні виклики, які отримують &#x27;запити на прийом&#x27; і роблять з ними щось. Зокрема, K8s-Gatekeeper - це спеціальний тип вебхука прийому: &#x27;ValidatingAdmissionWebhook&#x27;, який може вирішити, чи приймати цей запит на прийом, чи ні. Що стосується запитів на прийом, то це HTTP-запити, які описують операцію над вказаними ресурсами K8s (наприклад, створення/видалення розгортання). Для отримання додаткової інформації про вебхуки прийому, дивіться <a href="https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#what-are-admission-webhooks" target="_blank" rel="noopener noreferrer" class="">офіційну документацію K8s</a>.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="12-приклад-що-ілюструє-як-це-працює">1.2 Приклад, що ілюструє, як це працює<a href="#12-приклад-що-ілюструє-як-це-працює" class="hash-link" aria-label="Пряме посилання на 1.2 Приклад, що ілюструє, як це працює" title="Пряме посилання на 1.2 Приклад, що ілюструє, як це працює" translate="no">​</a></h3>
<p>Наприклад, коли хтось хоче створити розгортання, що містить под з запущеним nginx (викори стовуючи kubectl або клієнти K8s), K8s згенерує запит на прийом, який (якщо перекласти у формат YAML) може бути таким:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">1.14.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><br></span></code></pre></div></div>
<p>Цей запит пройде через процес всього проміжного програмного забезпечення, показаного на малюнку, включаючи наш K8s-Gatekeeper. K8s-Gatekeeper може виявити всі Casbin примусові пристрої, збережені в etcd K8s, які створені та підтримуються користувачем (через <code>kubectl</code> або Go клієнт, який ми надаємо). Кожен примусовий пристрій містить модель Casbin та політику Casbin. Запит на прийом буде оброблений кожним примусовим пристроєм, по черзі, і лише пройшовши всі примусові пристрої, запит може бути прийнятий цим K8s-Gatekeeper.</p>
<p>(Якщо ви не розумієте, що таке примусовий пристрій Casbin, модель або політика, дивіться цей документ: <a class="" href="/uk/docs/get-started">Початок роботи</a>).</p>
<p>Наприклад, з якоїсь причини адміністратор хоче заборонити використання зображення &#x27;nginx:1.14.1&#x27;, дозволяючи при цьому &#x27;nginx:1.3.1&#x27;. Можна створити примусовий пристрій, що містить наступне правило та політику (Ми пояснимо, як створити примусовий пристрій, що таке ці моделі та політики, і як їх писати в наступних розділах).</p>
<p>Model:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">request_definition</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">r</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain">  </span><span class="token value attr-value" style="color:#e3116c">obj</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">policy_definition</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">p</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain">  </span><span class="token value attr-value" style="color:#e3116c">obj,eft</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">policy_effect</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">e</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">!some(where (p.eft == deny))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">matchers</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">m</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">r.obj.Request.Namespace == &quot;default&quot; &amp;&amp; r.obj.Request.Resource.Resource ==&quot;deployments&quot; &amp;&amp; \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, &quot;Image&quot;)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token value attr-value" style="color:#e3116c">= p.obj</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>Policy:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> </span><span class="token value">&quot;nginx:1.13.1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value">allow</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> </span><span class="token value">&quot;nginx:1.14.1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value">deny</span><br></span></code></pre></div></div>
<p>Створивши примусовий пристрій, що містить вищезазначену модель та політику, попередній запит на прийом буде відхилений цим примусовим пристроєм, що означає, що K8s не створить це розгортання.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="2-встановлення-k8s-gatekeeper">2 Встановлення K8s-gatekeeper<a href="#2-встановлення-k8s-gatekeeper" class="hash-link" aria-label="Пряме посилання на 2 Встановлення K8s-gatekeeper" title="Пряме посилання на 2 Встановлення K8s-gatekeeper" translate="no">​</a></h2>
<p>Існує три методи встановлення K8s-gatekeeper: зовнішній вебхук, внутрішній вебхук та Helm.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>примітка</div><div class="admonitionContent_BuS1"><p>Примітка: Ці методи призначені лише для користувачів, які хочуть спробувати K8s-gatekeeper, і не є безпечними. Якщо ви хочете використовувати його в продуктивному середовищі, будь ласка, переконайтеся, що ви прочитали <a href="#5-advanced-settings" class="">Розділ 5. Розширені налаштування</a> і зробили необхідні зміни перед встановленням. 2.1 Внутрішній вебхук</p></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="211-крок-1-побудова-зображення">2.1.1 Крок 1: Побудова зображення<a href="#211-крок-1-побудова-зображення" class="hash-link" aria-label="Пряме посилання на 2.1.1 Крок 1: Побудова зображення" title="Пряме посилання на 2.1.1 Крок 1: Побудова зображення" translate="no">​</a></h3>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="211-step-1-build-the-image">2.1.1 Step 1: Build the image<a href="#211-step-1-build-the-image" class="hash-link" aria-label="Пряме посилання на 2.1.1 Step 1: Build the image" title="Пряме посилання на 2.1.1 Step 1: Build the image" translate="no">​</a></h4>
<p>Для внутрішнього методу webhook сам webhook буде реалізований як сервіс у Kubernetes. Щоб створити необхідний сервіс та розгортання, вам потрібно побудувати образ K8s-gatekeeper. Ви можете побудувати власний образ, виконавши наступну команду:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker build --target webhook -t k8s-gatekeeper .</span><br></span></code></pre></div></div>
<p>Ця команда створить локальний образ під назвою &#x27;k8s-gatekeeper<!-- -->:latest<!-- -->&#x27;.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>примітка</div><div class="admonitionContent_BuS1"><p>Примітка: Якщо ви використовуєте minikube, будь ласка, виконайте <code>eval $(minikube -p minikube docker-env)</code> перед запуском &#x27;docker build&#x27;.</p></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="212-крок-2-налаштування-сервісів-та-розгортань-для-k8s-gatekeeper">2.1.2 Крок 2: Налаштування сервісів та розгортань для K8s-gatekeeper<a href="#212-крок-2-налаштування-сервісів-та-розгортань-для-k8s-gatekeeper" class="hash-link" aria-label="Пряме посилання на 2.1.2 Крок 2: Налаштування сервісів та розгортань для K8s-gatekeeper" title="Пряме посилання на 2.1.2 Крок 2: Налаштування сервісів та розгортань для K8s-gatekeeper" translate="no">​</a></h4>
<p>Виконайте наступні команди:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/rbac.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/webhook_deployment.yaml </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/webhook_internal.yaml </span><br></span></code></pre></div></div>
<p>Це запустить K8s-gatekeeper, і ви можете перевірити це, виконавши <code>kubectl get pods</code>.</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="213-крок-3-встановлення-crd-ресурсів-для-k8s-gatekeeper">2.1.3 Крок 3: Встановлення CRD ресурсів для K8s-gatekeeper<a href="#213-крок-3-встановлення-crd-ресурсів-для-k8s-gatekeeper" class="hash-link" aria-label="Пряме посилання на 2.1.3 Крок 3: Встановлення CRD ресурсів для K8s-gatekeeper" title="Пряме посилання на 2.1.3 Крок 3: Встановлення CRD ресурсів для K8s-gatekeeper" translate="no">​</a></h4>
<p>Виконайте наступні команди:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/auth.casbin.org_casbinmodels.yaml </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/auth.casbin.org_casbinpolicies.yaml</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="22-зовнішній-webhook">2.2 Зовнішній webhook<a href="#22-зовнішній-webhook" class="hash-link" aria-label="Пряме посилання на 2.2 Зовнішній webhook" title="Пряме посилання на 2.2 Зовнішній webhook" translate="no">​</a></h3>
<p>Для методу зовнішнього webhook K8s-gatekeeper буде працювати поза Kubernetes, і Kubernetes буде доступатися до K8s-gatekeeper, як до звичайного веб-сайту. Kubernetes має обов&#x27;язкову вимогу, щоб admission webhook був HTTPS. Для тестування K8s-gatekeeper ми надали набір сертифікатів та приватний ключ (хоча це не є безпечн им). Якщо ви віддаєте перевагу використанню власного сертифікату, будь ласка, зверніться до <a href="#5-advanced-settings" class="">Розділу 5. Розширені налаштування</a> для інструкцій щодо налаштування сертифікату та приватного ключа. Сертифікат, який ми надаємо, виданий для &#x27;webhook.domain.local&#x27;.</p>
<p>Отже, змініть хост (наприклад, /etc/hosts) та спрямуйте &#x27;webhook.domain.local&#x27; на IP-адресу, на якій працює K8s-gatekeeper. Потім виконайте наступну команду:</p>
<p>2.3 Встановлення K8s-gatekeeper через Helm</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">go mod tidy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">go mod vendor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">go run cmd/webhook/main.go</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/auth.casbin.org_casbinmodels.yaml </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/auth.casbin.org_casbinpolicies.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/webhook_external.yaml </span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="231-крок-1-побудова- образу">2.3.1 Крок 1: Побудова образу<a href="#231-крок-1-побудова-образу" class="hash-link" aria-label="Пряме посилання на 2.3.1 Крок 1: Побудова образу" title="Пряме посилання на 2.3.1 Крок 1: Побудова образу" translate="no">​</a></h3>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="будь-ласка-зверніться-до-розділу-211">Будь ласка, зверніться до <a href="#211-step-1-build-the-image" class="">Розділу 2.1.1</a>.<a href="#будь-ласка-зверніться-до-розділу-211" class="hash-link" aria-label="Пряме посилання на будь-ласка-зверніться-до-розділу-211" title="Пряме посилання на будь-ласка-зверніться-до-розділу-211" translate="no">​</a></h4>
<p>2.3.2 Встановлення через Helm</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="виконайте-команду-helm-install-k8sgatekeeper-k8sgatekeeper">Виконайте команду <code>helm install k8sgatekeeper ./k8sgatekeeper</code>.<a href="#виконайте-команду-helm-install-k8sgatekeeper-k8sgatekeeper" class="hash-link" aria-label="Пряме посилання на виконайте-команду-helm-install-k8sgatekeeper-k8sgatekeeper" title="Пряме посилання на виконайте-команду-helm-install-k8sgatekeeper-k8sgatekeeper" translate="no">​</a></h4>
<ol start="3">
<li class=""></li>
</ol>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="спробуйте-k8s-gatekeeper-31-створення-моделі-та-політики-casbin">Спробуйте K8s-gatekeeper 3.1 Створення моделі та політики Casbin<a href="#спробуйте-k8s-gatekeeper-31-створення-моделі-та-політики-casbin" class="hash-link" aria-label="Пряме посила ння на Спробуйте K8s-gatekeeper 3.1 Створення моделі та політики Casbin" title="Пряме посилання на Спробуйте K8s-gatekeeper 3.1 Створення моделі та політики Casbin" translate="no">​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="у-вас-є-два-способи-створення-моделі-та-політики-через-kubectl-або-через-go-клієнт-який-ми-надаємо">У вас є два способи створення моделі та політики: через kubectl або через go-клієнт, який ми надаємо.<a href="#у-вас-є-два-способи-створення-моделі-та-політики-через-kubectl-або-через-go-клієнт-який-ми-надаємо" class="hash-link" aria-label="Пряме посилання на У вас є два способи створення моделі та політики: через kubectl або через go-клієнт, який ми надаємо." title="Пряме посилання на У вас є два способи створення моделі та політики: через kubectl або через go-клієнт, який ми надаємо." translate="no">​</a></h3>
<p>3.1.1 Створення/Оновлення моделі та політики Casbin через kubectl</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="у-k8s-gatekeeper-модель-casbin-зберігається-у-ресурсі-crd-під-назвою-casbinmodel">У K8s-gatekeeper модель Casbin зберігається у ресурсі CRD під назвою &#x27;CasbinModel&#x27;.<a href="#у-k8s-gatekeeper-модель-casbin-зберігається-у-ресурсі-crd-під-назвою-casbinmodel" class="hash-link" aria-label="Пряме посилання на У K8s-gatekeeper модель Casbin зберігається у ресурсі CRD під назвою &#x27;CasbinModel&#x27;." title="Пряме посилання на У K8s-gatekeeper модель Casbin зберігається у ресурсі CRD під назвою &#x27;CasbinModel&#x27;." translate="no">​</a></h4>
<p>Її визначення розташоване в <code>config/auth.casbin.org_casbinmodels.yaml</code>. Приклади є в <code>example/allowed_repo/model.yaml</code>.</p>
<p>Зверніть увагу на наступні поля: metadata.name: назва моделі.</p>
<ul>
<li class="">Ця назва ПОВИННА бути такою ж, як назва об&#x27;єкта CasbinPolicy, пов&#x27;язаного з цією моделлю, щоб K8s-gatekeeper міг їх спарувати та створити виконавця. spec.enable: якщо це поле встановлено в &#x27;false&#x27;, ця модель (а також об&#x27;єкт CasbinPolicy, пов&#x27;язаний з цією моделлю) буде ігноруватися.</li>
<li class="">spec.modelText: рядок, який містить текст моделі Casbin.</li>
<li class="">Політика Casbin зберігається в іншому ресурсі CRD під назвою &#x27;CasbinPolicy&#x27;, визначення якого можна знайти в <code>config/auth.casbin.org_casbinpolicies.yaml</code>.</li>
</ul>
<p>Приклади є в <code>example/allowed_repo/policy.yaml</code>.</p>
<p>Зверніть увагу на наступні поля: metadata.name: назва політики.</p>
<ul>
<li class="">Ця назва ПОВИННА бути такою ж, як назва об&#x27;єкта CasbinModel, пов&#x27;язаного з цією політикою, щоб K8s-gatekeeper міг їх спарувати та створити виконавця. spec.policyItem: рядок, який містить текст політики моделі Casbin.</li>
<li class="">Після створення власних файлів CasbinModel та CasbinPolicy використовуйте наступну команду для їх застосування:</li>
</ul>
<p>Як тільки пара CasbinModel та CasbinPolicy буде створена, K8s-gatekeeper зможе її виявити протягом 5 секунд.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f &lt;filename&gt;</span><br></span></code></pre></div></div>
<p>3.1.2 Створення/Оновлення моделі та політики Casbin через go-клієнт, який ми надаємо</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="ми-розуміємо-що-можуть-бути-ситуації-коли-не-зручно-використовувати-оболонку-для-виконання-команд-безпосередньо-на-вузлі-кластера-k8s-наприклад-коли-ви-будуєте-автоматичну-хмарну-платформу-для-вашої-корпорації">Ми розуміємо, що можуть бути ситуації, коли не зручно використовувати оболонку для виконання команд безпосередньо на вузлі кластера K8s, наприклад, коли ви будуєте автоматичну хмарну платформу для вашої корпорації.<a href="#ми-розуміємо-що-можуть-бути-ситуації-коли-не-зручно-використовувати-оболонку-для-виконання-команд-безпосередньо-на-вузлі-кластера-k8s-наприклад-коли-ви-будуєте-автоматичну-хмарну-платформу-для-вашої-корпорації" class="hash-link" aria-label="Пряме посилання на Ми розуміємо, що можуть бути ситуації, коли не зручно використовувати оболонку для виконання команд безпосередньо на вузлі кластера K8s, наприклад, коли ви будуєте автоматичну хмарну платформу для вашої корпорації." title="Пряме посилання на Ми розуміємо, що можуть бути ситуації, коли не зручно використовувати оболонку для виконання команд безпосередньо на вузлі кластера K8s, наприклад, коли ви будуєте автоматичну хмарну платформу для вашої корпорації." translate="no">​</a></h4>
<p>Тому ми розробили go-клієнт для створення та підтримки CasbinModel та CasbinPolicy. Бібліотека go-клієнта розташована в <code>pkg/client</code>.</p>
<p>У <code>client.go</code> ми надаємо функцію для створення клієнта.</p>
<p>In <code>client.go</code>, we provide a function to create a client.</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">NewK8sGateKeeperClient</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">externalClient </span><span class="token builtin">bool</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">K8sGateKeeperClient</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span></code></pre></div></div>
<p>The <code>externalClient</code> parameter determines whether K8s-gatekeeper is running inside the K8s cluster or not.</p>
<p>In <code>model.go</code>, we provide various functions to create, delete, and modify CasbinModel. You can find out how to use these interfaces in <code>model_test.go</code>.</p>
<p>In <code>policy.go</code>, we provide various functions to create, delete, and modify CasbiPolicy. You can find out how to use these interfaces in <code>policy_test.go</code>.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="312-try-whether-k8s-gatekeeper-works">3.1.2 Try Whether K8s-gatekeeper Works<a href="#312-try-whether-k8s-gatekeeper-works" class="hash-link" aria-label="Пряме посилання на 3.1.2 Try Whether K8s-gatekeeper Works" title="Пряме посилання на 3.1.2 Try Whether K8s-gatekeeper Works" translate="no">​</a></h3>
<p>Suppose you have already created the exact model and policy in <code>example/allowed_repo</code>. Now, try the following command:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f example/allowed_repo/testcase/reject_1.yaml</span><br></span></code></pre></div></div>
<p>You should find that K8s will reject this request and mention that the webhook was the reason why this request is rejected. However, when you try to apply <code>example/allowed_repo/testcase/approve_2.yaml</code>, it will be accepted.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="4-how-to-write-model-and-policy-with-k8s-gatekeeper">4. How to Write Model and Policy with K8s-gatekeeper<a href="#4-how-to-write-model-and-policy-with-k8s-gatekeeper" class="hash-link" aria-label="Пряме посилання на 4. How to Write Model and Policy with K8s-gatekeeper" title="Пряме посилання на 4. How to Write Model and Policy with K8s-gatekeeper" translate="no">​</a></h2>
<p>First of all, make sure you are familiar with the basic grammar of Casbin Models and Policies. If you are not, please read the <a class="" href="/uk/docs/get-started">Get Started</a> section first. In this chapter, we assume that you already understand what Casbin Models and Policies are.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="41-request-definition-of-model">4.1 Request Definition of Model<a href="#41-request-definition-of-model" class="hash-link" aria-label="Пряме посилання на 4.1 Request Definition of Model" title="Пряме посилання на 4.1 Request Definition of Model" translate="no">​</a></h3>
<p>When K8s-gatekeeper is authorizing a request, the input is always an object: the Go object of the Admission Request. This means that the enforcer will always be used like this:</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ok</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> enforcer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Enforce</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">admission</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>where <code>admission</code> is an <code>AdmissionReview</code> object defined by K8s&#x27;s official go api <code>&quot;k8s.io/api/admission/v1&quot;</code>. You can find the definition of this struct in this repository: <a href="https://github.com/kubernetes/api/blob/master/admission/v1/types.go" target="_blank" rel="noopener noreferrer" class="">https://github.com/kubernetes/api/blob/master/admission/v1/types.go</a>. For more information, you can also refer to <a href="https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#webhook-request-and-response" target="_blank" rel="noopener noreferrer" class="">https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#webhook-request-and-response</a>.</p>
<p>Therefore, for any model used by K8s-gatekeeper, the definition of the <code>request_definition</code> should always be like this:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">request_definition</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key attr-name" style="color:#00a4db">r</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain">  </span><span class="token value attr-value" style="color:#e3116c">obj</span><br></span></code></pre></div></div>
<p>The name &#x27;obj&#x27; is not mandatory, as long as the name is consistent with the name used in the <code>[matchers]</code> part.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="42-matchers-of-model">4.2 Matchers of Model<a href="#42-matchers-of-model" class="hash-link" aria-label="Пряме посилання на 4.2 Matchers of Model" title="Пряме посилання на 4.2 Matchers of Model" translate="no">​</a></h3>
<p>You are supposed to use the ABAC feature of Casbin to write your rules. However, the expression evaluator integrated in Casbin does not support indexing in maps or arrays(slices), nor the expansion of arrays. Therefore, K8s-gatekeeper provides various &#x27;Casbin functions&#x27; as extensions to implement these features. If you still find that your demand cannot be fulfilled by these extensions, feel free to start an issue, or create a pull request.</p>
<p>If you are not familiar with Casbin functions, you can refer to <a class="" href="/uk/docs/function">Function</a> for more information.</p>
<p>Here are the extension functions:</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="421-extension-functions">4.2.1 Extension functions<a href="#421-extension-functions" class="hash-link" aria-label="Пряме посилання на 4.2.1 Extension functions" title="Пряме посилання на 4.2.1 Extension functions" translate="no">​</a></h3>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="4211-access">4.2.1.1 access<a href="#4211-access" class="hash-link" aria-label="Пряме посилання на 4.2.1.1 access" title="Пряме посилання на 4.2.1.1 access" translate="no">​</a></h4>
<p>Access is used to solve the problem that Casbin does not support indexing in maps or arrays. The example <code>example/allowed_repo/model.yaml</code> demonstrates the usage of this function:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">matchers</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">m</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">r.obj.Request.Namespace == &quot;default&quot; &amp;&amp; r.obj.Request.Resource.Resource ==&quot;deployments&quot; &amp;&amp; \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, &quot;Image&quot;)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token value attr-value" style="color:#e3116c">= p.obj</span><br></span></code></pre></div></div>
<p>In this matcher, <code>access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, &quot;Image&quot;)</code> is equivalent to <code>r.obj.Request.Object.Object.Spec.Template.Spec.Containers[0].Image</code>, where <code>r.obj.Request.Object.Object.Spec.Template.Spec.Containers</code> is a slice.</p>
<p>Access can also call simple functions that have no parameters and return a single value. The example <code>example/container_resource_limit/model.yaml</code> demonstrates this:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">matchers</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key attr-name" style="color:#00a4db">m</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">r.obj.Request.Namespace == &quot;default&quot; &amp;&amp; r.obj.Request.Resource.Resource ==&quot;deployments&quot; &amp;&amp; \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key attr-name" style="color:#00a4db">parseFloat(access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, &quot;Resources&quot;,&quot;Limits&quot;,&quot;cpu&quot;,&quot;Value&quot;)) &gt;</span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">parseFloat(p.cpu) &amp;&amp; \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key attr-name" style="color:#00a4db">parseFloat(access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, &quot;Resources&quot;,&quot;Limits&quot;,&quot;memory&quot;,&quot;Value&quot;)) &gt;</span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">parseFloat(p.memory)</span><br></span></code></pre></div></div>
<p>In this matcher, <code>access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, &quot;Resources&quot;,&quot;Limits&quot;,&quot;cpu&quot;,&quot;Value&quot;)</code> is equivalent to <code>r.obj.Request.Object.Object.Spec.Template.Spec.Containers[0].Resources.Limits[&quot;cpu&quot;].Value()</code>, where <code>r.obj.Request.Object.Object.Spec.Template.Spec.Containers[0].Resources.Limits</code> is a map, and <code>Value()</code> is a simple function that has no parameters and returns a single value.</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="4212-accesswithwildcard">4.2.1.2 accessWithWildcard<a href="#4212-accesswithwildcard" class="hash-link" aria-label="Пряме посилання на 4.2.1.2 accessWithWildcard" title="Пряме посилання на 4.2.1.2 accessWithWildcard" translate="no">​</a></h4>
<p>Sometimes, you may have a demand like this: all elements in an array must have a prefix &quot;aaa&quot;. However, Casbin does not support <code>for</code> loops. With <code>accessWithWildcard</code> and the &quot;map/slice expansion&quot; feature, you can easily implement such a demand.</p>
<p>For example, suppose <code>a.b.c</code> is an array <code>[aaa,bbb,ccc,ddd,eee]</code>, then the result of <code>accessWithWildcard(a,&quot;b&quot;,&quot;c&quot;,&quot;*&quot;)</code> will be a slice <code>[aaa,bbb,ccc,ddd,eee]</code>. By using the wildcard <code>*</code>, the slice is expanded.</p>
<p>Similarly, the wildcard can be used more than once. For example, the result of <code>accessWithWildcard(a,&quot;b&quot;,&quot;c&quot;,&quot;*&quot;,&quot;*&quot;)</code> will be <code>[a.b.c[0][0], a.b.c[0][1], ..., a.b.c[1][0], a.b.c[1][1], ...]</code>.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="4213-functions-supporting-variable-length-arguments">4.2.1.3 Functions Supporting Variable-length Arguments<a href="#4213-functions-supporting-variable-length-arguments" class="hash-link" aria-label="Пряме посилання на 4.2.1.3 Functions Supporting Variable-length Arguments" title="Пряме посилання на 4.2.1.3 Functions Supporting Variable-length Arguments" translate="no">​</a></h3>
<p>In the expression evaluator of Casbin, when a parameter is an array, it will be automatically expanded as a variable-length argument. Використовуючи цю функцію для підтримки розширення масиву/зрізу/мапи, ми також інтегрували кілька функцій, які приймають масив/зріз як параметр:</p>
<ul>
<li class="">contain(): приймає кілька параметрів і повертає, чи будь-який параметр (крім останнього) дорівнює останньому параметру.</li>
<li class="">split(a,b,c...,sep,index): повертає фрагмент, який містить [splits(a,sep)[index], splits(b,sep)[index], splits(a,sep)[index], ...].</li>
<li class="">len(): повертає довжину аргументу змінної довжини.</li>
<li class="">matchRegex(a,b,c...,regex): повертає, чи всі дані параметри (a, b, c, ...) відповідають заданому regex. відповідають заданому regex.</li>
</ul>
<p>Ось приклад у <code>example/disallowed_tag/model.yaml</code>:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">matchers</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key attr-name" style="color:#00a4db">m</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">r.obj.Request.Namespace == &quot;default&quot; &amp;&amp; r.obj.Request.Resource.Resource ==&quot;deployments&quot; &amp;&amp; \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    contain(split(accessWithWildcard(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , &quot;*&quot;, &quot;Image&quot;),&quot;:&quot;,1) , p.obj)</span><br></span></code></pre></div></div>
<p>Припускаючи, що <code>accessWithWildcard(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , &quot;*&quot;, &quot;Image&quot;)</code> повертає <code>[&#x27;a:b&#x27;, &#x27;c:d&#x27;, &#x27;e:f&#x27;, &#x27;g:h&#x27;]</code>, оскільки splits підтримує аргументи змінної довжини та виконує операцію розбиття для кожного елемента, елемент з індексом 1 буде вибраний та повернений. Тому, <code>split(accessWithWildcard(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , &quot;*&quot;, &quot;Image&quot;),&quot;:&quot;,1)</code> повертає <code>[&#x27;b&#x27;,&#x27;d&#x27;,&#x27;f&#x27;,&#x27;h&#x27;]</code>. І <code>contain(split(accessWithWildcard(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , &quot;*&quot;, &quot;Image&quot;),&quot;:&quot;,1) , p.obj)</code> повертає, чи <code>p.obj</code> міститься в <code>[&#x27;b&#x27;,&#x27;d&#x27;,&#x27;f&#x27;,&#x27;h&#x27;]</code>.</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="4212-функції-конвертації-типів">4.2.1.2 Функції конвертації типів<a href="#4212-функції-конвертації-типів" class="hash-link" aria-label="Пряме посилання на 4.2.1.2 Функції конвертації типів" title="Пряме посилання на 4.2.1.2 Функції конвертації типів" translate="no">​</a></h4>
<ul>
<li class="">ParseFloat(): Перетворює ціле число в число з плаваючою комою (це необхідно, оскільки будь-яке число, що використовується у порівнянні, має бути перетворене у число з плаваючою комою).</li>
<li class="">ToString(): Перетворює об&#x27;єкт у рядок. Цей об&#x27;єкт має мати базовий тип рядка (наприклад, об&#x27;єкт типу <code>XXX</code>, коли є висловлювання <code>type XXX string</code>).</li>
<li class="">IsNil(): Повертає, чи параметр є nil.</li>
</ul>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="5-розширені-налаштування">5. Розширені налаштування<a href="#5-розширені-налаштування" class="hash-link" aria-label="Пряме посилання на 5. Розширені налаштування" title="Пряме посилання н а 5. Розширені налаштування" translate="no">​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="51-про-сертифікати">5.1 Про сертифікати<a href="#51-про-сертифікати" class="hash-link" aria-label="Пряме посилання на 5.1 Про сертифікати" title="Пряме посилання на 5.1 Про сертифікати" translate="no">​</a></h3>
<p>У Kubernetes (k8s) обов&#x27;язково, щоб webhook використовував HTTPS. Існує два підходи для досягнення цього:</p>
<ul>
<li class="">Використання самопідписаних сертифікатів (приклади у цьому репозиторії використовують цей метод)</li>
<li class="">Використання звичайного сертифіката</li>
</ul>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="511-самопідписані-сертифікати">5.1.1 Самопідписані сертифікати<a href="#511-самопідписані-сертифікати" class="hash-link" aria-label="Пряме посилання на 5.1.1 Самопідписані сертифікати" title="Пряме посилання на 5.1.1 Самопідписані сертифікати" translate="no">​</a></h4>
<p>Використання самопідписаного сертифіката означає, що Центр сертифікації (CA), який видає сертифікат, не є одним з відомих CA. Тому, ви повинні повідомити k8s про цей CA.</p>
<p>Наразі, приклад у цьому репозиторії використовує самостійно створений CA, приватний ключ та сертифікат якого зберігаються у <code>config/certificate/ca.crt</code> та <code>config/certificate/ca.key</code> відпові дно. Сертифікат для webhook є <code>config/certificate/server.crt</code>, який випущений самостійно створеним CA. Домени цього сертифіката - &quot;webhook.domain.local&quot; (для зовнішнього webhook) та &quot;casbin-webhook-svc.default.svc&quot; (для внутрішнього webhook).</p>
<p>Інформація про CA передається до k8s через конфігураційні файли webhook. Обидва <code>config/webhook_external.yaml</code> та <code>config/webhook_internal.yaml</code> мають поле під назвою &quot;CABundle&quot;, яке містить base64 закодований рядок сертифіката CA.</p>
<p>У випадку, якщо вам потрібно змінити сертифікат/домен (наприклад, якщо ви хочете помістити цей webhook в інший простір імен k8s, використовуючи внутрішній webhook, або якщо ви хочете змінити домен, використовуючи зовнішній webhook), слід дотримуватися наступних процедур:</p>
<ol>
<li class="">
<p>Створіть новий CA:</p>
<ul>
<li class="">
<p>Створіть приватний ключ для фейкового CA:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openssl genrsa -des3 -out ca.key 2048</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Видаліть захист паролем приватного ключа:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openssl rsa -in ca.key -out ca.key</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
<li class="">
<p>Створіть приватний ключ для сервера webhook:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openssl genrsa -des3 -out server.key 2048</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openssl rsa -in server.key -out server.key</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Використовуйте самостійно створений CA для підписання сертифіката для webhook:</p>
<ul>
<li class="">
<p>Скопіюйте конфігураційний файл openssl вашої системи для тимчасового використання. Ви можете дізнатися місцезнаходження конфігураційного файлу, запустивши <code>openssl version -a</code>, зазвичай називається <code>openssl.cnf</code>.</p>
</li>
<li class="">
<p>У конфігураційному файлі:</p>
<ul>
<li class="">
<p>Знайдіть параграф <code>[req]</code> та додайте наступний рядок: <code>req_extensions = v3_req</code></p>
</li>
<li class="">
<p>Знайдіть параграф <code>[v3_req]</code> та додайте наступний рядок: <code>subjectAltName = @alt_names</code></p>
</li>
<li class="">
<p>Додайте наступні рядки до файлу:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">alt_names</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">DNS.2</span><span class="token punctuation" style="color:#393A34">=</span><span class="token value attr-value" style="color:#e3116c">&lt;The domain you want&gt;</span><br></span></code></pre></div></div>
<p>Примітка: Замініть &#x27;casbin-webhook-svc.default.svc&#x27; на справжнє ім&#x27;я сервісу вашого сервісу, якщо ви вирішите змінити ім&#x27;я сервісу.</p>
</li>
</ul>
</li>
<li class="">
<p>Використовуйте змінений конфігураційний файл для генерації файлу запиту сертифіката:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openssl req -new -nodes -keyout server.key -out server.csr -config openssl.cnf</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Використовуйте самостійно створений CA для відповіді на запит та підписання сертифіката:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openssl x509 -req -days 3650 -in server.csr -out server.crt -CA ca.crt -CAkey ca.key -CAcreateserial -extensions v3_req -extensions SAN -extfile openssl.cnf</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
<li class="">
<p>Замініть поле &#x27;CABundle&#x27;: Обидва <code>config/webhook_external.yaml</code> та <code>config/webhook_internal.yaml</code> мають поле під назвою &quot;CABundle&quot;, яке містить base64 закодований рядок сертифіката CA.</p>
</li>
<li class="">
<p>Оновіть це поле новим сертифікатом.</p>
</li>
</ol>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="якщо-ви-використовуєте-helm-подібні-зміни-потрібно-застосувати-до-helm-charts">Якщо ви використовуєте helm, подібні зміни потрібно застосувати до helm charts.<a href="#якщо-ви-використовуєте-helm-подібні-зміни-потрібно-застосувати-до-helm-charts" class="hash-link" aria-label="Пряме посилання на Якщо ви використовуєте helm, подібні зміни потрібно застосувати до helm charts." title="Пряме посилання на Якщо ви використовуєте helm, подібні зміни потрібно застосувати до helm charts." translate="no">​</a></h4>
<p>5.1.2 Легальні сертифікати Якщо ви використовуєте легальні сертифікати, вам не потрібно проходити всі ці процедури.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/casbin/casbin-website-v2/edit/master/docs/K8sGateKeeper.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Редагувати цю сторінку</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Сторінки документації"><a class="pagination-nav__link pagination-nav__link--prev" href="/uk/docs/k8s"><div class="pagination-nav__sublabel">Попередній</div><div class="pagination-nav__label">Authorization of Kubernetes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/uk/docs/envoy"><div class="pagination-nav__sublabel">Наступний</div><div class="pagination-nav__label">Authorization of Service Mesh through Envoy</div></a></nav><br></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-огляд-та-документація-для-casbin-k8s-gatekeeper" class="table-of-contents__link toc-highlight">1. Огляд та документація для Casbin K8s-Gatekeeper</a><ul><li><a href="#01-простий-приклад" class="table-of-contents__link toc-highlight">0.1 Простий приклад</a></li><li><a href="#11-як-працює-casbin-k8s-gatekeeper" class="table-of-contents__link toc-highlight">1.1 Як працює Casbin K8s-Gatekeeper?</a></li><li><a href="#12-приклад-що-ілюструє-як-це-працює" class="table-of-contents__link toc-highlight">1.2 Приклад, що ілюструє, як це працює</a></li></ul></li><li><a href="#2-встановлення-k8s-gatekeeper" class="table-of-contents__link toc-highlight">2 Встановлення K8s-gatekeeper</a><ul><li><a href="#211-крок-1-побудова-зображення" class="table-of-contents__link toc-highlight">2.1.1 Крок 1: Побудова зображення</a></li><li><a href="#22-зовнішній-webhook" class="table-of-contents__link toc-highlight">2.2 Зовнішній webhook</a></li><li><a href="#231-крок-1-побудова-образу" class="table-of-contents__link toc-highlight">2.3.1 Крок 1: Побудова образу</a></li></ul></li><li><a href="#спробуйте-k8s-gatekeeper-31-створення-моделі-та-політики-casbin" class="table-of-contents__link toc-highlight">Спробуйте K8s-gatekeeper 3.1 Створення моделі та політики Casbin</a><ul><li><a href="#у-вас-є-два-способи-створення-моделі-та-політики-через-kubectl-або-через-go-клієнт-який-ми-надаємо" class="table-of-contents__link toc-highlight">У вас є два способи створення моделі та політики: через kubectl або через go-клієнт, який ми надаємо.</a></li><li><a href="#312-try-whether-k8s-gatekeeper-works" class="table-of-contents__link toc-highlight">3.1.2 Try Whether K8s-gatekeeper Works</a></li></ul></li><li><a href="#4-how-to-write-model-and-policy-with-k8s-gatekeeper" class="table-of-contents__link toc-highlight">4. How to Write Model and Policy with K8s-gatekeeper</a><ul><li><a href="#41-request-definition-of-model" class="table-of-contents__link toc-highlight">4.1 Request Definition of Model</a></li><li><a href="#42-matchers-of-model" class="table-of-contents__link toc-highlight">4.2 Matchers of Model</a></li><li><a href="#421-extension-functions" class="table-of-contents__link toc-highlight">4.2.1 Extension functions</a></li><li><a href="#4213-functions-supporting-variable-length-arguments" class="table-of-contents__link toc-highlight">4.2.1.3 Functions Supporting Variable-length Arguments</a></li></ul></li><li><a href="#5-розширені-налаштування" class="table-of-contents__link toc-highlight">5. Розширені налаштування</a><ul><li><a href="#51-про-сертифікати" class="table-of-contents__link toc-highlight">5.1 Про сертифікати</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Документація</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/uk/docs/get-started">Початок роботи</a></li><li class="footer__item"><a class="footer__link-item" href="/uk/docs/management-api">API управління</a></li><li class="footer__item"><a class="footer__link-item" href="/uk/docs/rbac-api">API RBAC</a></li><li class="footer__item"><a class="footer__link-item" href="/uk/docs/middlewares">Проміжні програми</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Спільнота</div><ul class="footer__items clean-list"><li class="footer__item">
                <a href="https://discord.gg/S5UjpzGZjN" target="_blank" rel="noopener noreferrer" class="footer__link-item footer-community-link">
                  <svg class="footer-community-icon" viewBox="0 0 127.14 96.36" xmlns="http://www.w3.org/2000/svg">
                    <path d="M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.89,105.89,0,0,0,19.39,8.09C2.79,32.65-1.71,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.7,77.7,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1A105.25,105.25,0,0,0,126.6,80.22h0C129.24,52.84,122.09,29.11,107.7,8.07ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.89,53,48.84,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5-12.74,11.44-12.74S96.23,46,96.12,53,91.08,65.69,84.69,65.69Z"/>
                  </svg>
                  <span>Discord</span>
                </a>
              </li><li class="footer__item">
                <a href="https://stackoverflow.com/search?q=casbin" target="_blank" rel="noopener noreferrer" class="footer__link-item footer-community-link">
                  <svg class="footer-community-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18.986 21.865v-6.404h2.134V24H1.844v-8.539h2.13v6.404h15.012zM6.111 19.731H16.85v-2.137H6.111v2.137zm.259-4.852l10.48 2.189.451-2.07-10.478-2.187-.453 2.068zm1.359-5.056l9.705 4.53.903-1.95-9.706-4.53-.902 1.936v.014zm2.715-4.785l8.217 6.855 1.359-1.62-8.216-6.853-1.35 1.617-.01.001zM15.751 0l-1.746 1.294 6.405 8.604 1.746-1.294L15.749 0h.002z"/>
                  </svg>
                  <span>Stack Overflow</span>
                </a>
              </li><li class="footer__item">
                <a href="https://groups.google.com/g/casbin" target="_blank" rel="noopener noreferrer" class="footer__link-item footer-community-link">
                  <svg class="footer-community-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                  </svg>
                  <span>Google Groups</span>
                </a>
              </li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Більше</div><ul class="footer__items clean-list"><li class="footer__item">
                <a href="https://github.com/casbin/casbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/casbin?label=Casbin&style=social">
                </a>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://github.com/casbin/jcasbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/jcasbin?label=jCasbin&style=social">
                </a>
              </li><li class="footer__item">
                <a href="https://github.com/casbin/node-casbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/node-casbin?label=Node-Casbin&style=social">
                </a>
                &nbsp;&nbsp;
                <a href="https://github.com/php-casbin/php-casbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/php-casbin/php-casbin?label=PHP-Casbin&style=social">
                </a>
              </li><li class="footer__item">
                <a href="https://github.com/casbin/pycasbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/pycasbin?label=PyCasbin&style=social">
                </a>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://github.com/casbin/Casbin.NET" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/Casbin.NET?label=Casbin.NET&style=social">
                </a>
              </li><li class="footer__item">
                <a href="https://github.com/casbin/casbin-cpp" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/casbin-cpp?label=Casbin-CPP&style=social">
                </a>
                &nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://github.com/casbin/casbin-rs" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/casbin-rs?label=Casbin-RS&style=social">
                </a>
              </li><li class="footer__item">
                <a href="https://twitter.com/casbinHQ" target="_blank">
                  <img alt="Twitter Follow" src="https://img.shields.io/twitter/follow/casbinHQ?style=social">
                </a>
              </li><li class="footer__item">
<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?2c0ffc6f8d49e98d964d59d7aa4cbf34";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
</li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_BH7S" href="/uk/"><img src="/uk/img/casbin_min.svg" alt="Логотип Casbin" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/uk/img/casbin_min.svg" alt="Логотип Casbin" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">Copyright © 2025 Casbin Organization</div></div></div></footer></div>
</body>
</html>