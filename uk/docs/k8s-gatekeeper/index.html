<!doctype html>
<html lang="uk" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-k8s-gatekeeper" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Admission Webhook for K8s | Casbin</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://casbin.org/uk/docs/k8s-gatekeeper"><meta data-rh="true" name="docusaurus_locale" content="uk"><meta data-rh="true" name="docsearch:language" content="uk"><meta data-rh="true" name="Casbin" content="An authorization library that supports access control models like ACL, RBAC, ABAC, ReBAC, PBAC, OrBAC, BLP, Biba, LBAC, UCON for Golang, Java, C/C++, Node.js, Javascript, PHP, Laravel, Python, .NET (C#), Delphi, Rust, Ruby, Swift (Objective-C), Lua (OpenResty), Dart (Flutter) and Elixir"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Admission Webhook for K8s | Casbin"><meta data-rh="true" name="description" content="Kubernetes (K8s) RBAC &amp; ABAC –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ–π–Ω–µ –ø—Ä–æ–º—ñ–∂–Ω–µ –ø—Ä–æ–≥—Ä–∞–º–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ Casbin"><meta data-rh="true" property="og:description" content="Kubernetes (K8s) RBAC &amp; ABAC –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ–π–Ω–µ –ø—Ä–æ–º—ñ–∂–Ω–µ –ø—Ä–æ–≥—Ä–∞–º–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ Casbin"><meta data-rh="true" name="keywords" content="k8s-gatekeeper,Kubernetes,K8s"><link data-rh="true" rel="icon" href="/uk/img/favicon.png"><link data-rh="true" rel="canonical" href="https://casbin.org/uk/docs/k8s-gatekeeper"><link data-rh="true" rel="alternate" href="https://casbin.org/docs/k8s-gatekeeper" hreflang="en"><link data-rh="true" rel="alternate" href="https://casbin.org/zh/docs/k8s-gatekeeper" hreflang="zh"><link data-rh="true" rel="alternate" href="https://casbin.org/ko/docs/k8s-gatekeeper" hreflang="ko"><link data-rh="true" rel="alternate" href="https://casbin.org/ru/docs/k8s-gatekeeper" hreflang="ru"><link data-rh="true" rel="alternate" href="https://casbin.org/fr/docs/k8s-gatekeeper" hreflang="fr"><link data-rh="true" rel="alternate" href="https://casbin.org/de/docs/k8s-gatekeeper" hreflang="de"><link data-rh="true" rel="alternate" href="https://casbin.org/ja/docs/k8s-gatekeeper" hreflang="ja"><link data-rh="true" rel="alternate" href="https://casbin.org/es/docs/k8s-gatekeeper" hreflang="es"><link data-rh="true" rel="alternate" href="https://casbin.org/pt/docs/k8s-gatekeeper" hreflang="pt"><link data-rh="true" rel="alternate" href="https://casbin.org/uk/docs/k8s-gatekeeper" hreflang="uk"><link data-rh="true" rel="alternate" href="https://casbin.org/th/docs/k8s-gatekeeper" hreflang="th"><link data-rh="true" rel="alternate" href="https://casbin.org/ar/docs/k8s-gatekeeper" hreflang="ar"><link data-rh="true" rel="alternate" href="https://casbin.org/id/docs/k8s-gatekeeper" hreflang="id"><link data-rh="true" rel="alternate" href="https://casbin.org/vi/docs/k8s-gatekeeper" hreflang="vi"><link data-rh="true" rel="alternate" href="https://casbin.org/it/docs/k8s-gatekeeper" hreflang="it"><link data-rh="true" rel="alternate" href="https://casbin.org/ms/docs/k8s-gatekeeper" hreflang="ms"><link data-rh="true" rel="alternate" href="https://casbin.org/tr/docs/k8s-gatekeeper" hreflang="tr"><link data-rh="true" rel="alternate" href="https://casbin.org/docs/k8s-gatekeeper" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://6NBEV8TOFK-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/uk/blog/rss.xml" title="Casbin RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/uk/blog/atom.xml" title="Casbin Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8S2TKCJ27X"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-8S2TKCJ27X",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Casbin" href="/uk/opensearch.xml">
<script src="/js/isMainland.js" async></script>
<script src="/js/hotjar.js" async></script>
<script src="/js/probe.js" async></script>
<script src="/js/clarity.js" async></script><link rel="stylesheet" href="/uk/assets/css/styles.f98752db.css">
<link rel="preload" href="/uk/assets/js/runtime~main.38c9108a.js" as="script">
<link rel="preload" href="/uk/assets/js/main.eea4f9cc.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="–ü–µ—Ä–µ–π—Ç–∏ –¥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">–ü–µ—Ä–µ–π—Ç–∏ –¥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É</a></div><div class="announcementBar_mb4j" role="banner"><div class="content_knG7 announcementBarContent_xLdY"><a target="_blank" href="https://github.com/casibase/casibase/">üíñ Looking for an open-source LangChain-like AI knowledge database & chat bot with admin UI and multi-model support (ChatGPT, Claude, Llama 3, DeepSeek R1, HuggingFace, etc.) ? Learn more about: Casibase</a></div></div><nav aria-label="–ì–æ–ª–æ–≤–Ω–∞" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏ –ø–∞–Ω–µ–ª—å –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/uk/"><div class="navbar__logo"><img src="/uk/img/casbin.svg" alt="–õ–æ–≥–æ—Ç–∏–ø –º–æ–≥–æ —Å–∞–π—Ç—É" class="themedImage_ToTc themedImage--light_HNdA"><img src="/uk/img/casbin.svg" alt="–õ–æ–≥–æ—Ç–∏–ø –º–æ–≥–æ —Å–∞–π—Ç—É" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Casbin</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/uk/docs/overview">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/uk/docs/get-started">–†–æ–∑–ø–æ—á–∞—Ç–∏</a></li><li><a class="dropdown__link" href="/uk/docs/category/model">–ú–æ–¥–µ–ª—å</a></li><li><a class="dropdown__link" href="/uk/docs/category/storage">–ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è</a></li><li><a class="dropdown__link" href="/uk/docs/adapters">–ê–¥–∞–ø—Ç–µ—Ä–∏</a></li><li><a class="dropdown__link" href="/uk/docs/category/api">API</a></li><li><a class="dropdown__link" href="/uk/docs/ide-plugins">–ü–ª–∞–≥—ñ–Ω–∏ IDE</a></li><li><a class="dropdown__link" href="/uk/docs/contributing">–ü–æ—á–∞—Ç–∏ –≤–Ω–µ—Å–æ–∫</a></li></ul></div><a class="navbar__item navbar__link" href="/uk/ecosystem">–ï–∫–æ—Å–∏—Å—Ç–µ–º–∞</a><a class="navbar__item navbar__link" href="/uk/blog">–ë–ª–æ–≥</a><a class="navbar__item navbar__link" href="/uk/help">–î–æ–ø–æ–º–æ–≥–∞</a><a class="navbar__item navbar__link" href="/uk/editor">–†–µ–¥–∞–∫—Ç–æ—Ä</a><a class="navbar__item navbar__link" href="/uk/gallery">Gallery</a><a href="https://casdoor.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">For Enterprise<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://casdoor.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Hosting Plan (SaaS)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</a><ul class="dropdown__menu"><li><a href="/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">‰∏≠Êñá</a></li><li><a href="/ko/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">ÌïúÍµ≠Ïñ¥</a></li><li><a href="/ru/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ru">–†—É—Å—Å–∫–∏–π</a></li><li><a href="/fr/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Fran√ßais</a></li><li><a href="/de/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="/ja/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">Êó•Êú¨Ë™û</a></li><li><a href="/es/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Espa√±ol</a></li><li><a href="/pt/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">Portugu√™s</a></li><li><a href="/uk/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="uk">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</a></li><li><a href="/th/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="th">‡πÑ‡∏ó‡∏¢</a></li><li><a href="/ar/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</a></li><li><a href="/id/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="id">Indonesia</a></li><li><a href="/vi/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="vi">Ti·∫øng Vi·ªát</a></li><li><a href="/it/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="it">Italiano</a></li><li><a href="/ms/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ms">Melayu</a></li><li><a href="/tr/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="tr">T√ºrk√ße</a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://crowdin.com/project/casbin-website" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help Us Translate<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/casbin/casbin" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://discord.gg/S5UjpzGZjN" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-community-discord"></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="–ü–æ—à—É–∫"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">–ü–æ—à—É–∫</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="–ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –º—ñ–∂ —Ç–µ–º–Ω–∏–º —Ç–∞ —Å–≤—ñ—Ç–ª–∏–º —Ä–µ–∂–∏–º–æ–º (–∑–∞—Ä–∞–∑ —Å–≤—ñ—Ç–ª–∏–π —Ä–µ–∂–∏–º)" aria-label="–ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –º—ñ–∂ —Ç–µ–º–Ω–∏–º —Ç–∞ —Å–≤—ñ—Ç–ª–∏–º —Ä–µ–∂–∏–º–æ–º (–∑–∞—Ä–∞–∑ —Å–≤—ñ—Ç–ª–∏–π —Ä–µ–∂–∏–º)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–∏ –Ω–∞–∑–∞–¥ –¥–æ –ø–æ—á–∞—Ç–∫—É" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/uk/"><img src="/uk/img/casbin.svg" alt="–õ–æ–≥–æ—Ç–∏–ø –º–æ–≥–æ —Å–∞–π—Ç—É" class="themedImage_ToTc themedImage--light_HNdA"><img src="/uk/img/casbin.svg" alt="–õ–æ–≥–æ—Ç–∏–ø –º–æ–≥–æ —Å–∞–π—Ç—É" class="themedImage_ToTc themedImage--dark_i4oU"><b>Casbin</b></a><nav aria-label="–ë—ñ—á–Ω–∞ –ø–∞–Ω–µ–ª—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/uk/docs/category/the-basics">–û—Å–Ω–æ–≤–∏</a><button aria-label="–ü–µ—Ä–µ–º–∫–Ω—É—Ç–∏ —Ä–æ–∑–∫—Ä–∏–≤–Ω–∏–π –±—ñ—á–Ω–∏–π –±–∞—Ä –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó &#x27;–û—Å–Ω–æ–≤–∏&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/get-started">Get Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/how-it-works">How It Works</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/tutorials">Tutorials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/understanding-casbin-detail">Understanding How Casbin Matching Works in Detail</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/pdf">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è PDF</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/uk/docs/category/model">–ú–æ–¥–µ–ª—å</a><button aria-label="–ü–µ—Ä–µ–º–∫–Ω—É—Ç–∏ —Ä–æ–∑–∫—Ä–∏–≤–Ω–∏–π –±—ñ—á–Ω–∏–π –±–∞—Ä –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó &#x27;–ú–æ–¥–µ–ª—å&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/supported-models">Supported Models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/syntax-for-models">Syntax for Models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/effector">Effector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/function">Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/rbac">RBAC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/rbac-with-pattern">RBAC with Pattern</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/rbac-with-domains">RBAC with Domains</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/rbac-with-conditions">RBAC with Conditions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/rbac-96">Casbin RBAC vs. RBAC96</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/rebac">ReBAC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/abac">ABAC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/pbac">PBAC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/blp">BLP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/biba">Biba</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/lbac">LBAC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/orbac">OrBAC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/priority-model">Priority Model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/ucon">Usage Control (UCON)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/superadmin">Super Admin</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/uk/docs/category/storage">–ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è</a><button aria-label="–ü–µ—Ä–µ–º–∫–Ω—É—Ç–∏ —Ä–æ–∑–∫—Ä–∏–≤–Ω–∏–π –±—ñ—á–Ω–∏–π –±–∞—Ä –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó &#x27;–ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/model-storage">Model Storage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/policy-storage">Policy Storage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/policy-subset-loading">Policy Subset Loading</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/uk/docs/category/scenarios">–°—Ü–µ–Ω–∞—Ä—ñ—ó</a><button aria-label="–ü–µ—Ä–µ–º–∫–Ω—É—Ç–∏ —Ä–æ–∑–∫—Ä–∏–≤–Ω–∏–π –±—ñ—á–Ω–∏–π –±–∞—Ä –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó &#x27;–°—Ü–µ–Ω–∞—Ä—ñ—ó&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/data-permissions">Data Permissions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/menu-permissions">Menu Permissions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/uk/docs/category/extensions">–†–æ–∑—à–∏—Ä–µ–Ω–Ω—è</a><button aria-label="–ü–µ—Ä–µ–º–∫–Ω—É—Ç–∏ —Ä–æ–∑–∫—Ä–∏–≤–Ω–∏–π –±—ñ—á–Ω–∏–π –±–∞—Ä –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó &#x27;–†–æ–∑—à–∏—Ä–µ–Ω–Ω—è&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/enforcers">Enforcers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/adapters">Adapters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/watchers">Watchers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/dispatchers">Dispatchers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/role-managers">Role Managers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/middlewares">Middlewares</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/graphql-middlewares">GraphQL Middlewares</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/cloud-native">Cloud Native Middlewares</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/uk/docs/category/api">API</a><button aria-label="–ü–µ—Ä–µ–º–∫–Ω—É—Ç–∏ —Ä–æ–∑–∫—Ä–∏–≤–Ω–∏–π –±—ñ—á–Ω–∏–π –±–∞—Ä –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó &#x27;API&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/api-overview">API Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/management-api">Management API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/rbac-api">RBAC API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/rbac-with-domains-api">RBAC with Domains API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/rbac-with-conditions-api">RBAC with Conditions API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/rolemanager-api">RoleManager API</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/uk/docs/category/advanced-usage">–†–æ–∑—à–∏—Ä–µ–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è</a><button aria-label="–ü–µ—Ä–µ–º–∫–Ω—É—Ç–∏ —Ä–æ–∑–∫—Ä–∏–≤–Ω–∏–π –±—ñ—á–Ω–∏–π –±–∞—Ä –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó &#x27;–†–æ–∑—à–∏—Ä–µ–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/multi-threading">Multi-threading</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/benchmark">Benchmarks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/performance">Performance Optimization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/k8s">Authorization of Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/uk/docs/k8s-gatekeeper">Admission Webhook for K8s</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/envoy">Authorization of Service Mesh through Envoy</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/uk/docs/category/management">–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è</a><button aria-label="–ü–µ—Ä–µ–º–∫–Ω—É—Ç–∏ —Ä–æ–∑–∫—Ä–∏–≤–Ω–∏–π –±—ñ—á–Ω–∏–π –±–∞—Ä –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó &#x27;–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/admin-portal">Admin Portal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/service">Casbin Service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/command-line-tools">Command-line Tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/log-error">Log &amp; Error Handling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/frontend">Frontend Usage</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/uk/docs/category/editor">–†–µ–¥–∞–∫—Ç–æ—Ä</a><button aria-label="–ü–µ—Ä–µ–º–∫–Ω—É—Ç–∏ —Ä–æ–∑–∫—Ä–∏–≤–Ω–∏–π –±—ñ—á–Ω–∏–π –±–∞—Ä –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó &#x27;–†–µ–¥–∞–∫—Ç–æ—Ä&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/online-editor">Online Editor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/ide-plugins">IDE Plugins</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/uk/docs/category/more">–ë—ñ–ª—å—à–µ</a><button aria-label="–ü–µ—Ä–µ–º–∫–Ω—É—Ç–∏ —Ä–æ–∑–∫—Ä–∏–≤–Ω–∏–π –±—ñ—á–Ω–∏–π –±–∞—Ä –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó &#x27;–ë—ñ–ª—å—à–µ&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/adopters">Our Adopters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/contributing">Contributing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/privacy-policy">Privacy Policy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/terms-of-service">Terms of Service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uk/docs/refund-policy">Refund Policy</a></li></ul></li></ul></nav><button type="button" title="–ó–≥–æ—Ä–Ω—É—Ç–∏ –±—ñ—á–Ω—É –ø–∞–Ω–µ–ª—å" aria-label="–ó–≥–æ—Ä–Ω—É—Ç–∏ –±—ñ—á–Ω—É –ø–∞–Ω–µ–ª—å" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="–ù–∞–≤—ñ–≥–∞—Ü—ñ–π–Ω—ñ —Å—Ç–µ–∂–∫–∏"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="–î–æ–º–∞—à–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∞" class="breadcrumbs__link" href="/uk/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/uk/docs/category/advanced-usage"><span itemprop="name">–†–æ–∑—à–∏—Ä–µ–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Admission Webhook for K8s</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">–ù–∞ —Ü—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ</button></div><div class="theme-doc-markdown markdown"><header><h1>Admission Webhook for K8s</h1></header><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1-–æ–≥–ª—è–¥-—Ç–∞-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è-–¥–ª—è-casbin-k8s-gatekeeper">1. –û–≥–ª—è–¥ —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¥–ª—è Casbin K8s-Gatekeeper<a href="#1-–æ–≥–ª—è–¥-—Ç–∞-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è-–¥–ª—è-casbin-k8s-gatekeeper" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 1. –û–≥–ª—è–¥ —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¥–ª—è Casbin K8s-Gatekeeper" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 1. –û–≥–ª—è–¥ —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¥–ª—è Casbin K8s-Gatekeeper">‚Äã</a></h2><p>Casbin K8s-GateKeeper - —Ü–µ –≤–µ–±—Ö—É–∫ –¥–ª—è –ø—Ä–∏–π–æ–º—É –≤ Kubernetes, —è–∫–∏–π —ñ–Ω—Ç–µ–≥—Ä—É—î Casbin —è–∫ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∫–æ–Ω—Ç—Ä–æ–ª—é –¥–æ—Å—Ç—É–ø—É. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ Casbin K8s-GateKeeper, –≤–∏ –º–æ–∂–µ—Ç–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≥–Ω—É—á–∫—ñ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –∞–±–æ –ø–µ—Ä–µ—Ö–æ–ø–ª–µ–Ω–Ω—è –±—É–¥—å-—è–∫–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ —Ä–µ—Å—É—Ä—Å–∞–º–∏ K8s, –ù–ï –ø–∏—à—É—á–∏ –∂–æ–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞ –∫–æ–¥—É, –∞ –ª–∏—à–µ –∫—ñ–ª—å–∫–∞ —Ä—è–¥–∫—ñ–≤ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∏—Ö –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π –º–æ–¥–µ–ª–µ–π —Ç–∞ –ø–æ–ª—ñ—Ç–∏–∫ Casbin, —è–∫—ñ —î —á–∞—Å—Ç–∏–Ω–æ—é –º–æ–≤–∏ ACL (—Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç—Ä–æ–ª—é –¥–æ—Å—Ç—É–ø—É) Casbin.</p><p>Casbin K8s-GateKeeper —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è —Å–ø—ñ–ª—å–Ω–æ—Ç–æ—é Casbin. –†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π —Ü—å–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É –¥–æ—Å—Ç—É–ø–Ω–∏–π —Ç—É—Ç: <a href="https://github.com/casbin/k8s-gatekeeper" target="_blank" rel="noopener noreferrer">https://github.com/casbin/k8s-gatekeeper</a></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="01-–ø—Ä–æ—Å—Ç–∏–π-–ø—Ä–∏–∫–ª–∞–¥">0.1 –ü—Ä–æ—Å—Ç–∏–π –ø—Ä–∏–∫–ª–∞–¥<a href="#01-–ø—Ä–æ—Å—Ç–∏–π-–ø—Ä–∏–∫–ª–∞–¥" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 0.1 –ü—Ä–æ—Å—Ç–∏–π –ø—Ä–∏–∫–ª–∞–¥" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 0.1 –ü—Ä–æ—Å—Ç–∏–π –ø—Ä–∏–∫–ª–∞–¥">‚Äã</a></h3><p>–ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–∏—Å–∞—Ç–∏ –∂–æ–¥–Ω–æ–≥–æ –∫–æ–¥—É, –∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω—ñ —Ä—è–¥–∫–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –¥–ª—è –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è —Ü—ñ—î—ó —Ñ—É–Ω–∫—Ü—ñ—ó: &quot;–ó–∞–±–æ—Ä–æ–Ω–∏—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å –∑ –¥–µ—è–∫–∏–º–∏ –≤–∫–∞–∑–∞–Ω–∏–º–∏ —Ç–µ–≥–∞–º–∏ –≤ –±—É–¥—å-—è–∫–∏—Ö —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è—Ö&quot;:</p><p>Model:</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">request_definition</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">r</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain">  </span><span class="token value attr-value" style="color:#e3116c">obj</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">policy_definition</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">p</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain">  </span><span class="token value attr-value" style="color:#e3116c">obj,eft</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">policy_effect</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">e</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">!some(where (p.eft == deny))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">matchers</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">m</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">r.obj.Request.Namespace == &quot;default&quot; &amp;&amp; r.obj.Request.Resource.Resource ==&quot;deployments&quot; &amp;&amp; \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">contain(split(accessWithWildcard(${OBJECT}.Spec.Template.Spec.Containers , &quot;*&quot;, &quot;Image&quot;),&quot;:&quot;,1) , p.obj)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And Policy:</p><div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> </span><span class="token value">&quot;1.14.1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value">deny</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>–¶–µ –∑–≤–∏—á–∞–π–Ω–∞ –º–æ–≤–∞ ACL Casbin. –ü—Ä–∏–ø—É—Å—Ç–∏–º–æ, –≤–∏ –≤–∂–µ –ø—Ä–æ—á–∏—Ç–∞–ª–∏ —Ä–æ–∑–¥—ñ–ª–∏ –ø—Ä–æ –Ω–∏—Ö, —Ç–æ–¥—ñ –±—É–¥–µ –¥—É–∂–µ –ª–µ–≥–∫–æ –∑—Ä–æ–∑—É–º—ñ—Ç–∏.</p><p>Casbin K8s-Gatekeeper –º–∞—î –Ω–∞—Å—Ç—É–ø–Ω—ñ –ø–µ—Ä–µ–≤–∞–≥–∏:</p><ul><li>–õ–µ–≥–∫–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏. –ù–∞–ø–∏—Å–∞–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Ö —Ä—è–¥–∫—ñ–≤ ACL –Ω–∞–±–∞–≥–∞—Ç–æ –∫—Ä–∞—â–µ, –Ω—ñ–∂ –Ω–∞–ø–∏—Å–∞–Ω–Ω—è –±–∞–≥–∞—Ç—å–æ—Ö —Ä—è–¥–∫—ñ–≤ –∫–æ–¥—É.</li><li>–î–æ–∑–≤–æ–ª—è—î –≥–∞—Ä—è—á–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π. –í–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–º–∏–∫–∞—Ç–∏ –≤–µ—Å—å –ø–ª–∞–≥—ñ–Ω, —â–æ–± –∑–º—ñ–Ω–∏—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó.</li><li>–¶–µ –≥–Ω—É—á–∫–æ. –ú–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –¥–æ–≤—ñ–ª—å–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞ –±—É–¥—å-—è–∫–∏–π —Ä–µ—Å—É—Ä—Å K8s, —è–∫–∏–π –º–æ–∂–Ω–∞ –¥–æ—Å–ª—ñ–¥–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é <code>kubectl gatekeeper</code>.</li><li>–¶–µ —Å–ø—Ä–æ—â—É—î —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é –≤–µ–±—Ö—É–∫–∞ –ø—Ä–∏–π–æ–º—É K8s, —è–∫–∏–π —î –¥—É–∂–µ —Å–∫–ª–∞–¥–Ω–∏–º. –í–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–Ω–∞—Ç–∏, —â–æ —Ç–∞–∫–µ –≤–µ–±—Ö—É–∫ –ø—Ä–∏–π–æ–º—É K8s –∞–±–æ —è–∫ –ø–∏—Å–∞—Ç–∏ –∫–æ–¥ –¥–ª—è –Ω—å–æ–≥–æ. –í—Å–µ, —â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑—Ä–æ–±–∏—Ç–∏, —Ü–µ –∑–Ω–∞—Ç–∏ —Ä–µ—Å—É—Ä—Å, –Ω–∞ —è–∫–æ–º—É –≤–∏ —Ö–æ—á–µ—Ç–µ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è, –∞ –ø–æ—Ç—ñ–º –Ω–∞–ø–∏—Å–∞—Ç–∏ Casbin ACL. –í—Å—ñ –∑–Ω–∞—é—Ç—å, —â–æ K8s —Å–∫–ª–∞–¥–Ω–∏–π, –∞–ª–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ Casbin K8s-Gatekeeper, –≤–∏ –º–æ–∂–µ—Ç–µ –∑–∞–æ—â–∞–¥–∏—Ç–∏ —á–∞—Å.</li><li>–¶–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è —Å–ø—ñ–ª—å–Ω–æ—Ç–æ—é Casbin. –ù–µ —Å–æ—Ä–æ–º—Ç–µ—Å—è –∑–≤–µ—Ä—Ç–∞—Ç–∏—Å—è –¥–æ –Ω–∞—Å, —è–∫—â–æ —â–æ—Å—å —É —Ü—å–æ–º—É –ø–ª–∞–≥—ñ–Ω—ñ –≤–∞—Å –±–µ–Ω—Ç–µ–∂–∏—Ç—å –∞–±–æ —è–∫—â–æ –≤–∏ –∑—ñ—Ç–∫–Ω—É–ª–∏—Å—è –∑ –±—É–¥—å-—è–∫–∏–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –ø—ñ–¥ —á–∞—Å —Å–ø—Ä–æ–±–∏ —Ü—å–æ–≥–æ.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="11-—è–∫-–ø—Ä–∞—Ü—é—î-casbin-k8s-gatekeeper">1.1 –Ø–∫ –ø—Ä–∞—Ü—é—î Casbin K8s-Gatekeeper?<a href="#11-—è–∫-–ø—Ä–∞—Ü—é—î-casbin-k8s-gatekeeper" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 1.1 –Ø–∫ –ø—Ä–∞—Ü—é—î Casbin K8s-Gatekeeper?" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 1.1 –Ø–∫ –ø—Ä–∞—Ü—é—î Casbin K8s-Gatekeeper?">‚Äã</a></h3><p>K8s-Gatekeeper - —Ü–µ –≤–µ–±—Ö—É–∫ –¥–ª—è –ø—Ä–∏–π–æ–º—É –≤ K8s, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î <a href="/uk/docs/overview">Casbin</a> –¥–ª—è –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –¥–æ–≤—ñ–ª—å–Ω–∏—Ö –ø—Ä–∞–≤–∏–ª –∫–æ–Ω—Ç—Ä–æ–ª—é –¥–æ—Å—Ç—É–ø—É, –≤–∏–∑–Ω–∞—á–µ–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º, —â–æ–± –¥–æ–ø–æ–º–æ–≥—Ç–∏ –∑–∞–ø–æ–±—ñ–≥—Ç–∏ –±—É–¥—å-—è–∫—ñ–π –æ–ø–µ—Ä–∞—Ü—ñ—ó –≤ K8s, —è–∫—É –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–µ —Ö–æ—á–µ.</p><p>Casbin - —Ü–µ –ø–æ—Ç—É–∂–Ω–∞ —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—é –¥–æ—Å—Ç—É–ø—É –∑ –≤—ñ–¥–∫—Ä–∏—Ç–∏–º –≤–∏—Ö—ñ–¥–Ω–∏–º –∫–æ–¥–æ–º. –í–æ–Ω–∞ –Ω–∞–¥–∞—î –ø—ñ–¥—Ç—Ä–∏–º–∫—É –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ä—ñ–∑–Ω–∏—Ö –º–æ–¥–µ–ª–µ–π –∫–æ–Ω—Ç—Ä–æ–ª—é –¥–æ—Å—Ç—É–ø—É. –î–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ Casbin, –¥–∏–≤—ñ—Ç—å—Å—è <a href="/uk/docs/overview">–û–≥–ª—è–¥</a>.</p><p>–í–µ–±—Ö—É–∫–∏ –ø—Ä–∏–π–æ–º—É –≤ K8s - —Ü–µ HTTP-–∑–≤–æ—Ä–æ—Ç–Ω—ñ –≤–∏–∫–ª–∏–∫–∏, —è–∫—ñ –æ—Ç—Ä–∏–º—É—é—Ç—å &#x27;–∑–∞–ø–∏—Ç–∏ –Ω–∞ –ø—Ä–∏–π–æ–º&#x27; —ñ —Ä–æ–±–ª—è—Ç—å –∑ –Ω–∏–º–∏ —â–æ—Å—å. –ó–æ–∫—Ä–µ–º–∞, K8s-Gatekeeper - —Ü–µ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π —Ç–∏–ø –≤–µ–±—Ö—É–∫–∞ –ø—Ä–∏–π–æ–º—É: &#x27;ValidatingAdmissionWebhook&#x27;, —è–∫–∏–π –º–æ–∂–µ –≤–∏—Ä—ñ—à–∏—Ç–∏, —á–∏ –ø—Ä–∏–π–º–∞—Ç–∏ —Ü–µ–π –∑–∞–ø–∏—Ç –Ω–∞ –ø—Ä–∏–π–æ–º, —á–∏ –Ω—ñ. –©–æ —Å—Ç–æ—Å—É—î—Ç—å—Å—è –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ –ø—Ä–∏–π–æ–º, —Ç–æ —Ü–µ HTTP-–∑–∞–ø–∏—Ç–∏, —è–∫—ñ –æ–ø–∏—Å—É—é—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ—é –Ω–∞–¥ –≤–∫–∞–∑–∞–Ω–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ K8s (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è). –î–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –≤–µ–±—Ö—É–∫–∏ –ø—Ä–∏–π–æ–º—É, –¥–∏–≤—ñ—Ç—å—Å—è <a href="https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#what-are-admission-webhooks" target="_blank" rel="noopener noreferrer">–æ—Ñ—ñ—Ü—ñ–π–Ω—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é K8s</a>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="12-–ø—Ä–∏–∫–ª–∞–¥-—â–æ-—ñ–ª—é—Å—Ç—Ä—É—î-—è–∫-—Ü–µ-–ø—Ä–∞—Ü—é—î">1.2 –ü—Ä–∏–∫–ª–∞–¥, —â–æ —ñ–ª—é—Å—Ç—Ä—É—î, —è–∫ —Ü–µ –ø—Ä–∞—Ü—é—î<a href="#12-–ø—Ä–∏–∫–ª–∞–¥-—â–æ-—ñ–ª—é—Å—Ç—Ä—É—î-—è–∫-—Ü–µ-–ø—Ä–∞—Ü—é—î" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 1.2 –ü—Ä–∏–∫–ª–∞–¥, —â–æ —ñ–ª—é—Å—Ç—Ä—É—î, —è–∫ —Ü–µ –ø—Ä–∞—Ü—é—î" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 1.2 –ü—Ä–∏–∫–ª–∞–¥, —â–æ —ñ–ª—é—Å—Ç—Ä—É—î, —è–∫ —Ü–µ –ø—Ä–∞—Ü—é—î">‚Äã</a></h3><p>–ù–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–ª–∏ —Ö—Ç–æ—Å—å —Ö–æ—á–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è, —â–æ –º—ñ—Å—Ç–∏—Ç—å –ø–æ–¥ –∑ –∑–∞–ø—É—â–µ–Ω–∏–º nginx (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ kubectl –∞–±–æ –∫–ª—ñ—î–Ω—Ç–∏ K8s), K8s –∑–≥–µ–Ω–µ—Ä—É—î –∑–∞–ø–∏—Ç –Ω–∞ –ø—Ä–∏–π–æ–º, —è–∫–∏–π (—è–∫—â–æ –ø–µ—Ä–µ–∫–ª–∞—Å—Ç–∏ —É —Ñ–æ—Ä–º–∞—Ç YAML) –º–æ–∂–µ –±—É—Ç–∏ —Ç–∞–∫–∏–º:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">1.14.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>–¶–µ–π –∑–∞–ø–∏—Ç –ø—Ä–æ–π–¥–µ —á–µ—Ä–µ–∑ –ø—Ä–æ—Ü–µ—Å –≤—Å—å–æ–≥–æ –ø—Ä–æ–º—ñ–∂–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è, –ø–æ–∫–∞–∑–∞–Ω–æ–≥–æ –Ω–∞ –º–∞–ª—é–Ω–∫—É, –≤–∫–ª—é—á–∞—é—á–∏ –Ω–∞—à K8s-Gatekeeper. K8s-Gatekeeper –º–æ–∂–µ –≤–∏—è–≤–∏—Ç–∏ –≤—Å—ñ Casbin –ø—Ä–∏–º—É—Å–æ–≤—ñ –ø—Ä–∏—Å—Ç—Ä–æ—ó, –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –≤ etcd K8s, —è–∫—ñ —Å—Ç–≤–æ—Ä–µ–Ω—ñ —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º (—á–µ—Ä–µ–∑ <code>kubectl</code> –∞–±–æ Go –∫–ª—ñ—î–Ω—Ç, —è–∫–∏–π –º–∏ –Ω–∞–¥–∞—î–º–æ). –ö–æ–∂–µ–Ω –ø—Ä–∏–º—É—Å–æ–≤–∏–π –ø—Ä–∏—Å—Ç—Ä—ñ–π –º—ñ—Å—Ç–∏—Ç—å –º–æ–¥–µ–ª—å Casbin —Ç–∞ –ø–æ–ª—ñ—Ç–∏–∫—É Casbin. –ó–∞–ø–∏—Ç –Ω–∞ –ø—Ä–∏–π–æ–º –±—É–¥–µ –æ–±—Ä–æ–±–ª–µ–Ω–∏–π –∫–æ–∂–Ω–∏–º –ø—Ä–∏–º—É—Å–æ–≤–∏–º –ø—Ä–∏—Å—Ç—Ä–æ—î–º, –ø–æ —á–µ—Ä–∑—ñ, —ñ –ª–∏—à–µ –ø—Ä–æ–π—à–æ–≤—à–∏ –≤—Å—ñ –ø—Ä–∏–º—É—Å–æ–≤—ñ –ø—Ä–∏—Å—Ç—Ä–æ—ó, –∑–∞–ø–∏—Ç –º–æ–∂–µ –±—É—Ç–∏ –ø—Ä–∏–π–Ω—è—Ç–∏–π —Ü–∏–º K8s-Gatekeeper.</p><p>(–Ø–∫—â–æ –≤–∏ –Ω–µ —Ä–æ–∑—É–º—ñ—î—Ç–µ, —â–æ —Ç–∞–∫–µ –ø—Ä–∏–º—É—Å–æ–≤–∏–π –ø—Ä–∏—Å—Ç—Ä—ñ–π Casbin, –º–æ–¥–µ–ª—å –∞–±–æ –ø–æ–ª—ñ—Ç–∏–∫–∞, –¥–∏–≤—ñ—Ç—å—Å—è —Ü–µ–π –¥–æ–∫—É–º–µ–Ω—Ç: <a href="/uk/docs/get-started">–ü–æ—á–∞—Ç–æ–∫ —Ä–æ–±–æ—Ç–∏</a>).</p><p>–ù–∞–ø—Ä–∏–∫–ª–∞–¥, –∑ —è–∫–æ—ó—Å—å –ø—Ä–∏—á–∏–Ω–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä —Ö–æ—á–µ –∑–∞–±–æ—Ä–æ–Ω–∏—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è &#x27;nginx:1.14.1&#x27;, –¥–æ–∑–≤–æ–ª—è—é—á–∏ –ø—Ä–∏ —Ü—å–æ–º—É &#x27;nginx:1.3.1&#x27;. –ú–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–∏–º—É—Å–æ–≤–∏–π –ø—Ä–∏—Å—Ç—Ä—ñ–π, —â–æ –º—ñ—Å—Ç–∏—Ç—å –Ω–∞—Å—Ç—É–ø–Ω–µ –ø—Ä–∞–≤–∏–ª–æ —Ç–∞ –ø–æ–ª—ñ—Ç–∏–∫—É (–ú–∏ –ø–æ—è—Å–Ω–∏–º–æ, —è–∫ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–∏–º—É—Å–æ–≤–∏–π –ø—Ä–∏—Å—Ç—Ä—ñ–π, —â–æ —Ç–∞–∫–µ —Ü—ñ –º–æ–¥–µ–ª—ñ —Ç–∞ –ø–æ–ª—ñ—Ç–∏–∫–∏, —ñ —è–∫ —ó—Ö –ø–∏—Å–∞—Ç–∏ –≤ –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö —Ä–æ–∑–¥—ñ–ª–∞—Ö).</p><p>Model:</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">request_definition</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">r</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain">  </span><span class="token value attr-value" style="color:#e3116c">obj</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">policy_definition</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">p</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain">  </span><span class="token value attr-value" style="color:#e3116c">obj,eft</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">policy_effect</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">e</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">!some(where (p.eft == deny))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">matchers</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">m</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">r.obj.Request.Namespace == &quot;default&quot; &amp;&amp; r.obj.Request.Resource.Resource ==&quot;deployments&quot; &amp;&amp; \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, &quot;Image&quot;)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token value attr-value" style="color:#e3116c">= p.obj</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Policy:</p><div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> </span><span class="token value">&quot;nginx:1.13.1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value">allow</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> </span><span class="token value">&quot;nginx:1.14.1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value">deny</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>–°—Ç–≤–æ—Ä–∏–≤—à–∏ –ø—Ä–∏–º—É—Å–æ–≤–∏–π –ø—Ä–∏—Å—Ç—Ä—ñ–π, —â–æ –º—ñ—Å—Ç–∏—Ç—å –≤–∏—â–µ–∑–∞–∑–Ω–∞—á–µ–Ω—É –º–æ–¥–µ–ª—å —Ç–∞ –ø–æ–ª—ñ—Ç–∏–∫—É, –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –∑–∞–ø–∏—Ç –Ω–∞ –ø—Ä–∏–π–æ–º –±—É–¥–µ –≤—ñ–¥—Ö–∏–ª–µ–Ω–∏–π —Ü–∏–º –ø—Ä–∏–º—É—Å–æ–≤–∏–º –ø—Ä–∏—Å—Ç—Ä–æ—î–º, —â–æ –æ–∑–Ω–∞—á–∞—î, —â–æ K8s –Ω–µ —Å—Ç–≤–æ—Ä–∏—Ç—å —Ü–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2-–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è-k8s-gatekeeper">2 –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è K8s-gatekeeper<a href="#2-–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è-k8s-gatekeeper" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 2 –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è K8s-gatekeeper" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 2 –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è K8s-gatekeeper">‚Äã</a></h2><p>–Ü—Å–Ω—É—î —Ç—Ä–∏ –º–µ—Ç–æ–¥–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è K8s-gatekeeper: –∑–æ–≤–Ω—ñ—à–Ω—ñ–π –≤–µ–±—Ö—É–∫, –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –≤–µ–±—Ö—É–∫ —Ç–∞ Helm.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>–ø—Ä–∏–º—ñ—Ç–∫–∞</div><div class="admonitionContent_S0QG"><p>–ü—Ä–∏–º—ñ—Ç–∫–∞: –¶—ñ –º–µ—Ç–æ–¥–∏ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω—ñ –ª–∏—à–µ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, —è–∫—ñ —Ö–æ—á—É—Ç—å —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ K8s-gatekeeper, —ñ –Ω–µ —î –±–µ–∑–ø–µ—á–Ω–∏–º–∏. –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –π–æ–≥–æ –≤ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ, –±—É–¥—å –ª–∞—Å–∫–∞, –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏ –ø—Ä–æ—á–∏—Ç–∞–ª–∏ <a href="#5-advanced-settings">–†–æ–∑–¥—ñ–ª 5. –†–æ–∑—à–∏—Ä–µ–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</a> —ñ –∑—Ä–æ–±–∏–ª–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∑–º—ñ–Ω–∏ –ø–µ—Ä–µ–¥ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è–º. 2.1 –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –≤–µ–±—Ö—É–∫</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="211-–∫—Ä–æ–∫-1-–ø–æ–±—É–¥–æ–≤–∞-–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è">2.1.1 –ö—Ä–æ–∫ 1: –ü–æ–±—É–¥–æ–≤–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è<a href="#211-–∫—Ä–æ–∫-1-–ø–æ–±—É–¥–æ–≤–∞-–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 2.1.1 –ö—Ä–æ–∫ 1: –ü–æ–±—É–¥–æ–≤–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 2.1.1 –ö—Ä–æ–∫ 1: –ü–æ–±—É–¥–æ–≤–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è">‚Äã</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="211-step-1-build-the-image">2.1.1 Step 1: Build the image<a href="#211-step-1-build-the-image" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 2.1.1 Step 1: Build the image" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 2.1.1 Step 1: Build the image">‚Äã</a></h4><p>–î–ª—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ –º–µ—Ç–æ–¥—É webhook —Å–∞–º webhook –±—É–¥–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —è–∫ —Å–µ—Ä–≤—ñ—Å —É Kubernetes. –©–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–π —Å–µ—Ä–≤—ñ—Å —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è, –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–±—É–¥—É–≤–∞—Ç–∏ –æ–±—Ä–∞–∑ K8s-gatekeeper. –í–∏ –º–æ–∂–µ—Ç–µ –ø–æ–±—É–¥—É–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω–∏–π –æ–±—Ä–∞–∑, –≤–∏–∫–æ–Ω–∞–≤—à–∏ –Ω–∞—Å—Ç—É–ø–Ω—É –∫–æ–º–∞–Ω–¥—É:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> build --target webhook -t k8s-gatekeeper </span><span class="token builtin class-name">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>–¶—è –∫–æ–º–∞–Ω–¥–∞ —Å—Ç–≤–æ—Ä–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–∏–π –æ–±—Ä–∞–∑ –ø—ñ–¥ –Ω–∞–∑–≤–æ—é &#x27;k8s-gatekeeper:latest&#x27;.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>–ø—Ä–∏–º—ñ—Ç–∫–∞</div><div class="admonitionContent_S0QG"><p>–ü—Ä–∏–º—ñ—Ç–∫–∞: –Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ minikube, –±—É–¥—å –ª–∞—Å–∫–∞, –≤–∏–∫–æ–Ω–∞–π—Ç–µ <code>eval $(minikube -p minikube docker-env)</code> –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º &#x27;docker build&#x27;.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="212-–∫—Ä–æ–∫-2-–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è-—Å–µ—Ä–≤—ñ—Å—ñ–≤-—Ç–∞-—Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω—å-–¥–ª—è-k8s-gatekeeper">2.1.2 –ö—Ä–æ–∫ 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–≤—ñ—Å—ñ–≤ —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω—å –¥–ª—è K8s-gatekeeper<a href="#212-–∫—Ä–æ–∫-2-–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è-—Å–µ—Ä–≤—ñ—Å—ñ–≤-—Ç–∞-—Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω—å-–¥–ª—è-k8s-gatekeeper" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 2.1.2 –ö—Ä–æ–∫ 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–≤—ñ—Å—ñ–≤ —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω—å –¥–ª—è K8s-gatekeeper" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 2.1.2 –ö—Ä–æ–∫ 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–≤—ñ—Å—ñ–≤ —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω—å –¥–ª—è K8s-gatekeeper">‚Äã</a></h4><p>–í–∏–∫–æ–Ω–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/rbac.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/webhook_deployment.yaml </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/webhook_internal.yaml </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>–¶–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å K8s-gatekeeper, —ñ –≤–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ü–µ, –≤–∏–∫–æ–Ω–∞–≤—à–∏ <code>kubectl get pods</code>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="213-–∫—Ä–æ–∫-3-–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è-crd-—Ä–µ—Å—É—Ä—Å—ñ–≤-–¥–ª—è-k8s-gatekeeper">2.1.3 –ö—Ä–æ–∫ 3: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è CRD —Ä–µ—Å—É—Ä—Å—ñ–≤ –¥–ª—è K8s-gatekeeper<a href="#213-–∫—Ä–æ–∫-3-–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è-crd-—Ä–µ—Å—É—Ä—Å—ñ–≤-–¥–ª—è-k8s-gatekeeper" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 2.1.3 –ö—Ä–æ–∫ 3: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è CRD —Ä–µ—Å—É—Ä—Å—ñ–≤ –¥–ª—è K8s-gatekeeper" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 2.1.3 –ö—Ä–æ–∫ 3: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è CRD —Ä–µ—Å—É—Ä—Å—ñ–≤ –¥–ª—è K8s-gatekeeper">‚Äã</a></h4><p>–í–∏–∫–æ–Ω–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/auth.casbin.org_casbinmodels.yaml </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/auth.casbin.org_casbinpolicies.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="22-–∑–æ–≤–Ω—ñ—à–Ω—ñ–π-webhook">2.2 –ó–æ–≤–Ω—ñ—à–Ω—ñ–π webhook<a href="#22-–∑–æ–≤–Ω—ñ—à–Ω—ñ–π-webhook" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 2.2 –ó–æ–≤–Ω—ñ—à–Ω—ñ–π webhook" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 2.2 –ó–æ–≤–Ω—ñ—à–Ω—ñ–π webhook">‚Äã</a></h3><p>–î–ª—è –º–µ—Ç–æ–¥—É –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ webhook K8s-gatekeeper –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –ø–æ–∑–∞ Kubernetes, —ñ Kubernetes –±—É–¥–µ –¥–æ—Å—Ç—É–ø–∞—Ç–∏—Å—è –¥–æ K8s-gatekeeper, —è–∫ –¥–æ –∑–≤–∏—á–∞–π–Ω–æ–≥–æ –≤–µ–±-—Å–∞–π—Ç—É. Kubernetes –º–∞—î –æ–±–æ–≤&#x27;—è–∑–∫–æ–≤—É –≤–∏–º–æ–≥—É, —â–æ–± admission webhook –±—É–≤ HTTPS. –î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è K8s-gatekeeper –º–∏ –Ω–∞–¥–∞–ª–∏ –Ω–∞–±—ñ—Ä —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç—ñ–≤ —Ç–∞ –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–ª—é—á (—Ö–æ—á–∞ —Ü–µ –Ω–µ —î –±–µ–∑–ø–µ—á–Ω–∏–º). –Ø–∫—â–æ –≤–∏ –≤—ñ–¥–¥–∞—î—Ç–µ –ø–µ—Ä–µ–≤–∞–≥—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—é –≤–ª–∞—Å–Ω–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç—É, –±—É–¥—å –ª–∞—Å–∫–∞, –∑–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ <a href="#5-advanced-settings">–†–æ–∑–¥—ñ–ª—É 5. –†–æ–∑—à–∏—Ä–µ–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</a> –¥–ª—è —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π —â–æ–¥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç—É —Ç–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞. –°–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç, —è–∫–∏–π –º–∏ –Ω–∞–¥–∞—î–º–æ, –≤–∏–¥–∞–Ω–∏–π –¥–ª—è &#x27;webhook.domain.local&#x27;.</p><p>–û—Ç–∂–µ, –∑–º—ñ–Ω—ñ—Ç—å —Ö–æ—Å—Ç (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, /etc/hosts) —Ç–∞ —Å–ø—Ä—è–º—É–π—Ç–µ &#x27;webhook.domain.local&#x27; –Ω–∞ IP-–∞–¥—Ä–µ—Å—É, –Ω–∞ —è–∫—ñ–π –ø—Ä–∞—Ü—é—î K8s-gatekeeper. –ü–æ—Ç—ñ–º –≤–∏–∫–æ–Ω–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—É –∫–æ–º–∞–Ω–¥—É:</p><p>2.3 –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è K8s-gatekeeper —á–µ—Ä–µ–∑ Helm</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">go mod tidy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">go mod vendor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">go run cmd/webhook/main.go</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/auth.casbin.org_casbinmodels.yaml </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/auth.casbin.org_casbinpolicies.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/webhook_external.yaml </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="231-–∫—Ä–æ–∫-1-–ø–æ–±—É–¥–æ–≤–∞-–æ–±—Ä–∞–∑—É">2.3.1 –ö—Ä–æ–∫ 1: –ü–æ–±—É–¥–æ–≤–∞ –æ–±—Ä–∞–∑—É<a href="#231-–∫—Ä–æ–∫-1-–ø–æ–±—É–¥–æ–≤–∞-–æ–±—Ä–∞–∑—É" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 2.3.1 –ö—Ä–æ–∫ 1: –ü–æ–±—É–¥–æ–≤–∞ –æ–±—Ä–∞–∑—É" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 2.3.1 –ö—Ä–æ–∫ 1: –ü–æ–±—É–¥–æ–≤–∞ –æ–±—Ä–∞–∑—É">‚Äã</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="–±—É–¥—å-–ª–∞—Å–∫–∞-–∑–≤–µ—Ä–Ω—ñ—Ç—å—Å—è-–¥–æ-—Ä–æ–∑–¥—ñ–ª—É-211">–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ <a href="#211-step-1-build-the-image">–†–æ–∑–¥—ñ–ª—É 2.1.1</a>.<a href="#–±—É–¥—å-–ª–∞—Å–∫–∞-–∑–≤–µ—Ä–Ω—ñ—Ç—å—Å—è-–¥–æ-—Ä–æ–∑–¥—ñ–ª—É-211" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –±—É–¥—å-–ª–∞—Å–∫–∞-–∑–≤–µ—Ä–Ω—ñ—Ç—å—Å—è-–¥–æ-—Ä–æ–∑–¥—ñ–ª—É-211" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –±—É–¥—å-–ª–∞—Å–∫–∞-–∑–≤–µ—Ä–Ω—ñ—Ç—å—Å—è-–¥–æ-—Ä–æ–∑–¥—ñ–ª—É-211">‚Äã</a></h4><p>2.3.2 –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ Helm</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="–≤–∏–∫–æ–Ω–∞–π—Ç–µ-–∫–æ–º–∞–Ω–¥—É-helm-install-k8sgatekeeper-k8sgatekeeper">–í–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É <code>helm install k8sgatekeeper ./k8sgatekeeper</code>.<a href="#–≤–∏–∫–æ–Ω–∞–π—Ç–µ-–∫–æ–º–∞–Ω–¥—É-helm-install-k8sgatekeeper-k8sgatekeeper" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤–∏–∫–æ–Ω–∞–π—Ç–µ-–∫–æ–º–∞–Ω–¥—É-helm-install-k8sgatekeeper-k8sgatekeeper" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤–∏–∫–æ–Ω–∞–π—Ç–µ-–∫–æ–º–∞–Ω–¥—É-helm-install-k8sgatekeeper-k8sgatekeeper">‚Äã</a></h4><ol start="3"><li></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="—Å–ø—Ä–æ–±—É–π—Ç–µ-k8s-gatekeeper-31-—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è-–º–æ–¥–µ–ª—ñ-—Ç–∞-–ø–æ–ª—ñ—Ç–∏–∫–∏-casbin">–°–ø—Ä–æ–±—É–π—Ç–µ K8s-gatekeeper 3.1 –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ —Ç–∞ –ø–æ–ª—ñ—Ç–∏–∫–∏ Casbin<a href="#—Å–ø—Ä–æ–±—É–π—Ç–µ-k8s-gatekeeper-31-—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è-–º–æ–¥–µ–ª—ñ-—Ç–∞-–ø–æ–ª—ñ—Ç–∏–∫–∏-casbin" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –°–ø—Ä–æ–±—É–π—Ç–µ K8s-gatekeeper 3.1 –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ —Ç–∞ –ø–æ–ª—ñ—Ç–∏–∫–∏ Casbin" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –°–ø—Ä–æ–±—É–π—Ç–µ K8s-gatekeeper 3.1 –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ —Ç–∞ –ø–æ–ª—ñ—Ç–∏–∫–∏ Casbin">‚Äã</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="—É-–≤–∞—Å-—î-–¥–≤–∞-—Å–ø–æ—Å–æ–±–∏-—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è-–º–æ–¥–µ–ª—ñ-—Ç–∞-–ø–æ–ª—ñ—Ç–∏–∫–∏-—á–µ—Ä–µ–∑-kubectl-–∞–±–æ-—á–µ—Ä–µ–∑-go-–∫–ª—ñ—î–Ω—Ç-—è–∫–∏–π-–º–∏-–Ω–∞–¥–∞—î–º–æ">–£ –≤–∞—Å —î –¥–≤–∞ —Å–ø–æ—Å–æ–±–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ —Ç–∞ –ø–æ–ª—ñ—Ç–∏–∫–∏: —á–µ—Ä–µ–∑ kubectl –∞–±–æ —á–µ—Ä–µ–∑ go-–∫–ª—ñ—î–Ω—Ç, —è–∫–∏–π –º–∏ –Ω–∞–¥–∞—î–º–æ.<a href="#—É-–≤–∞—Å-—î-–¥–≤–∞-—Å–ø–æ—Å–æ–±–∏-—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è-–º–æ–¥–µ–ª—ñ-—Ç–∞-–ø–æ–ª—ñ—Ç–∏–∫–∏-—á–µ—Ä–µ–∑-kubectl-–∞–±–æ-—á–µ—Ä–µ–∑-go-–∫–ª—ñ—î–Ω—Ç-—è–∫–∏–π-–º–∏-–Ω–∞–¥–∞—î–º–æ" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –£ –≤–∞—Å —î –¥–≤–∞ —Å–ø–æ—Å–æ–±–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ —Ç–∞ –ø–æ–ª—ñ—Ç–∏–∫–∏: —á–µ—Ä–µ–∑ kubectl –∞–±–æ —á–µ—Ä–µ–∑ go-–∫–ª—ñ—î–Ω—Ç, —è–∫–∏–π –º–∏ –Ω–∞–¥–∞—î–º–æ." title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –£ –≤–∞—Å —î –¥–≤–∞ —Å–ø–æ—Å–æ–±–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ —Ç–∞ –ø–æ–ª—ñ—Ç–∏–∫–∏: —á–µ—Ä–µ–∑ kubectl –∞–±–æ —á–µ—Ä–µ–∑ go-–∫–ª—ñ—î–Ω—Ç, —è–∫–∏–π –º–∏ –Ω–∞–¥–∞—î–º–æ.">‚Äã</a></h3><p>3.1.1 –°—Ç–≤–æ—Ä–µ–Ω–Ω—è/–û–Ω–æ–≤–ª–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ —Ç–∞ –ø–æ–ª—ñ—Ç–∏–∫–∏ Casbin —á–µ—Ä–µ–∑ kubectl</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="—É-k8s-gatekeeper-–º–æ–¥–µ–ª—å-casbin-–∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è-—É-—Ä–µ—Å—É—Ä—Å—ñ-crd-–ø—ñ–¥-–Ω–∞–∑–≤–æ—é-casbinmodel">–£ K8s-gatekeeper –º–æ–¥–µ–ª—å Casbin –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —É —Ä–µ—Å—É—Ä—Å—ñ CRD –ø—ñ–¥ –Ω–∞–∑–≤–æ—é &#x27;CasbinModel&#x27;.<a href="#—É-k8s-gatekeeper-–º–æ–¥–µ–ª—å-casbin-–∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è-—É-—Ä–µ—Å—É—Ä—Å—ñ-crd-–ø—ñ–¥-–Ω–∞–∑–≤–æ—é-casbinmodel" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –£ K8s-gatekeeper –º–æ–¥–µ–ª—å Casbin –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —É —Ä–µ—Å—É—Ä—Å—ñ CRD –ø—ñ–¥ –Ω–∞–∑–≤–æ—é &#x27;CasbinModel&#x27;." title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –£ K8s-gatekeeper –º–æ–¥–µ–ª—å Casbin –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —É —Ä–µ—Å—É—Ä—Å—ñ CRD –ø—ñ–¥ –Ω–∞–∑–≤–æ—é &#x27;CasbinModel&#x27;.">‚Äã</a></h4><p>–á—ó –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω–µ –≤ <code>config/auth.casbin.org_casbinmodels.yaml</code>. –ü—Ä–∏–∫–ª–∞–¥–∏ —î –≤ <code>example/allowed_repo/model.yaml</code>.</p><p>–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω—ñ –ø–æ–ª—è: metadata.name: –Ω–∞–∑–≤–∞ –º–æ–¥–µ–ª—ñ.</p><ul><li>–¶—è –Ω–∞–∑–≤–∞ –ü–û–í–ò–ù–ù–ê –±—É—Ç–∏ —Ç–∞–∫–æ—é –∂, —è–∫ –Ω–∞–∑–≤–∞ –æ–±&#x27;—î–∫—Ç–∞ CasbinPolicy, –ø–æ–≤&#x27;—è–∑–∞–Ω–æ–≥–æ –∑ —Ü—ñ—î—é –º–æ–¥–µ–ª–ª—é, —â–æ–± K8s-gatekeeper –º—ñ–≥ —ó—Ö —Å–ø–∞—Ä—É–≤–∞—Ç–∏ —Ç–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≤–∏–∫–æ–Ω–∞–≤—Ü—è. spec.enable: —è–∫—â–æ —Ü–µ –ø–æ–ª–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –≤ &#x27;false&#x27;, —Ü—è –º–æ–¥–µ–ª—å (–∞ —Ç–∞–∫–æ–∂ –æ–±&#x27;—î–∫—Ç CasbinPolicy, –ø–æ–≤&#x27;—è–∑–∞–Ω–∏–π –∑ —Ü—ñ—î—é –º–æ–¥–µ–ª–ª—é) –±—É–¥–µ —ñ–≥–Ω–æ—Ä—É–≤–∞—Ç–∏—Å—è.</li><li>spec.modelText: —Ä—è–¥–æ–∫, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å —Ç–µ–∫—Å—Ç –º–æ–¥–µ–ª—ñ Casbin.</li><li>–ü–æ–ª—ñ—Ç–∏–∫–∞ Casbin –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ —ñ–Ω—à–æ–º—É —Ä–µ—Å—É—Ä—Å—ñ CRD –ø—ñ–¥ –Ω–∞–∑–≤–æ—é &#x27;CasbinPolicy&#x27;, –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —è–∫–æ–≥–æ –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ –≤ <code>config/auth.casbin.org_casbinpolicies.yaml</code>.</li></ul><p>–ü—Ä–∏–∫–ª–∞–¥–∏ —î –≤ <code>example/allowed_repo/policy.yaml</code>.</p><p>–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω—ñ –ø–æ–ª—è: metadata.name: –Ω–∞–∑–≤–∞ –ø–æ–ª—ñ—Ç–∏–∫–∏.</p><ul><li>–¶—è –Ω–∞–∑–≤–∞ –ü–û–í–ò–ù–ù–ê –±—É—Ç–∏ —Ç–∞–∫–æ—é –∂, —è–∫ –Ω–∞–∑–≤–∞ –æ–±&#x27;—î–∫—Ç–∞ CasbinModel, –ø–æ–≤&#x27;—è–∑–∞–Ω–æ–≥–æ –∑ —Ü—ñ—î—é –ø–æ–ª—ñ—Ç–∏–∫–æ—é, —â–æ–± K8s-gatekeeper –º—ñ–≥ —ó—Ö —Å–ø–∞—Ä—É–≤–∞—Ç–∏ —Ç–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≤–∏–∫–æ–Ω–∞–≤—Ü—è. spec.policyItem: —Ä—è–¥–æ–∫, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å —Ç–µ–∫—Å—Ç –ø–æ–ª—ñ—Ç–∏–∫–∏ –º–æ–¥–µ–ª—ñ Casbin.</li><li>–ü—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–ª–∞—Å–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤ CasbinModel —Ç–∞ CasbinPolicy –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—É –∫–æ–º–∞–Ω–¥—É –¥–ª—è —ó—Ö –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è:</li></ul><p>–Ø–∫ —Ç—ñ–ª—å–∫–∏ –ø–∞—Ä–∞ CasbinModel —Ç–∞ CasbinPolicy –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–∞, K8s-gatekeeper –∑–º–æ–∂–µ —ó—ó –≤–∏—è–≤–∏—Ç–∏ –ø—Ä–æ—Ç—è–≥–æ–º 5 —Å–µ–∫—É–Ω–¥.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">filename</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>3.1.2 –°—Ç–≤–æ—Ä–µ–Ω–Ω—è/–û–Ω–æ–≤–ª–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ —Ç–∞ –ø–æ–ª—ñ—Ç–∏–∫–∏ Casbin —á–µ—Ä–µ–∑ go-–∫–ª—ñ—î–Ω—Ç, —è–∫–∏–π –º–∏ –Ω–∞–¥–∞—î–º–æ</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="–º–∏-—Ä–æ–∑—É–º—ñ—î–º–æ-—â–æ-–º–æ–∂—É—Ç—å-–±—É—Ç–∏-—Å–∏—Ç—É–∞—Ü—ñ—ó-–∫–æ–ª–∏-–Ω–µ-–∑—Ä—É—á–Ω–æ-–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏-–æ–±–æ–ª–æ–Ω–∫—É-–¥–ª—è-–≤–∏–∫–æ–Ω–∞–Ω–Ω—è-–∫–æ–º–∞–Ω–¥-–±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ-–Ω–∞-–≤—É–∑–ª—ñ-–∫–ª–∞—Å—Ç–µ—Ä–∞-k8s-–Ω–∞–ø—Ä–∏–∫–ª–∞–¥-–∫–æ–ª–∏-–≤–∏-–±—É–¥—É—î—Ç–µ-–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É-—Ö–º–∞—Ä–Ω—É-–ø–ª–∞—Ç—Ñ–æ—Ä–º—É-–¥–ª—è-–≤–∞—à–æ—ó-–∫–æ—Ä–ø–æ—Ä–∞—Ü—ñ—ó">–ú–∏ —Ä–æ–∑—É–º—ñ—î–º–æ, —â–æ –º–æ–∂—É—Ç—å –±—É—Ç–∏ —Å–∏—Ç—É–∞—Ü—ñ—ó, –∫–æ–ª–∏ –Ω–µ –∑—Ä—É—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–±–æ–ª–æ–Ω–∫—É –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –Ω–∞ –≤—É–∑–ª—ñ –∫–ª–∞—Å—Ç–µ—Ä–∞ K8s, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–ª–∏ –≤–∏ –±—É–¥—É—î—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É —Ö–º–∞—Ä–Ω—É –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è –≤–∞—à–æ—ó –∫–æ—Ä–ø–æ—Ä–∞—Ü—ñ—ó.<a href="#–º–∏-—Ä–æ–∑—É–º—ñ—î–º–æ-—â–æ-–º–æ–∂—É—Ç—å-–±—É—Ç–∏-—Å–∏—Ç—É–∞—Ü—ñ—ó-–∫–æ–ª–∏-–Ω–µ-–∑—Ä—É—á–Ω–æ-–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏-–æ–±–æ–ª–æ–Ω–∫—É-–¥–ª—è-–≤–∏–∫–æ–Ω–∞–Ω–Ω—è-–∫–æ–º–∞–Ω–¥-–±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ-–Ω–∞-–≤—É–∑–ª—ñ-–∫–ª–∞—Å—Ç–µ—Ä–∞-k8s-–Ω–∞–ø—Ä–∏–∫–ª–∞–¥-–∫–æ–ª–∏-–≤–∏-–±—É–¥—É—î—Ç–µ-–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É-—Ö–º–∞—Ä–Ω—É-–ø–ª–∞—Ç—Ñ–æ—Ä–º—É-–¥–ª—è-–≤–∞—à–æ—ó-–∫–æ—Ä–ø–æ—Ä–∞—Ü—ñ—ó" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ú–∏ —Ä–æ–∑—É–º—ñ—î–º–æ, —â–æ –º–æ–∂—É—Ç—å –±—É—Ç–∏ —Å–∏—Ç—É–∞—Ü—ñ—ó, –∫–æ–ª–∏ –Ω–µ –∑—Ä—É—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–±–æ–ª–æ–Ω–∫—É –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –Ω–∞ –≤—É–∑–ª—ñ –∫–ª–∞—Å—Ç–µ—Ä–∞ K8s, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–ª–∏ –≤–∏ –±—É–¥—É—î—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É —Ö–º–∞—Ä–Ω—É –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è –≤–∞—à–æ—ó –∫–æ—Ä–ø–æ—Ä–∞—Ü—ñ—ó." title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ú–∏ —Ä–æ–∑—É–º—ñ—î–º–æ, —â–æ –º–æ–∂—É—Ç—å –±—É—Ç–∏ —Å–∏—Ç—É–∞—Ü—ñ—ó, –∫–æ–ª–∏ –Ω–µ –∑—Ä—É—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–±–æ–ª–æ–Ω–∫—É –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –Ω–∞ –≤—É–∑–ª—ñ –∫–ª–∞—Å—Ç–µ—Ä–∞ K8s, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–ª–∏ –≤–∏ –±—É–¥—É—î—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É —Ö–º–∞—Ä–Ω—É –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è –≤–∞—à–æ—ó –∫–æ—Ä–ø–æ—Ä–∞—Ü—ñ—ó.">‚Äã</a></h4><p>–¢–æ–º—É –º–∏ —Ä–æ–∑—Ä–æ–±–∏–ª–∏ go-–∫–ª—ñ—î–Ω—Ç –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ CasbinModel —Ç–∞ CasbinPolicy. –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ go-–∫–ª—ñ—î–Ω—Ç–∞ —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω–∞ –≤ <code>pkg/client</code>.</p><p>–£ <code>client.go</code> –º–∏ –Ω–∞–¥–∞—î–º–æ —Ñ—É–Ω–∫—Ü—ñ—é –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞.</p><p>In <code>client.go</code>, we provide a function to create a client.</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">NewK8sGateKeeperClient</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">externalClient </span><span class="token builtin">bool</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">K8sGateKeeperClient</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>externalClient</code> parameter determines whether K8s-gatekeeper is running inside the K8s cluster or not.</p><p>In <code>model.go</code>, we provide various functions to create, delete, and modify CasbinModel. You can find out how to use these interfaces in <code>model_test.go</code>.</p><p>In <code>policy.go</code>, we provide various functions to create, delete, and modify CasbiPolicy. You can find out how to use these interfaces in <code>policy_test.go</code>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="312-try-whether-k8s-gatekeeper-works">3.1.2 Try Whether K8s-gatekeeper Works<a href="#312-try-whether-k8s-gatekeeper-works" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 3.1.2 Try Whether K8s-gatekeeper Works" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 3.1.2 Try Whether K8s-gatekeeper Works">‚Äã</a></h3><p>Suppose you have already created the exact model and policy in <code>example/allowed_repo</code>. Now, try the following command:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f example/allowed_repo/testcase/reject_1.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You should find that K8s will reject this request and mention that the webhook was the reason why this request is rejected. However, when you try to apply <code>example/allowed_repo/testcase/approve_2.yaml</code>, it will be accepted.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4-how-to-write-model-and-policy-with-k8s-gatekeeper">4. How to Write Model and Policy with K8s-gatekeeper<a href="#4-how-to-write-model-and-policy-with-k8s-gatekeeper" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 4. How to Write Model and Policy with K8s-gatekeeper" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 4. How to Write Model and Policy with K8s-gatekeeper">‚Äã</a></h2><p>First of all, make sure you are familiar with the basic grammar of Casbin Models and Policies. If you are not, please read the <a href="/uk/docs/get-started">Get Started</a> section first. In this chapter, we assume that you already understand what Casbin Models and Policies are.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="41-request-definition-of-model">4.1 Request Definition of Model<a href="#41-request-definition-of-model" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 4.1 Request Definition of Model" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 4.1 Request Definition of Model">‚Äã</a></h3><p>When K8s-gatekeeper is authorizing a request, the input is always an object: the Go object of the Admission Request. This means that the enforcer will always be used like this:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ok</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> enforcer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Enforce</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">admission</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>where <code>admission</code> is an <code>AdmissionReview</code> object defined by K8s&#x27;s official go api <code>&quot;k8s.io/api/admission/v1&quot;</code>. You can find the definition of this struct in this repository: <a href="https://github.com/kubernetes/api/blob/master/admission/v1/types.go" target="_blank" rel="noopener noreferrer">https://github.com/kubernetes/api/blob/master/admission/v1/types.go</a>. For more information, you can also refer to <a href="https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#webhook-request-and-response" target="_blank" rel="noopener noreferrer">https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#webhook-request-and-response</a>.</p><p>Therefore, for any model used by K8s-gatekeeper, the definition of the <code>request_definition</code> should always be like this:</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">request_definition</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key attr-name" style="color:#00a4db">r</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain">  </span><span class="token value attr-value" style="color:#e3116c">obj</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The name &#x27;obj&#x27; is not mandatory, as long as the name is consistent with the name used in the <code>[matchers]</code> part.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="42-matchers-of-model">4.2 Matchers of Model<a href="#42-matchers-of-model" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 4.2 Matchers of Model" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 4.2 Matchers of Model">‚Äã</a></h3><p>You are supposed to use the ABAC feature of Casbin to write your rules. However, the expression evaluator integrated in Casbin does not support indexing in maps or arrays(slices), nor the expansion of arrays. Therefore, K8s-gatekeeper provides various &#x27;Casbin functions&#x27; as extensions to implement these features. If you still find that your demand cannot be fulfilled by these extensions, feel free to start an issue, or create a pull request.</p><p>If you are not familiar with Casbin functions, you can refer to <a href="/uk/docs/function">Function</a> for more information.</p><p>Here are the extension functions:</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="421-extension-functions">4.2.1 Extension functions<a href="#421-extension-functions" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 4.2.1 Extension functions" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 4.2.1 Extension functions">‚Äã</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4211-access">4.2.1.1 access<a href="#4211-access" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 4.2.1.1 access" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 4.2.1.1 access">‚Äã</a></h4><p>Access is used to solve the problem that Casbin does not support indexing in maps or arrays. The example <code>example/allowed_repo/model.yaml</code> demonstrates the usage of this function:</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">matchers</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">m</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">r.obj.Request.Namespace == &quot;default&quot; &amp;&amp; r.obj.Request.Resource.Resource ==&quot;deployments&quot; &amp;&amp; \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, &quot;Image&quot;)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token value attr-value" style="color:#e3116c">= p.obj</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this matcher, <code>access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, &quot;Image&quot;)</code> is equivalent to <code>r.obj.Request.Object.Object.Spec.Template.Spec.Containers[0].Image</code>, where <code>r.obj.Request.Object.Object.Spec.Template.Spec.Containers</code> is a slice.</p><p>Access can also call simple functions that have no parameters and return a single value. The example <code>example/container_resource_limit/model.yaml</code> demonstrates this:</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">matchers</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key attr-name" style="color:#00a4db">m</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">r.obj.Request.Namespace == &quot;default&quot; &amp;&amp; r.obj.Request.Resource.Resource ==&quot;deployments&quot; &amp;&amp; \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key attr-name" style="color:#00a4db">parseFloat(access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, &quot;Resources&quot;,&quot;Limits&quot;,&quot;cpu&quot;,&quot;Value&quot;)) &gt;</span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">parseFloat(p.cpu) &amp;&amp; \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key attr-name" style="color:#00a4db">parseFloat(access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, &quot;Resources&quot;,&quot;Limits&quot;,&quot;memory&quot;,&quot;Value&quot;)) &gt;</span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">parseFloat(p.memory)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this matcher, <code>access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, &quot;Resources&quot;,&quot;Limits&quot;,&quot;cpu&quot;,&quot;Value&quot;)</code> is equivalent to <code>r.obj.Request.Object.Object.Spec.Template.Spec.Containers[0].Resources.Limits[&quot;cpu&quot;].Value()</code>, where <code>r.obj.Request.Object.Object.Spec.Template.Spec.Containers[0].Resources.Limits</code> is a map, and <code>Value()</code> is a simple function that has no parameters and returns a single value.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4212-accesswithwildcard">4.2.1.2 accessWithWildcard<a href="#4212-accesswithwildcard" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 4.2.1.2 accessWithWildcard" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 4.2.1.2 accessWithWildcard">‚Äã</a></h4><p>Sometimes, you may have a demand like this: all elements in an array must have a prefix &quot;aaa&quot;. However, Casbin does not support <code>for</code> loops. With <code>accessWithWildcard</code> and the &quot;map/slice expansion&quot; feature, you can easily implement such a demand.</p><p>For example, suppose <code>a.b.c</code> is an array <code>[aaa,bbb,ccc,ddd,eee]</code>, then the result of <code>accessWithWildcard(a,&quot;b&quot;,&quot;c&quot;,&quot;*&quot;)</code> will be a slice <code>[aaa,bbb,ccc,ddd,eee]</code>. By using the wildcard <code>*</code>, the slice is expanded.</p><p>Similarly, the wildcard can be used more than once. For example, the result of <code>accessWithWildcard(a,&quot;b&quot;,&quot;c&quot;,&quot;*&quot;,&quot;*&quot;)</code> will be <code>[a.b.c[0][0], a.b.c[0][1], ..., a.b.c[1][0], a.b.c[1][1], ...]</code>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4213-functions-supporting-variable-length-arguments">4.2.1.3 Functions Supporting Variable-length Arguments<a href="#4213-functions-supporting-variable-length-arguments" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 4.2.1.3 Functions Supporting Variable-length Arguments" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 4.2.1.3 Functions Supporting Variable-length Arguments">‚Äã</a></h3><p>In the expression evaluator of Casbin, when a parameter is an array, it will be automatically expanded as a variable-length argument. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Ü—é —Ñ—É–Ω–∫—Ü—ñ—é –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è –º–∞—Å–∏–≤—É/–∑—Ä—ñ–∑—É/–º–∞–ø–∏, –º–∏ —Ç–∞–∫–æ–∂ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞–ª–∏ –∫—ñ–ª—å–∫–∞ —Ñ—É–Ω–∫—Ü—ñ–π, —è–∫—ñ –ø—Ä–∏–π–º–∞—é—Ç—å –º–∞—Å–∏–≤/–∑—Ä—ñ–∑ —è–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä:</p><ul><li>contain(): –ø—Ä–∏–π–º–∞—î –∫—ñ–ª—å–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —ñ –ø–æ–≤–µ—Ä—Ç–∞—î, —á–∏ –±—É–¥—å-—è–∫–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä (–∫—Ä—ñ–º –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ) –¥–æ—Ä—ñ–≤–Ω—é—î –æ—Å—Ç–∞–Ω–Ω—å–æ–º—É –ø–∞—Ä–∞–º–µ—Ç—Ä—É.</li><li>split(a,b,c...,sep,index): –ø–æ–≤–µ—Ä—Ç–∞—î —Ñ—Ä–∞–≥–º–µ–Ω—Ç, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å [splits(a,sep)<!-- -->[index]<!-- -->, splits(b,sep)<!-- -->[index]<!-- -->, splits(a,sep)<!-- -->[index]<!-- -->, ...].</li><li>len(): –ø–æ–≤–µ—Ä—Ç–∞—î –¥–æ–≤–∂–∏–Ω—É –∞—Ä–≥—É–º–µ–Ω—Ç—É –∑–º—ñ–Ω–Ω–æ—ó –¥–æ–≤–∂–∏–Ω–∏.</li><li>matchRegex(a,b,c...,regex): –ø–æ–≤–µ—Ä—Ç–∞—î, —á–∏ –≤—Å—ñ –¥–∞–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ (a, b, c, ...) –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –∑–∞–¥–∞–Ω–æ–º—É regex. –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –∑–∞–¥–∞–Ω–æ–º—É regex.</li></ul><p>–û—Å—å –ø—Ä–∏–∫–ª–∞–¥ —É <code>example/disallowed_tag/model.yaml</code>:</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">matchers</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key attr-name" style="color:#00a4db">m</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">r.obj.Request.Namespace == &quot;default&quot; &amp;&amp; r.obj.Request.Resource.Resource ==&quot;deployments&quot; &amp;&amp; \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    contain(split(accessWithWildcard(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , &quot;*&quot;, &quot;Image&quot;),&quot;:&quot;,1) , p.obj)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>–ü—Ä–∏–ø—É—Å–∫–∞—é—á–∏, —â–æ <code>accessWithWildcard(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , &quot;*&quot;, &quot;Image&quot;)</code> –ø–æ–≤–µ—Ä—Ç–∞—î <code>[&#x27;a:b&#x27;, &#x27;c:d&#x27;, &#x27;e:f&#x27;, &#x27;g:h&#x27;]</code>, –æ—Å–∫—ñ–ª—å–∫–∏ splits –ø—ñ–¥—Ç—Ä–∏–º—É—î –∞—Ä–≥—É–º–µ–Ω—Ç–∏ –∑–º—ñ–Ω–Ω–æ—ó –¥–æ–≤–∂–∏–Ω–∏ —Ç–∞ –≤–∏–∫–æ–Ω—É—î –æ–ø–µ—Ä–∞—Ü—ñ—é —Ä–æ–∑–±–∏—Ç—Ç—è –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞, –µ–ª–µ–º–µ–Ω—Ç –∑ —ñ–Ω–¥–µ–∫—Å–æ–º 1 –±—É–¥–µ –≤–∏–±—Ä–∞–Ω–∏–π —Ç–∞ –ø–æ–≤–µ—Ä–Ω–µ–Ω–∏–π. –¢–æ–º—É, <code>split(accessWithWildcard(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , &quot;*&quot;, &quot;Image&quot;),&quot;:&quot;,1)</code> –ø–æ–≤–µ—Ä—Ç–∞—î <code>[&#x27;b&#x27;,&#x27;d&#x27;,&#x27;f&#x27;,&#x27;h&#x27;]</code>. –Ü <code>contain(split(accessWithWildcard(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , &quot;*&quot;, &quot;Image&quot;),&quot;:&quot;,1) , p.obj)</code> –ø–æ–≤–µ—Ä—Ç–∞—î, —á–∏ <code>p.obj</code> –º—ñ—Å—Ç–∏—Ç—å—Å—è –≤ <code>[&#x27;b&#x27;,&#x27;d&#x27;,&#x27;f&#x27;,&#x27;h&#x27;]</code>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4212-—Ñ—É–Ω–∫—Ü—ñ—ó-–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó-—Ç–∏–ø—ñ–≤">4.2.1.2 –§—É–Ω–∫—Ü—ñ—ó –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó —Ç–∏–ø—ñ–≤<a href="#4212-—Ñ—É–Ω–∫—Ü—ñ—ó-–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó-—Ç–∏–ø—ñ–≤" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 4.2.1.2 –§—É–Ω–∫—Ü—ñ—ó –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó —Ç–∏–ø—ñ–≤" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 4.2.1.2 –§—É–Ω–∫—Ü—ñ—ó –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó —Ç–∏–ø—ñ–≤">‚Äã</a></h4><ul><li>ParseFloat(): –ü–µ—Ä–µ—Ç–≤–æ—Ä—é—î —Ü—ñ–ª–µ —á–∏—Å–ª–æ –≤ —á–∏—Å–ª–æ –∑ –ø–ª–∞–≤–∞—é—á–æ—é –∫–æ–º–æ—é (—Ü–µ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ, –æ—Å–∫—ñ–ª—å–∫–∏ –±—É–¥—å-—è–∫–µ —á–∏—Å–ª–æ, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —É –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—ñ, –º–∞—î –±—É—Ç–∏ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–µ —É —á–∏—Å–ª–æ –∑ –ø–ª–∞–≤–∞—é—á–æ—é –∫–æ–º–æ—é).</li><li>ToString(): –ü–µ—Ä–µ—Ç–≤–æ—Ä—é—î –æ–±&#x27;—î–∫—Ç —É —Ä—è–¥–æ–∫. –¶–µ–π –æ–±&#x27;—î–∫—Ç –º–∞—î –º–∞—Ç–∏ –±–∞–∑–æ–≤–∏–π —Ç–∏–ø —Ä—è–¥–∫–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –æ–±&#x27;—î–∫—Ç —Ç–∏–ø—É <code>XXX</code>, –∫–æ–ª–∏ —î –≤–∏—Å–ª–æ–≤–ª—é–≤–∞–Ω–Ω—è <code>type XXX string</code>).</li><li>IsNil(): –ü–æ–≤–µ—Ä—Ç–∞—î, —á–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä —î nil.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5-—Ä–æ–∑—à–∏—Ä–µ–Ω—ñ-–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è">5. –†–æ–∑—à–∏—Ä–µ–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è<a href="#5-—Ä–æ–∑—à–∏—Ä–µ–Ω—ñ-–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 5. –†–æ–∑—à–∏—Ä–µ–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 5. –†–æ–∑—à–∏—Ä–µ–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è">‚Äã</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="51-–ø—Ä–æ-—Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏">5.1 –ü—Ä–æ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏<a href="#51-–ø—Ä–æ-—Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 5.1 –ü—Ä–æ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 5.1 –ü—Ä–æ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏">‚Äã</a></h3><p>–£ Kubernetes (k8s) –æ–±–æ–≤&#x27;—è–∑–∫–æ–≤–æ, —â–æ–± webhook –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤ HTTPS. –Ü—Å–Ω—É—î –¥–≤–∞ –ø—ñ–¥—Ö–æ–¥–∏ –¥–ª—è –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è —Ü—å–æ–≥–æ:</p><ul><li>–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å–∞–º–æ–ø—ñ–¥–ø–∏—Å–∞–Ω–∏—Ö —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç—ñ–≤ (–ø—Ä–∏–∫–ª–∞–¥–∏ —É —Ü—å–æ–º—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Ü–µ–π –º–µ—Ç–æ–¥)</li><li>–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑–≤–∏—á–∞–π–Ω–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="511-—Å–∞–º–æ–ø—ñ–¥–ø–∏—Å–∞–Ω—ñ-—Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏">5.1.1 –°–∞–º–æ–ø—ñ–¥–ø–∏—Å–∞–Ω—ñ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏<a href="#511-—Å–∞–º–æ–ø—ñ–¥–ø–∏—Å–∞–Ω—ñ-—Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 5.1.1 –°–∞–º–æ–ø—ñ–¥–ø–∏—Å–∞–Ω—ñ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏" title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ 5.1.1 –°–∞–º–æ–ø—ñ–¥–ø–∏—Å–∞–Ω—ñ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏">‚Äã</a></h4><p>–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å–∞–º–æ–ø—ñ–¥–ø–∏—Å–∞–Ω–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞ –æ–∑–Ω–∞—á–∞—î, —â–æ –¶–µ–Ω—Ç—Ä —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó (CA), —è–∫–∏–π –≤–∏–¥–∞—î —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç, –Ω–µ —î –æ–¥–Ω–∏–º –∑ –≤—ñ–¥–æ–º–∏—Ö CA. –¢–æ–º—É, –≤–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–∏—Ç–∏ k8s –ø—Ä–æ —Ü–µ–π CA.</p><p>–ù–∞—Ä–∞–∑—ñ, –ø—Ä–∏–∫–ª–∞–¥ —É —Ü—å–æ–º—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å–∞–º–æ—Å—Ç—ñ–π–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π CA, –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–ª—é—á —Ç–∞ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç —è–∫–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É <code>config/certificate/ca.crt</code> —Ç–∞ <code>config/certificate/ca.key</code> –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ. –°–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç –¥–ª—è webhook —î <code>config/certificate/server.crt</code>, —è–∫–∏–π –≤–∏–ø—É—â–µ–Ω–∏–π —Å–∞–º–æ—Å—Ç—ñ–π–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–∏–º CA. –î–æ–º–µ–Ω–∏ —Ü—å–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞ - &quot;webhook.domain.local&quot; (–¥–ª—è –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ webhook) —Ç–∞ &quot;casbin-webhook-svc.default.svc&quot; (–¥–ª—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ webhook).</p><p>–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ CA –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –¥–æ k8s —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏ webhook. –û–±–∏–¥–≤–∞ <code>config/webhook_external.yaml</code> —Ç–∞ <code>config/webhook_internal.yaml</code> –º–∞—é—Ç—å –ø–æ–ª–µ –ø—ñ–¥ –Ω–∞–∑–≤–æ—é &quot;CABundle&quot;, —è–∫–µ –º—ñ—Å—Ç–∏—Ç—å base64 –∑–∞–∫–æ–¥–æ–≤–∞–Ω–∏–π —Ä—è–¥–æ–∫ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞ CA.</p><p>–£ –≤–∏–ø–∞–¥–∫—É, —è–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–º—ñ–Ω–∏—Ç–∏ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç/–¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–º—ñ—Å—Ç–∏—Ç–∏ —Ü–µ–π webhook –≤ —ñ–Ω—à–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä —ñ–º–µ–Ω k8s, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π webhook, –∞–±–æ —è–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –∑–º—ñ–Ω–∏—Ç–∏ –¥–æ–º–µ–Ω, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –∑–æ–≤–Ω—ñ—à–Ω—ñ–π webhook), —Å–ª—ñ–¥ –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—è –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä:</p><ol><li><p>–°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π CA:</p><ul><li><p>–°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–ª—é—á –¥–ª—è —Ñ–µ–π–∫–æ–≤–æ–≥–æ CA:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openssl genrsa -des3 -out ca.key </span><span class="token number" style="color:#36acaa">2048</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>–í–∏–¥–∞–ª—ñ—Ç—å –∑–∞—Ö–∏—Å—Ç –ø–∞—Ä–æ–ª–µ–º –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openssl rsa -in ca.key -out ca.key</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul></li><li><p>–°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–ª—é—á –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ webhook:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openssl genrsa -des3 -out server.key </span><span class="token number" style="color:#36acaa">2048</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openssl rsa -in server.key -out server.key</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å–∞–º–æ—Å—Ç—ñ–π–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π CA –¥–ª—è –ø—ñ–¥–ø–∏—Å–∞–Ω–Ω—è —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞ –¥–ª—è webhook:</p><ul><li><p>–°–∫–æ–ø—ñ—é–π—Ç–µ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏–π —Ñ–∞–π–ª openssl –≤–∞—à–æ—ó —Å–∏—Å—Ç–µ–º–∏ –¥–ª—è —Ç–∏–º—á–∞—Å–æ–≤–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è. –í–∏ –º–æ–∂–µ—Ç–µ –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –º—ñ—Å—Ü–µ–∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–æ–≥–æ —Ñ–∞–π–ª—É, –∑–∞–ø—É—Å—Ç–∏–≤—à–∏ <code>openssl version -a</code>, –∑–∞–∑–≤–∏—á–∞–π –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è <code>openssl.cnf</code>.</p></li><li><p>–£ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–æ–º—É —Ñ–∞–π–ª—ñ:</p><ul><li><p>–ó–Ω–∞–π–¥—ñ—Ç—å –ø–∞—Ä–∞–≥—Ä–∞—Ñ <code>[req]</code> —Ç–∞ –¥–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ä—è–¥–æ–∫: <code>req_extensions = v3_req</code></p></li><li><p>–ó–Ω–∞–π–¥—ñ—Ç—å –ø–∞—Ä–∞–≥—Ä–∞—Ñ <code>[v3_req]</code> —Ç–∞ –¥–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ä—è–¥–æ–∫: <code>subjectAltName = @alt_names</code></p></li><li><p>–î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ —Ä—è–¥–∫–∏ –¥–æ —Ñ–∞–π–ª—É:</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">alt_names</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">DNS.2</span><span class="token punctuation" style="color:#393A34">=</span><span class="token value attr-value" style="color:#e3116c">&lt;The domain you want&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>–ü—Ä–∏–º—ñ—Ç–∫–∞: –ó–∞–º—ñ–Ω—ñ—Ç—å &#x27;casbin-webhook-svc.default.svc&#x27; –Ω–∞ —Å–ø—Ä–∞–≤–∂–Ω—î —ñ–º&#x27;—è —Å–µ—Ä–≤—ñ—Å—É –≤–∞—à–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É, —è–∫—â–æ –≤–∏ –≤–∏—Ä—ñ—à–∏—Ç–µ –∑–º—ñ–Ω–∏—Ç–∏ —ñ–º&#x27;—è —Å–µ—Ä–≤—ñ—Å—É.</p></li></ul></li><li><p>–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∑–º—ñ–Ω–µ–Ω–∏–π –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏–π —Ñ–∞–π–ª –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ñ–∞–π–ª—É –∑–∞–ø–∏—Ç—É —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openssl req -new -nodes -keyout server.key -out server.csr -config openssl.cnf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å–∞–º–æ—Å—Ç—ñ–π–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π CA –¥–ª—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –∑–∞–ø–∏—Ç —Ç–∞ –ø—ñ–¥–ø–∏—Å–∞–Ω–Ω—è —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openssl x509 -req -days </span><span class="token number" style="color:#36acaa">3650</span><span class="token plain"> -in server.csr -out server.crt -CA ca.crt -CAkey ca.key -CAcreateserial -extensions v3_req -extensions SAN -extfile openssl.cnf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul></li><li><p>–ó–∞–º—ñ–Ω—ñ—Ç—å –ø–æ–ª–µ &#x27;CABundle&#x27;: –û–±–∏–¥–≤–∞ <code>config/webhook_external.yaml</code> —Ç–∞ <code>config/webhook_internal.yaml</code> –º–∞—é—Ç—å –ø–æ–ª–µ –ø—ñ–¥ –Ω–∞–∑–≤–æ—é &quot;CABundle&quot;, —è–∫–µ –º—ñ—Å—Ç–∏—Ç—å base64 –∑–∞–∫–æ–¥–æ–≤–∞–Ω–∏–π —Ä—è–¥–æ–∫ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞ CA.</p></li><li><p>–û–Ω–æ–≤—ñ—Ç—å —Ü–µ –ø–æ–ª–µ –Ω–æ–≤–∏–º —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–æ–º.</p></li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="—è–∫—â–æ-–≤–∏-–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ-helm-–ø–æ–¥—ñ–±–Ω—ñ-–∑–º—ñ–Ω–∏-–ø–æ—Ç—Ä—ñ–±–Ω–æ-–∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏-–¥–æ-helm-charts">–Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ helm, –ø–æ–¥—ñ–±–Ω—ñ –∑–º—ñ–Ω–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –¥–æ helm charts.<a href="#—è–∫—â–æ-–≤–∏-–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ-helm-–ø–æ–¥—ñ–±–Ω—ñ-–∑–º—ñ–Ω–∏-–ø–æ—Ç—Ä—ñ–±–Ω–æ-–∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏-–¥–æ-helm-charts" class="hash-link" aria-label="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ helm, –ø–æ–¥—ñ–±–Ω—ñ –∑–º—ñ–Ω–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –¥–æ helm charts." title="–ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ helm, –ø–æ–¥—ñ–±–Ω—ñ –∑–º—ñ–Ω–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –¥–æ helm charts.">‚Äã</a></h4><p>5.1.2 –õ–µ–≥–∞–ª—å–Ω—ñ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏ –Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ –ª–µ–≥–∞–ª—å–Ω—ñ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏, –≤–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç–∏ –≤—Å—ñ —Ü—ñ –ø—Ä–æ—Ü–µ–¥—É—Ä–∏.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/casbin/casbin-website-v2/edit/master/docs/K8sGateKeeper.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Ü—é —Å—Ç–æ—Ä—ñ–Ω–∫—É</a> <a href="https://crowdin.com/project/casdoor-website/uk" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page" transurl="https://crowdin.com/project/casdoor-website/uk" style="margin-left:2rem"><svg fill="currentColor" height="20" width="20" viewBox="0 0 25 25" aria-hidden="true" style="margin-right:0.3em;vertical-align:sub"><path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>–ü–µ—Ä–µ–∫–ª–∞—Å—Ç–∏ —Ü—é —Å—Ç–æ—Ä—ñ–Ω–∫—É</a></div><div class="col lastUpdated_VsjB"><span>Created by</span><a href="https://github.com/ComradeProgrammer" target="_blank" rel="noreferrer"><img alt="ComradeProgrammer" src="https://avatars.githubusercontent.com/ComradeProgrammer" width="24px" style="border-radius:12px;vertical-align:sub;margin-left:4px">  <!-- -->ComradeProgrammer</a></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="–°—Ç–æ—Ä—ñ–Ω–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó"><a class="pagination-nav__link pagination-nav__link--prev" href="/uk/docs/k8s"><div class="pagination-nav__sublabel">–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π</div><div class="pagination-nav__label">Authorization of Kubernetes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/uk/docs/envoy"><div class="pagination-nav__sublabel">–ù–∞—Å—Ç—É–ø–Ω–∏–π</div><div class="pagination-nav__label">Authorization of Service Mesh through Envoy</div></a></nav><br></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-–æ–≥–ª—è–¥-—Ç–∞-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è-–¥–ª—è-casbin-k8s-gatekeeper" class="table-of-contents__link toc-highlight">1. –û–≥–ª—è–¥ —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¥–ª—è Casbin K8s-Gatekeeper</a><ul><li><a href="#01-–ø—Ä–æ—Å—Ç–∏–π-–ø—Ä–∏–∫–ª–∞–¥" class="table-of-contents__link toc-highlight">0.1 –ü—Ä–æ—Å—Ç–∏–π –ø—Ä–∏–∫–ª–∞–¥</a></li><li><a href="#11-—è–∫-–ø—Ä–∞—Ü—é—î-casbin-k8s-gatekeeper" class="table-of-contents__link toc-highlight">1.1 –Ø–∫ –ø—Ä–∞—Ü—é—î Casbin K8s-Gatekeeper?</a></li><li><a href="#12-–ø—Ä–∏–∫–ª–∞–¥-—â–æ-—ñ–ª—é—Å—Ç—Ä—É—î-—è–∫-—Ü–µ-–ø—Ä–∞—Ü—é—î" class="table-of-contents__link toc-highlight">1.2 –ü—Ä–∏–∫–ª–∞–¥, —â–æ —ñ–ª—é—Å—Ç—Ä—É—î, —è–∫ —Ü–µ –ø—Ä–∞—Ü—é—î</a></li></ul></li><li><a href="#2-–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è-k8s-gatekeeper" class="table-of-contents__link toc-highlight">2 –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è K8s-gatekeeper</a><ul><li><a href="#211-–∫—Ä–æ–∫-1-–ø–æ–±—É–¥–æ–≤–∞-–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è" class="table-of-contents__link toc-highlight">2.1.1 –ö—Ä–æ–∫ 1: –ü–æ–±—É–¥–æ–≤–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è</a></li><li><a href="#22-–∑–æ–≤–Ω—ñ—à–Ω—ñ–π-webhook" class="table-of-contents__link toc-highlight">2.2 –ó–æ–≤–Ω—ñ—à–Ω—ñ–π webhook</a></li><li><a href="#231-–∫—Ä–æ–∫-1-–ø–æ–±—É–¥–æ–≤–∞-–æ–±—Ä–∞–∑—É" class="table-of-contents__link toc-highlight">2.3.1 –ö—Ä–æ–∫ 1: –ü–æ–±—É–¥–æ–≤–∞ –æ–±—Ä–∞–∑—É</a></li></ul></li><li><a href="#—Å–ø—Ä–æ–±—É–π—Ç–µ-k8s-gatekeeper-31-—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è-–º–æ–¥–µ–ª—ñ-—Ç–∞-–ø–æ–ª—ñ—Ç–∏–∫–∏-casbin" class="table-of-contents__link toc-highlight">–°–ø—Ä–æ–±—É–π—Ç–µ K8s-gatekeeper 3.1 –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ —Ç–∞ –ø–æ–ª—ñ—Ç–∏–∫–∏ Casbin</a><ul><li><a href="#—É-–≤–∞—Å-—î-–¥–≤–∞-—Å–ø–æ—Å–æ–±–∏-—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è-–º–æ–¥–µ–ª—ñ-—Ç–∞-–ø–æ–ª—ñ—Ç–∏–∫–∏-—á–µ—Ä–µ–∑-kubectl-–∞–±–æ-—á–µ—Ä–µ–∑-go-–∫–ª—ñ—î–Ω—Ç-—è–∫–∏–π-–º–∏-–Ω–∞–¥–∞—î–º–æ" class="table-of-contents__link toc-highlight">–£ –≤–∞—Å —î –¥–≤–∞ —Å–ø–æ—Å–æ–±–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ —Ç–∞ –ø–æ–ª—ñ—Ç–∏–∫–∏: —á–µ—Ä–µ–∑ kubectl –∞–±–æ —á–µ—Ä–µ–∑ go-–∫–ª—ñ—î–Ω—Ç, —è–∫–∏–π –º–∏ –Ω–∞–¥–∞—î–º–æ.</a></li><li><a href="#312-try-whether-k8s-gatekeeper-works" class="table-of-contents__link toc-highlight">3.1.2 Try Whether K8s-gatekeeper Works</a></li></ul></li><li><a href="#4-how-to-write-model-and-policy-with-k8s-gatekeeper" class="table-of-contents__link toc-highlight">4. How to Write Model and Policy with K8s-gatekeeper</a><ul><li><a href="#41-request-definition-of-model" class="table-of-contents__link toc-highlight">4.1 Request Definition of Model</a></li><li><a href="#42-matchers-of-model" class="table-of-contents__link toc-highlight">4.2 Matchers of Model</a></li><li><a href="#421-extension-functions" class="table-of-contents__link toc-highlight">4.2.1 Extension functions</a></li><li><a href="#4213-functions-supporting-variable-length-arguments" class="table-of-contents__link toc-highlight">4.2.1.3 Functions Supporting Variable-length Arguments</a></li></ul></li><li><a href="#5-—Ä–æ–∑—à–∏—Ä–µ–Ω—ñ-–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è" class="table-of-contents__link toc-highlight">5. –†–æ–∑—à–∏—Ä–µ–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</a><ul><li><a href="#51-–ø—Ä–æ-—Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏" class="table-of-contents__link toc-highlight">5.1 –ü—Ä–æ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/uk/docs/get-started">–ü–æ—á–∞—Ç–æ–∫ —Ä–æ–±–æ—Ç–∏</a></li><li class="footer__item"><a class="footer__link-item" href="/uk/docs/management-api">API —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è</a></li><li class="footer__item"><a class="footer__link-item" href="/uk/docs/rbac-api">API RBAC</a></li><li class="footer__item"><a class="footer__link-item" href="/uk/docs/middlewares">–ü—Ä–æ–º—ñ–∂–Ω—ñ –ø—Ä–æ–≥—Ä–∞–º–∏</a></li></ul></div><div class="col footer__col"><div class="footer__title">–°–ø—ñ–ª—å–Ω–æ—Ç–∞</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://forum.casbin.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">–§–æ—Ä—É–º<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/search?q=casbin" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/S5UjpzGZjN" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://cdn.casdoor.com/casdoor/resource/built-in/admin/qq_casbin.png" target="_blank" rel="noopener noreferrer" class="footer__link-item">QQ –≥—Ä—É–ø–∞<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">–ë—ñ–ª—å—à–µ</div><ul class="footer__items clean-list"><li class="footer__item">
                <a href="https://github.com/casbin/casbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/casbin?label=Casbin&style=social">
                </a>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://github.com/casbin/jcasbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/jcasbin?label=jCasbin&style=social">
                </a>
              </li><li class="footer__item">
                <a href="https://github.com/casbin/node-casbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/node-casbin?label=Node-Casbin&style=social">
                </a>
                &nbsp;&nbsp;
                <a href="https://github.com/php-casbin/php-casbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/php-casbin/php-casbin?label=PHP-Casbin&style=social">
                </a>
              </li><li class="footer__item">
                <a href="https://github.com/casbin/pycasbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/pycasbin?label=PyCasbin&style=social">
                </a>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://github.com/casbin/Casbin.NET" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/Casbin.NET?label=Casbin.NET&style=social">
                </a>
              </li><li class="footer__item">
                <a href="https://github.com/casbin/casbin-cpp" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/casbin-cpp?label=Casbin-CPP&style=social">
                </a>
                &nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://github.com/casbin/casbin-rs" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/casbin-rs?label=Casbin-RS&style=social">
                </a>
              </li><li class="footer__item">
                <a href="https://twitter.com/casbinHQ" target="_blank">
                  <img alt="Twitter Follow" src="https://img.shields.io/twitter/follow/casbinHQ?style=social">
                </a>
              </li><li class="footer__item">
<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?2c0ffc6f8d49e98d964d59d7aa4cbf34";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
</li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_BH7S" href="/uk/"><img src="/uk/img/casbin_min.svg" alt="–õ–æ–≥–æ—Ç–∏–ø Casbin" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/uk/img/casbin_min.svg" alt="–õ–æ–≥–æ—Ç–∏–ø Casbin" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">Copyright ¬© 2025 Casbin Organization</div></div></div></footer></div>
<script src="/uk/assets/js/runtime~main.38c9108a.js"></script>
<script src="/uk/assets/js/main.eea4f9cc.js"></script>
</body>
</html>