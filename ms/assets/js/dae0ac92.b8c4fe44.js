"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[5624],{6574(e,n,a){a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>u});const i=JSON.parse('{"id":"menu-permissions","title":"Menu Permissions","description":"Contoh untuk Menu Permissions","source":"@site/i18n/ms/docusaurus-plugin-content-docs/current/MenuPermissions.mdx","sourceDirName":".","slug":"/menu-permissions","permalink":"/ms/docs/menu-permissions","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/MenuPermissions.mdx","tags":[],"version":"current","frontMatter":{"id":"menu-permissions","title":"Menu Permissions","description":"Contoh untuk Menu Permissions","keywords":["Menu Permissions","example"],"authors":["amikecoXu"]},"sidebar":"docs","previous":{"title":"Data Permissions","permalink":"/ms/docs/data-permissions"},"next":{"title":"Plugins Overview","permalink":"/ms/docs/plugins-overview"}}');var s=a(4848),r=a(8453);const t={id:"menu-permissions",title:"Menu Permissions",description:"Contoh untuk Menu Permissions",keywords:["Menu Permissions","example"],authors:["amikecoXu"]},l=void 0,d={},u=[{value:"1. Fail Konfigurasi",id:"1-fail-konfigurasi",level:3},{value:"1.1 Gambaran Keseluruhan",id:"11-gambaran-keseluruhan",level:4},{value:"1.2 Takrifan Kebenaran (Polisi)",id:"12-takrifan-kebenaran-polisi",level:4},{value:"1.3 Peranan dan Persatuan Pengguna",id:"13-peranan-dan-persatuan-pengguna",level:4},{value:"1.4 Hierarki Item Menu",id:"14-hierarki-item-menu",level:4},{value:"1.5 Warisan Izin Menu dan Peraturan Lalai",id:"15-warisan-izin-menu-dan-peraturan-lalai",level:4},{value:"1.6 Peraturan Warisan Kebenaran Khas",id:"16-peraturan-warisan-kebenaran-khas",level:4},{value:"1.7 Penerangan Contoh",id:"17-penerangan-contoh",level:4},{value:"2. Kawalan Kebenaran Menu",id:"2-kawalan-kebenaran-menu",level:3}];function c(e){const n={a:"a",code:"code",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Kami bermula dengan memperkenalkan contoh Spring Boot yang menampilkan sistem menu. Contoh ini menggunakan jCasbin untuk menguruskan kebenaran menu. Pada akhirnya, ia bertujuan untuk mengabstrak middleware, khusus untuk kebenaran menu, yang boleh diperluas kepada bahasa lain yang disokong oleh Casbin, seperti Go dan Python."}),"\n",(0,s.jsx)(n.h3,{id:"1-fail-konfigurasi",children:"1. Fail Konfigurasi"}),"\n",(0,s.jsxs)(n.p,{children:["Anda perlu menetapkan pengurusan peranan dan kebenaran dalam fail ",(0,s.jsx)(n.code,{children:"policy.csv"}),", bersama dengan hubungan ibu bapa-anak antara item menu. Untuk maklumat lanjut, sila rujuk ",(0,s.jsx)(n.a,{href:"https://github.com/jcasbin/jcasbin-menu-permission",children:"repo GitHub ini"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"11-gambaran-keseluruhan",children:"1.1 Gambaran Keseluruhan"}),"\n",(0,s.jsxs)(n.p,{children:["Menggunakan ",(0,s.jsx)(n.code,{children:"policy.csv"}),", anda boleh mengkonfigurasi kebenaran peranan dan struktur menu secara fleksibel untuk kawalan akses yang halus. Fail konfigurasi ini mentakrifkan kebenaran akses untuk peranan yang berbeza pada item menu yang berlainan, perkaitan antara pengguna dan peranan, serta hubungan hierarki antara item menu."]}),"\n",(0,s.jsx)(n.h4,{id:"12-takrifan-kebenaran-polisi",children:"1.2 Takrifan Kebenaran (Polisi)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Peraturan Polisi"}),": Polisi ditakrifkan dengan awalan ",(0,s.jsx)(n.code,{children:"p"}),", menentukan peranan (",(0,s.jsx)(n.code,{children:"sub"}),") dan kebenaran mereka (",(0,s.jsx)(n.code,{children:"act"}),") pada item menu (",(0,s.jsx)(n.code,{children:"obj"}),"), bersama dengan kesan peraturan (",(0,s.jsx)(n.code,{children:"eft"}),"), di mana ",(0,s.jsx)(n.code,{children:"allow"})," menunjukkan kebenaran diberikan, dan ",(0,s.jsx)(n.code,{children:"deny"})," menunjukkan ia ditolak."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Contoh:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"p, ROLE_ROOT, SystemMenu, read, allow"})," bermaksud peranan ",(0,s.jsx)(n.code,{children:"ROLE_ROOT"})," mempunyai akses baca kepada item menu ",(0,s.jsx)(n.code,{children:"SystemMenu"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"p, ROLE_ROOT, UserMenu, read, deny"})," bermaksud peranan ",(0,s.jsx)(n.code,{children:"ROLE_ROOT"})," ditolak akses baca kepada item menu ",(0,s.jsx)(n.code,{children:"UserMenu"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"13-peranan-dan-persatuan-pengguna",children:"1.3 Peranan dan Persatuan Pengguna"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Warisan Peranan"}),": Hubungan pengguna-peranan dan hierarki peranan ditakrifkan dengan awalan ",(0,s.jsx)(n.code,{children:"g"}),". Ini membolehkan pengguna mewarisi kebenaran dari satu atau berbilang peranan."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Contoh:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"g, user, ROLE_USER"})," bermaksud pengguna ",(0,s.jsx)(n.code,{children:"user"})," diberikan peranan ",(0,s.jsx)(n.code,{children:"ROLE_USER"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"g, ROLE_ADMIN, ROLE_USER"})," bermaksud ",(0,s.jsx)(n.code,{children:"ROLE_ADMIN"})," mewarisi kebenaran dari ",(0,s.jsx)(n.code,{children:"ROLE_USER"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"14-hierarki-item-menu",children:"1.4 Hierarki Item Menu"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Hubungan Menu"}),": Hubungan ibu bapa-anak antara item menu ditakrifkan dengan awalan ",(0,s.jsx)(n.code,{children:"g2"}),", membantu dalam pembinaan struktur menu."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Contoh:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"g2, UserSubMenu_allow, UserMenu"})," menunjukkan bahawa ",(0,s.jsx)(n.code,{children:"UserSubMenu_allow"})," adalah submenu dari ",(0,s.jsx)(n.code,{children:"UserMenu"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"g2, (NULL), SystemMenu"})," menunjukkan bahawa ",(0,s.jsx)(n.code,{children:"SystemMenu"})," tidak mempunyai item submenu, bermakna ia adalah item menu tingkat atas."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"15-warisan-izin-menu-dan-peraturan-lalai",children:"1.5 Warisan Izin Menu dan Peraturan Lalai"}),"\n",(0,s.jsx)(n.p,{children:"Apabila menguruskan kebenaran menu dengan jCasbin, hubungan kebenaran antara menu induk dan menu anak mengikuti peraturan warisan tertentu, dengan dua peraturan lalai penting:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Warisan Kebenaran Menu Induk"}),":"]}),"\n",(0,s.jsxs)(n.p,{children:["Jika menu induk diberi kebenaran ",(0,s.jsx)(n.code,{children:"allow"})," secara jelas, semua submenu-nya juga akan lalai kepada kebenaran ",(0,s.jsx)(n.code,{children:"allow"})," melainkan ditandakan secara khusus sebagai ",(0,s.jsx)(n.code,{children:"deny"}),". Ini bermakna sebaik sahaja menu induk boleh diakses, submenu-nya juga boleh diakses secara lalai."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Penanganan Menu Induk Tanpa Tetapan Kebenaran Terus"}),":"]}),"\n",(0,s.jsxs)(n.p,{children:["Jika menu induk tidak mempunyai tetapan kebenaran terus (sama ada dibenarkan atau ditolak secara jelas) tetapi mempunyai sekurang-kurangnya satu submenu yang diberi kebenaran ",(0,s.jsx)(n.code,{children:"allow"})," secara jelas, maka menu induk itu dianggap secara tersirat mempunyai kebenaran ",(0,s.jsx)(n.code,{children:"allow"}),". Ini memastikan pengguna boleh navigasi ke submenu ini."]}),"\n",(0,s.jsx)(n.h4,{id:"16-peraturan-warisan-kebenaran-khas",children:"1.6 Peraturan Warisan Kebenaran Khas"}),"\n",(0,s.jsxs)(n.p,{children:["Mengenai warisan kebenaran antara peranan, terutamanya dalam senario yang melibatkan kebenaran ",(0,s.jsx)(n.code,{children:"tolak"}),", peraturan berikut mesti dipatuhi untuk memastikan keselamatan sistem dan kawalan kebenaran yang tepat:"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Perbezaan Antara Penafian Jelas dan Penafian Lalai"}),":"]}),"\n",(0,s.jsxs)(n.p,{children:["Jika satu peranan, seperti ",(0,s.jsx)(n.code,{children:"ROLE_ADMIN"}),", dinafikan akses kepada item menu, seperti ",(0,s.jsx)(n.code,{children:"AdminSubMenu_deny"})," (ditandakan sebagai ",(0,s.jsx)(n.code,{children:"deny"}),"), maka walaupun peranan ini diwarisi oleh peranan lain (contohnya, ",(0,s.jsx)(n.code,{children:"ROLE_ROOT"}),"), peranan yang mewarisi tidak dibenarkan akses kepada item menu yang ditolak. Ini memastikan dasar keselamatan jelas tidak dilangkau kerana warisan peranan."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Warisan Kebenaran Penafian Lalai"}),":"]}),"\n",(0,s.jsxs)(n.p,{children:["Sebaliknya, jika penafian akses peranan kepada item menu (contohnya, ",(0,s.jsx)(n.code,{children:"UserSubMenu_deny"}),") adalah lalai (tidak dinyatakan secara jelas sebagai ",(0,s.jsx)(n.code,{children:"deny"}),", tetapi kerana ia tidak diberikan secara jelas ",(0,s.jsx)(n.code,{children:"allow"}),"), maka apabila peranan ini diwarisi oleh peranan lain (contohnya, ",(0,s.jsx)(n.code,{children:"ROLE_ADMIN"}),"), peranan yang mewarisi boleh mengatasi status ",(0,s.jsx)(n.code,{children:"deny"})," lalai, membenarkan akses kepada item menu ini."]}),"\n",(0,s.jsx)(n.h4,{id:"17-penerangan-contoh",children:"1.7 Penerangan Contoh"}),"\n",(0,s.jsx)(n.p,{children:"dasar:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csv",children:"p, ROLE_ROOT, SystemMenu, read, allow\np, ROLE_ROOT, AdminMenu, read, allow\np, ROLE_ROOT, UserMenu, read, deny\np, ROLE_ADMIN, UserMenu, read, allow\np, ROLE_ADMIN, AdminMenu, read, allow\np, ROLE_ADMIN, AdminSubMenu_deny, read, deny\np, ROLE_USER, UserSubMenu_allow, read, allow\n\ng, user, ROLE_USER\ng, admin, ROLE_ADMIN\ng, root, ROLE_ROOT\ng, ROLE_ADMIN, ROLE_USER\n\ng2, UserSubMenu_allow, UserMenu\ng2, UserSubMenu_deny, UserMenu\ng2, UserSubSubMenu, UserSubMenu_allow\ng2, AdminSubMenu_allow, AdminMenu\ng2, AdminSubMenu_deny, AdminMenu\ng2, (NULL), SystemMenu\n"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"NamaMenu"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"PERAN_ROOT"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"PERAN_ADMIN"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"PERAN_PENGGUNA"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"SystemMenu"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"UserMenu"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"UserSubMenu_allow"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"UserSubSubMenu"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"UserSubMenu_deny"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"AdminMenu"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"AdminSubMenu_allow"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"AdminSubMenu_deny"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"2-kawalan-kebenaran-menu",children:"2. Kawalan Kebenaran Menu"}),"\n",(0,s.jsxs)(n.p,{children:["Senarai semua item menu yang boleh diakses oleh nama pengguna tertentu boleh dikenal pasti melalui fungsi ",(0,s.jsx)(n.code,{children:"findAccessibleMenus()"})," yang tersedia dalam ",(0,s.jsx)(n.a,{href:"https://github.com/jcasbin/jcasbin-menu-permission/blob/master/src/main/java/org/casbin/service/MenuService.java",children:"MenuService"}),". Untuk memeriksa sama ada pengguna tertentu mempunyai hak untuk mengakses item menu yang ditetapkan, kaedah ",(0,s.jsx)(n.code,{children:"checkMenuAccess()"})," boleh digunakan. Pendekatan ini memastikan bahawa kebenaran menu dikawal dengan berkesan, menggunakan keupayaan jCasbin untuk menguruskan hak akses secara cekap."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453(e,n,a){a.d(n,{R:()=>t,x:()=>l});var i=a(6540);const s={},r=i.createContext(s);function t(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);