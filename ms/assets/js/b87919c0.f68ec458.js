"use strict";(self.webpackChunkcasbin_website_v2=self.webpackChunkcasbin_website_v2||[]).push([[8470],{3905:(a,t,n)=>{n.d(t,{Zo:()=>o,kt:()=>k});var e=n(7294);function r(a,t,n){return t in a?Object.defineProperty(a,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[t]=n,a}function l(a,t){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),n.push.apply(n,e)}return n}function i(a){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(a,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(n,t))}))}return a}function p(a,t){if(null==a)return{};var n,e,r=function(a,t){if(null==a)return{};var n,e,r={},l=Object.keys(a);for(e=0;e<l.length;e++)n=l[e],t.indexOf(n)>=0||(r[n]=a[n]);return r}(a,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);for(e=0;e<l.length;e++)n=l[e],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(a,n)&&(r[n]=a[n])}return r}var d=e.createContext({}),u=function(a){var t=e.useContext(d),n=t;return a&&(n="function"==typeof a?a(t):i(i({},t),a)),n},o=function(a){var t=u(a.components);return e.createElement(d.Provider,{value:t},a.children)},m={inlineCode:"code",wrapper:function(a){var t=a.children;return e.createElement(e.Fragment,{},t)}},s=e.forwardRef((function(a,t){var n=a.components,r=a.mdxType,l=a.originalType,d=a.parentName,o=p(a,["components","mdxType","originalType","parentName"]),s=u(n),k=r,g=s["".concat(d,".").concat(k)]||s[k]||m[k]||l;return n?e.createElement(g,i(i({ref:t},o),{},{components:n})):e.createElement(g,i({ref:t},o))}));function k(a,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof a||r){var l=n.length,i=new Array(l);i[0]=s;var p={};for(var d in t)hasOwnProperty.call(t,d)&&(p[d]=t[d]);p.originalType=a,p.mdxType="string"==typeof a?a:r,i[1]=p;for(var u=2;u<l;u++)i[u]=n[u];return e.createElement.apply(null,i)}return e.createElement.apply(null,n)}s.displayName="MDXCreateElement"},9931:(a,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>m,frontMatter:()=>l,metadata:()=>p,toc:()=>u});var e=n(7462),r=(n(7294),n(3905));const l={id:"policy-storage",title:"Policy Storage",description:"Penyimpanan Polisi",keywords:["policy storage"],authors:["hsluoyz"]},i=void 0,p={unversionedId:"policy-storage",id:"policy-storage",title:"Policy Storage",description:"Penyimpanan Polisi",source:"@site/i18n/ms/docusaurus-plugin-content-docs/current/PolicyStorage.mdx",sourceDirName:".",slug:"/policy-storage",permalink:"/ms/docs/policy-storage",draft:!1,editUrl:"https://github.com/casbin/casbin-website-v2/edit/master/docs/PolicyStorage.mdx",tags:[],version:"current",frontMatter:{id:"policy-storage",title:"Policy Storage",description:"Penyimpanan Polisi",keywords:["policy storage"],authors:["hsluoyz"]},sidebar:"docs",previous:{title:"Model Storage",permalink:"/ms/docs/model-storage"},next:{title:"Policy Subset Loading",permalink:"/ms/docs/policy-subset-loading"}},d={},u=[{value:"Memuatkan polisi dari fail .CSV",id:"memuatkan-polisi-dari-fail-csv",level:2},{value:"API Pengubahsuaian",id:"api-pengubahsuaian",level:2},{value:"Format Storan Pangkalan Data",id:"format-storan-pangkalan-data",level:2},{value:"Butiran Penyesuai",id:"butiran-penyesuai",level:2}],o={toc:u};function m(a){let{components:t,...n}=a;return(0,r.kt)("wrapper",(0,e.Z)({},o,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Dalam Casbin, penyimpanan polisi diimplementasikan sebagai ",(0,r.kt)("a",{parentName:"p",href:"/docs/adapters"},"adapter"),"."),(0,r.kt)("h2",{id:"memuatkan-polisi-dari-fail-csv"},"Memuatkan polisi dari fail .CSV"),(0,r.kt)("p",null,"Ini adalah cara yang paling biasa digunakan dalam Casbin. Ia mudah difahami untuk pemula dan mudah untuk dikongsi apabila anda meminta bantuan daripada pasukan Casbin."),(0,r.kt)("p",null,"Kandungan fail ",(0,r.kt)("inlineCode",{parentName:"p"},".CSV")," ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casbin/casbin/blob/master/examples/rbac_policy.csv"},"examples/rbac","_","policy.csv")," adalah seperti berikut:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csv"},"p, alice, data1, read\np, bob, data2, write\np, data2_admin, data2, read\np, data2_admin, data2, write\ng, alice, data2_admin\n")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Jika fail anda mengandungi koma, anda harus membungkusnya dalam tanda petik ganda. Contohnya:"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-csv"},'p, alice, "data1,data2", read    --correct\np, alice, data1,data2, read        --incorrect (the whole phrase "data1,data2" should be wrapped in double quotes)\n')),(0,r.kt)("p",{parentName:"admonition"},"Jika fail anda mengandungi koma dan tanda petikan ganda, anda harus mengurung bidang tersebut dalam tanda petikan ganda dan menggandakan mana-mana tanda petikan ganda yang tertanam."),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-csv"},'p, alice, data, "r.act in (""get"", ""post"")"        --correct\np, alice, data, "r.act in ("get", "post")"            --incorrect (you should use "" to escape "")\n')),(0,r.kt)("p",{parentName:"admonition"},"Isu berkaitan: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casbin/casbin/issues/886"},"casbin#886"))),(0,r.kt)("h2",{id:"api-pengubahsuaian"},"API Pengubahsuaian"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Kaedah"),(0,r.kt)("th",{parentName:"tr",align:null},"Jenis"),(0,r.kt)("th",{parentName:"tr",align:null},"Penerangan"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"LoadPolicy()"),(0,r.kt)("td",{parentName:"tr",align:null},"asas"),(0,r.kt)("td",{parentName:"tr",align:null},"Muat semua peraturan dasar dari storan")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"SimpanDasar()"),(0,r.kt)("td",{parentName:"tr",align:null},"asas"),(0,r.kt)("td",{parentName:"tr",align:null},"Simpan semua peraturan dasar ke dalam storan")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"TambahDasar()"),(0,r.kt)("td",{parentName:"tr",align:null},"pilihan"),(0,r.kt)("td",{parentName:"tr",align:null},"Tambahkan peraturan dasar ke dalam storan")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"BuangDasar()"),(0,r.kt)("td",{parentName:"tr",align:null},"pilihan"),(0,r.kt)("td",{parentName:"tr",align:null},"Buang peraturan dasar dari storan")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"BuangDasarTerpilih()"),(0,r.kt)("td",{parentName:"tr",align:null},"pilihan"),(0,r.kt)("td",{parentName:"tr",align:null},"Buang peraturan polisi yang sepadan dengan penapis dari storan")))),(0,r.kt)("h2",{id:"format-storan-pangkalan-data"},"Format Storan Pangkalan Data"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Fail polisi anda")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csv"},"p, data2_admin, data2, read\np, data2_admin, data2, write\ng, alice, admin\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Struktur pangkalan data yang sepadan (seperti MySQL)")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"id"),(0,r.kt)("th",{parentName:"tr",align:null},"ptype"),(0,r.kt)("th",{parentName:"tr",align:null},"v0"),(0,r.kt)("th",{parentName:"tr",align:null},"v1"),(0,r.kt)("th",{parentName:"tr",align:null},"v2"),(0,r.kt)("th",{parentName:"tr",align:null},"v3"),(0,r.kt)("th",{parentName:"tr",align:null},"v4"),(0,r.kt)("th",{parentName:"tr",align:null},"v5"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"p"),(0,r.kt)("td",{parentName:"tr",align:null},"data2","_","admin"),(0,r.kt)("td",{parentName:"tr",align:null},"data2"),(0,r.kt)("td",{parentName:"tr",align:null},"baca"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"2"),(0,r.kt)("td",{parentName:"tr",align:null},"p"),(0,r.kt)("td",{parentName:"tr",align:null},"data2","_","admin"),(0,r.kt)("td",{parentName:"tr",align:null},"data2"),(0,r.kt)("td",{parentName:"tr",align:null},"tulis"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"3"),(0,r.kt)("td",{parentName:"tr",align:null},"g"),(0,r.kt)("td",{parentName:"tr",align:null},"alice"),(0,r.kt)("td",{parentName:"tr",align:null},"admin"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Makna Setiap Lajur")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"id"),": Kunci utama dalam pangkalan data. Ia tidak wujud sebagai sebahagian daripada ",(0,r.kt)("inlineCode",{parentName:"p"},"dasar casbin"),". Cara ia dihasilkan bergantung pada penyesuai khusus.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"ptype"),": Ia sepadan dengan ",(0,r.kt)("inlineCode",{parentName:"p"},"p"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"g"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"g2"),", dsb.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"v0-v5"),": Nama-nama lajur tidak mempunyai makna khusus dan sepadan dengan nilai-nilai dalam ",(0,r.kt)("inlineCode",{parentName:"p"},"policy csv")," dari kiri ke kanan. Bilangan lajur bergantung pada berapa banyak yang anda tentukan sendiri. Secara teori, boleh ada bilangan lajur yang tidak terhingga, tetapi secara amnya hanya ",(0,r.kt)("strong",{parentName:"p"},"6")," lajur yang dilaksanakan dalam penyesuai. Jika ini tidak mencukupi untuk anda, sila hantar isu ke repositori penyesuai yang berkaitan."))),(0,r.kt)("h2",{id:"butiran-penyesuai"},"Butiran Penyesuai"),(0,r.kt)("p",null,"Untuk butiran lanjut mengenai penggunaan API penyesuai dan reka bentuk struktur jadual pangkalan data, sila lawati: ",(0,r.kt)("a",{parentName:"p",href:"/docs/adapters"},"/docs/adapters")))}m.isMDXComponent=!0}}]);