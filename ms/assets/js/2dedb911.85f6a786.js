"use strict";(self.webpackChunkcasbin_website_v2=self.webpackChunkcasbin_website_v2||[]).push([[8382],{5356:a=>{a.exports=JSON.parse('{"blogPosts":[{"id":"/2021/08/19/apisix-casbin-authorization","metadata":{"permalink":"/ms/blog/2021/08/19/apisix-casbin-authorization","editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/i18n/ms/docusaurus-plugin-content-blog/2021-08-19-apisix-casbin-authorization.md","source":"@site/i18n/ms/docusaurus-plugin-content-blog/2021-08-19-apisix-casbin-authorization.md","title":"Penggunaan Casbin dalam APISIX untuk kebenaran","description":"Pengenalan","date":"2021-08-19T00:00:00.000Z","formattedDate":"19 Ogos 2021","tags":[],"readingTime":5.135,"hasTruncateMarker":false,"authors":[{"name":"Rushikesh Tote","title":"Ahli Casbin","url":"http://github.com/rushitote","imageURL":"https://avatars.githubusercontent.com/rushitote"}],"frontMatter":{"title":"Penggunaan Casbin dalam APISIX untuk kebenaran","author":"Rushikesh Tote","authorTitle":"Ahli Casbin","authorURL":"http://github.com/rushitote","authorImageURL":"https://avatars.githubusercontent.com/rushitote"},"nextItem":{"title":"Yang Luo - Pemenang Bonus Rakan Sejawat Sumber Terbuka Google","permalink":"/ms/blog/2020/04/21/google-award"}},"content":"## Pengenalan\\n\\n[APISIX](https://apisix.apache.org/) ialah gerbang API berasaskan awan yang berkelajuan tinggi dan boleh diubah suai yang berdasarkan Nginx dan etcd. Ia adalah projek sumber terbuka oleh Yayasan Perisian Apache. Selain itu, apa yang menjadikan APISIX begitu baik ialah sokongan untuk banyak plugin terbina dalam yang hebat yang boleh digunakan untuk melaksanakan ciri-ciri seperti pengesahan, pemantauan, perutean, dsb. Dan hakikat bahawa plugin dalam APISIX dimuat semula secara panas (tanpa mula semula) menjadikannya sangat dinamik.\\n\\nTetapi semasa menggunakan APISIX, mungkin terdapat senario di mana anda mungkin ingin menambah logik kebenaran kompleks dalam aplikasi anda. Inilah di mana authz-casbin mungkin boleh membantu anda, authz-casbin adalah plugin APISIX yang berdasarkan [Lua Casbin](https://github.com/casbin/lua-casbin/) yang membolehkan penggunaan kuasa penggunaan berdasarkan pelbagai model kawalan akses. [Casbin](/) adalah perpustakaan penggunaan yang menyokong model kawalan akses seperti ACL, RBAC, ABAC. Asalnya ditulis dalam Go, ia telah dipindahkan ke banyak bahasa dan Lua Casbin adalah pelaksanaan Lua bagi Casbin. Pembangunan authz-casbin bermula apabila kami mencadangkan plugin baru untuk penggunaan dalam repositori APISIX ([#4674](https://github.com/apache/apisix/issues/4674)) yang mana ahli teras bersetuju. Dan selepas ulasan yang membantu yang menyebabkan beberapa perubahan dan penambahbaikan utama, PR ([#4710](https://github.com/apache/apisix/pull/4710)) akhirnya digabungkan.\\n\\nDalam blog ini, kami akan menggunakan plugin authz-casbin untuk menunjukkan bagaimana anda boleh melaksanakan model penggunaan berdasarkan Kawalan Akses Berdasarkan Peranan (RBAC) dalam APISIX.\\n\\n**PERHATIAN**: Anda perlu menggunakan beberapa plugin lain atau alur kerja tersuai untuk mengesahkan pengguna kerana Casbin hanya akan melakukan penggunaan dan bukan pengesahan.\\n\\n## Membuat model\\n\\nPlugin ini menggunakan tiga parameter untuk membenarkan sebarang permintaan - subjek, objek dan tindakan. Di sini, subjek adalah nilai tajuk nama pengguna, yang boleh menjadi seperti `[username: alice]`. Kemudian, objek tersebut adalah laluan URL yang diakses dan tindakan adalah kaedah permintaan yang digunakan.\\n\\nKatakan kita ingin membuat model dengan tiga sumber pada laluan - ``/`\\\\`, ``/res1`\\\\` dan ``/res2`\\\\`. Dan kita ingin mempunyai model seperti ini:\\n\\n![imej](/img/blog/model.png)\\n\\nIni bermakna semua pengguna (``*`\\\\`) seperti contohnya ``jack`\\\\` boleh mengakses laman utama (``/`\\\\`). Dan pengguna dengan kebenaran ``admin`\\\\` seperti ``alice`\\\\` dan ``bob`\\\\` boleh mengakses semua halaman dan sumber (seperti ``res1`\\\\` dan ``res2`\\\\`). Juga, mari kita hadkan pengguna tanpa sebarang kebenaran admin untuk menggunakan hanya kaedah permintaan ``GET`\\\\`. Untuk senario ini, kita boleh menentukan model sebagai:\\n\\n```ini\\n[request_definition]\\nr = sub, obj, act\\n\\n[policy_definition]\\np = sub, obj, act\\n\\n[role_definition]\\ng = _, _\\n\\n[policy_effect]\\ne = some(where (p.eft == allow))\\n\\n[matchers]\\nm = (g(r.sub, p.sub) || keyMatch(r.sub, p.sub)) && keyMatch(r.obj, p.obj) && keyMatch(r.act, p.act)\\n```\\n\\n## Membuat polisi\\n\\nDari senario di atas, polisi tersebut akan menjadi:\\n\\n```csv\\np, *, /, GET\\np, admin, *, *\\ng, alice, admin\\ng, bob, admin\\n```\\n\\nPencocok dari model bermakna:\\n\\n1. `(g(r.sub, p.sub) || keyMatch(r.sub, p.sub))`: Sama ada subjek permintaan mempunyai peranan sebagai subjek polisi atau subjek permintaan sepadan dengan subjek polisi dalam `keyMatch`. `keyMatch` adalah fungsi terbina dalam Lua Casbin, anda boleh melihat penerangan fungsi dan lebih banyak fungsi yang boleh berguna [di sini](https://github.com/casbin/lua-casbin/blob/master/src/util/BuiltInFunctions.lua).\\n2. `keyMatch(r.obj, p.obj)`: Objek permintaan sepadan dengan objek polisi (laluan URL di sini).\\n3. `keyMatch(r.act, p.act)`: Tindakan permintaan sepadan dengan tindakan polisi (kaedah permintaan HTTP di sini).\\n\\n## Mengaktifkan plugin pada laluan\\n\\nSetelah anda mencipta model dan polisi, anda boleh mengaktifkannya pada laluan menggunakan APISIX Admin API. Untuk mengaktifkannya menggunakan laluan fail model dan polisi:\\n\\n```sh\\ncurl http://127.0.0.1:9080/apisix/admin/routes/1 -H \'X-API-KEY: edd1c9f034335f136f87ad84b625c8f1\' -X PUT -d \'\\n{\\n    \\"plugins\\": {\\n        \\"authz-casbin\\": {\\n            \\"model_path\\": \\"/path/to/model.conf\\",\\n            \\"policy_path\\": \\"/path/to/policy.csv\\",\\n            \\"username\\": \\"username\\"\\n        }\\n    },\\n    \\"upstream\\": {\\n        \\"nodes\\": {\\n            \\"127.0.0.1:1980\\": 1\\n        },\\n        \\"type\\": \\"roundrobin\\"\\n    },\\n    \\"uri\\": \\"/*\\"\\n}\'\\n```\\n\\nDi sini, medan nama pengguna adalah nama header yang akan anda gunakan untuk menyampaikan subjek. Sebagai contoh, jika anda akan menyampaikan header nama pengguna sebagai `user: alice`, anda akan menggunakan `\\"username\\": \\"user\\"`.\\n\\nUntuk menggunakan teks model/polisi dan bukannya fail, anda boleh menggunakan medan `model` dan `policy` sebagai gantinya:\\n\\n```sh\\ncurl http://127.0.0.1:9080/apisix/admin/routes/1 -H \'X-API-KEY: edd1c9f034335f136f87ad84b625c8f1\' -X PUT -d \'\\n{\\n    \\"plugins\\": {\\n        \\"authz-casbin\\": {\\n            \\"model\\": \\"[request_definition]\\n            r = sub, obj, act\\n\\n            [policy_definition]\\n            p = sub, obj, act\\n\\n            [role_definition]\\n            g = _, _\\n\\n            [policy_effect]\\n            e = some(where (p.eft == allow))\\n\\n            [matchers]\\n            m = (g(r.sub, p.sub) || keyMatch(r.sub, p.sub)) && keyMatch(r.obj, p.obj) && keyMatch(r.act, p.act)\\",\\n\\n            \\"policy\\": \\"p, *, /, GET\\n            p, admin, *, *\\n            g, alice, admin\\n            g, bob, admin\\",\\n\\n            \\"username\\": \\"username\\"\\n        }\\n    },\\n    \\"upstream\\": {\\n        \\"nodes\\": {\\n            \\"127.0.0.1:1980\\": 1\\n        },\\n        \\"type\\": \\"roundrobin\\"\\n    },\\n    \\"uri\\": \\"/*\\"\\n}\'\\n```\\n\\n## Mengaktifkan plugin menggunakan model/polisi global\\n\\nMungkin terdapat situasi di mana anda mungkin ingin menggunakan konfigurasi model dan polisi tunggal merentasi pelbagai laluan. Anda boleh melakukannya dengan terlebih dahulu menghantar permintaan `PUT` untuk menambah konfigurasi model dan polisi ke metadata plugin dengan:\\n\\n```sh\\ncurl http://127.0.0.1:9080/apisix/admin/plugin_metadata/authz-casbin -H \'X-API-KEY: edd1c9f034335f136f87ad84b625c8f1\' -i -X PUT -d \'\\n{\\n\\"model\\": \\"[request_definition]\\nr = sub, obj, act\\n\\n[policy_definition]\\np = sub, obj, act\\n\\n[role_definition]\\ng = _, _\\n\\n[policy_effect]\\ne = some(where (p.eft == allow))\\n\\n[matchers]\\nm = (g(r.sub, p.sub) || keyMatch(r.sub, p.sub)) && keyMatch(r.obj, p.obj) && keyMatch(r.act, p.act)\\",\\n\\n\\"policy\\": \\"p, *, /, GET\\np, admin, *, *\\ng, alice, admin\\ng, bob, admin\\"\\n}\'\\n```\\n\\nKemudian, untuk mengaktifkan konfigurasi yang sama pada beberapa rute, hantar permintaan menggunakan Admin API:\\n\\n```sh\\ncurl http://127.0.0.1:9080/apisix/admin/routes/1 -H \'X-API-KEY: edd1c9f034335f136f87ad84b625c8f1\' -X PUT -d \'\\n{\\n    \\"plugins\\": {\\n        \\"authz-casbin\\": {\\n            \\"username\\": \\"username\\"\\n        }\\n    },\\n    \\"upstream\\": {\\n        \\"nodes\\": {\\n            \\"127.0.0.1:1980\\": 1\\n        },\\n        \\"type\\": \\"roundrobin\\"\\n    },\\n    \\"uri\\": \\"/route1/*\\"\\n}\'\\n```\\n\\nIni akan menambah konfigurasi metadata plugin ke rute tersebut. Anda juga boleh mengemas kini konfigurasi metadata plugin dengan mudah dengan menghantar semula permintaan ke metadata plugin dengan konfigurasi model dan polisi yang dikemas kini, plugin akan mengemas kini semua rute yang menggunakan metadata plugin secara automatik.\\n\\n## Kes Penggunaan\\n\\n- Kes penggunaan utama plugin ini adalah dalam melaksanakan kebenaran dalam API anda. Anda boleh menambah plugin ini dengan mudah pada mana-mana rute API yang anda gunakan dengan konfigurasi model dan polisi kebenaran anda.\\n- Jika anda ingin mempunyai model kebenaran tunggal untuk semua API anda, anda boleh menggunakan kaedah model/polisi global. Ini memudahkan pengemaskinian polisi untuk semua rute, kerana anda hanya perlu mengemas kini metadata dalam etcd.\\n- Manakala jika anda ingin menggunakan model yang berbeza untuk setiap rute yang berbeza, anda boleh menggunakan kaedah rute. Ini berguna apabila laluan API yang berbeza mempunyai set kebenaran pengguna yang berbeza. Anda juga boleh menggunakan ini apabila anda menangani dasar yang lebih besar, kerana ia akan mempercepatkan pengesahan apabila disaring ke dalam pelbagai laluan."},{"id":"/2020/04/21/google-award","metadata":{"permalink":"/ms/blog/2020/04/21/google-award","editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/i18n/ms/docusaurus-plugin-content-blog/2020-04-21-google-award.md","source":"@site/i18n/ms/docusaurus-plugin-content-blog/2020-04-21-google-award.md","title":"Yang Luo - Pemenang Bonus Rakan Sejawat Sumber Terbuka Google","description":"Hari ini, kami dengan senang hati mengumumkan bahawa pengasas Casbin, Yang Luo telah dianugerahkan sebagai \\"Pemenang Bonus Rakan Sejawat Sumber Terbuka Google\\" untuk kerjanya pada Casbin, Npcap dan Nmap pada suku ketiga 2019.","date":"2020-04-21T00:00:00.000Z","formattedDate":"21 April 2020","tags":[],"readingTime":0.745,"hasTruncateMarker":false,"authors":[{"name":"Casbin","title":"Akaun Rasmi","url":"http://github.com/casbin","imageURL":"https://avatars.githubusercontent.com/casbin"}],"frontMatter":{"title":"Yang Luo - Pemenang Bonus Rakan Sejawat Sumber Terbuka Google","author":"Casbin","authorTitle":"Akaun Rasmi","authorURL":"http://github.com/casbin","authorImageURL":"https://avatars.githubusercontent.com/casbin"},"prevItem":{"title":"Penggunaan Casbin dalam APISIX untuk kebenaran","permalink":"/ms/blog/2021/08/19/apisix-casbin-authorization"},"nextItem":{"title":"Mengubahsuai Dokumentasi Kami","permalink":"/ms/blog/2018/09/23/new-website"}},"content":"Hari ini, kami dengan senang hati mengumumkan bahawa pengasas Casbin, [Yang Luo](https://github.com/hsluoyz) telah dianugerahkan sebagai \\"Pemenang Bonus Rakan Sejawat Sumber Terbuka Google\\" untuk kerjanya pada [Casbin](/), [Npcap](https://nmap.org/npcap/) dan [Nmap](https://nmap.org/) pada suku ketiga 2019.\\n\\n![ospb](https://hsluoyz.github.io/download/Open%20Source%20Peer%20Bonus%20Q3%202019%20-%20Yang%20Luo%20-%20OSPB%20Award%20Letter.png)\\n\\n> Surat anugerah asal boleh diakses [di sini](https://github.com/hsluoyz/hsluoyz.github.io/blob/master/download/Open%20Source%20Peer%20Bonus%20Q3%202019%20-%20Yang%20Luo%20-%20OSPB%20Award%20Letter.pdf).\\n\\nProgram [Google Open Source Peer Bonus](https://opensource.google.com/docs/growing/peer-bonus/) diterangkan sebagai:\\n\\n> _Dengan cara yang sama seperti Google Peer Bonus digunakan untuk mengiktiraf rakan sekerja Google yang telah melakukan lebih dari yang diharapkan, Open Source Peer Bonus mengiktiraf orang luar yang telah membuat sumbangan luar biasa kepada sumber terbuka._\\n\\nPengumuman untuk pemenang tahun 2019 boleh didapati di:\\n\\n> https://opensource.googleblog.com/2020/01/announcing-2019-second-cycle-google.html\\n\\nYang dan Casbin disenaraikan di kalangan pembangun dan projek sumber terbuka yang mempunyai kesan yang relevan di luar sana, seperti Git, TensorFlow, V8, CPython, LLVM, projek Apache, Angular atau Jenkins.\\n\\nKami gembira melihat Casbin diiktiraf dengan cara ini kerana sumbangannya kepada sumber terbuka dan keselamatan awan!\\n\\n_Terima kasih kerana menaiki Casbin!_"},{"id":"/2018/09/23/new-website","metadata":{"permalink":"/ms/blog/2018/09/23/new-website","editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/i18n/ms/docusaurus-plugin-content-blog/2018-09-23-new-website.md","source":"@site/i18n/ms/docusaurus-plugin-content-blog/2018-09-23-new-website.md","title":"Mengubahsuai Dokumentasi Kami","description":"Hari ini, kami telah memindahkan dokumentasi Casbin dari GitHub Wiki ke Docs laman web ini, Docusaurus menyediakan banyak ciri-ciri hebat seperti gaya Markdown yang lebih baik,","date":"2018-09-23T00:00:00.000Z","formattedDate":"23 September 2018","tags":[],"readingTime":0.21,"hasTruncateMarker":false,"authors":[{"name":"Yang Luo","title":"Pencipta Casbin","url":"http://github.com/hsluoyz","imageURL":"https://avatars.githubusercontent.com/hsluoyz"}],"frontMatter":{"title":"Mengubahsuai Dokumentasi Kami","author":"Yang Luo","authorTitle":"Pencipta Casbin","authorURL":"http://github.com/hsluoyz","authorImageURL":"https://avatars.githubusercontent.com/hsluoyz"},"prevItem":{"title":"Yang Luo - Pemenang Bonus Rakan Sejawat Sumber Terbuka Google","permalink":"/ms/blog/2020/04/21/google-award"},"nextItem":{"title":"node-Casbin: Ahli Baru Keluarga Casbin","permalink":"/ms/blog/2018/08/27/node-casbin"}},"content":"Hari ini, kami telah memindahkan dokumentasi Casbin dari GitHub Wiki ke `Docs` laman web ini, Docusaurus menyediakan banyak ciri-ciri hebat seperti gaya Markdown yang lebih baik,\\n\\nDokumentasi ini belum sempurna dan masih memerlukan penalaan. Kod sumber dihoskan\\n\\nSebarang sumbangan atau cadangan dialu-alukan!"},{"id":"/2018/08/27/node-casbin","metadata":{"permalink":"/ms/blog/2018/08/27/node-casbin","editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/i18n/ms/docusaurus-plugin-content-blog/2018-08-27-node-casbin.md","source":"@site/i18n/ms/docusaurus-plugin-content-blog/2018-08-27-node-casbin.md","title":"node-Casbin: Ahli Baru Keluarga Casbin","description":"Hari ini, kami berjaya memindahkan Casbin ke Node.js, yang dinamakan sebagai:","date":"2018-08-27T00:00:00.000Z","formattedDate":"27 Ogos 2018","tags":[],"readingTime":0.22,"hasTruncateMarker":false,"authors":[{"name":"Zixuan Liu","title":"Pemelihara Casbin","url":"http://github.com/nodece","imageURL":"https://avatars.githubusercontent.com/nodece"}],"frontMatter":{"title":"node-Casbin: Ahli Baru Keluarga Casbin","author":"Zixuan Liu","authorTitle":"Pemelihara Casbin","authorURL":"http://github.com/nodece","authorImageURL":"https://avatars.githubusercontent.com/nodece"},"prevItem":{"title":"Mengubahsuai Dokumentasi Kami","permalink":"/ms/blog/2018/09/23/new-website"},"nextItem":{"title":"Pelancaran Pelayan Casbin!","permalink":"/ms/blog/2018/08/07/launching-casbin-server"}},"content":"Hari ini, kami berjaya memindahkan Casbin ke Node.js, yang dinamakan sebagai:\\n\\n**node-Casbin** berkongsi penggunaan dan API yang serupa Middleware untuk Express, Koa2 dan Egg.js sudah siap Pengaya storan untuk Sequelize juga sudah disediakan.\\n\\nSemoga ia dapat memenuhi keperluan anda dengan baik :)\\n\\nGitHub: https://github.com/casbin/node-casbin"},{"id":"/2018/08/07/launching-casbin-server","metadata":{"permalink":"/ms/blog/2018/08/07/launching-casbin-server","editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/i18n/ms/docusaurus-plugin-content-blog/2018-08-07-launching-casbin-server.md","source":"@site/i18n/ms/docusaurus-plugin-content-blog/2018-08-07-launching-casbin-server.md","title":"Pelancaran Pelayan Casbin!","description":"Beberapa pelanggan kami bertanya jika Casbin boleh digunakan sebagai perkhidmatan dan bukannya perpustakaan. Jawapannya ialah YA. Hari ini, kami melancarkan projek Casbin Server sebagai penyelesaian konkrit untuk","date":"2018-08-07T00:00:00.000Z","formattedDate":"7 Ogos 2018","tags":[],"readingTime":0.615,"hasTruncateMarker":false,"authors":[{"name":"Helong Zhang","title":"Pemelihara Casbin","url":"http://github.com/BetaCat0","imageURL":"https://avatars.githubusercontent.com/BetaCat0"}],"frontMatter":{"title":"Pelancaran Pelayan Casbin!","author":"Helong Zhang","authorTitle":"Pemelihara Casbin","authorURL":"http://github.com/BetaCat0","authorImageURL":"https://avatars.githubusercontent.com/BetaCat0"},"prevItem":{"title":"node-Casbin: Ahli Baru Keluarga Casbin","permalink":"/ms/blog/2018/08/27/node-casbin"}},"content":"Beberapa pelanggan kami bertanya jika Casbin boleh digunakan sebagai perkhidmatan dan bukannya perpustakaan. Jawapannya ialah **YA**. Hari ini, kami melancarkan projek [Casbin Server](https://github.com/casbin/casbin-server) sebagai penyelesaian konkrit untuk\\n\\n**Pelayan Casbin** sedang dalam pembangunan aktif oleh pasukan teras kami. Ia mempunyai beberapa ciri:\\n\\n- Dikembangkan secara tulen dalam Golang.\\n- Mampu mengurus beribu-ribu contoh Casbin, jadi anda boleh memindahkan logik penguatkuasaan dasar dari berbilang perkhidmatan ke dalam satu Pelayan Casbin.\\n- **gRPC** digunakan untuk berkomunikasi dengan Pelayan Casbin. Kami juga mempertimbangkan untuk menambah sokongan **RESTful** dalam masa terdekat.\\n- Portal pentadbir web yang mesra disediakan untuk pentadbir bukan pembangun untuk mengurus semua butiran seperti contoh Casbin, model, storan dasar dan penyeimbangan beban.\\n\\n\\n\\nKod sumber dihoskan di GitHub: https://github.com/casbin/casbin-server\\n\\nSebarang isu atau permintaan tarik dialu-alukan :)"}]}')}}]);