"use strict";(self.webpackChunkcasbin_website_v2=self.webpackChunkcasbin_website_v2||[]).push([[5584],{3905:(a,e,n)=>{n.d(e,{Zo:()=>l,kt:()=>c});var t=n(7294);function i(a,e,n){return e in a?Object.defineProperty(a,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[e]=n,a}function r(a,e){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.push.apply(n,t)}return n}function s(a){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(a,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))}))}return a}function u(a,e){if(null==a)return{};var n,t,i=function(a,e){if(null==a)return{};var n,t,i={},r=Object.keys(a);for(t=0;t<r.length;t++)n=r[t],e.indexOf(n)>=0||(i[n]=a[n]);return i}(a,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);for(t=0;t<r.length;t++)n=r[t],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(a,n)&&(i[n]=a[n])}return i}var o=t.createContext({}),p=function(a){var e=t.useContext(o),n=e;return a&&(n="function"==typeof a?a(e):s(s({},e),a)),n},l=function(a){var e=p(a.components);return t.createElement(o.Provider,{value:e},a.children)},m={inlineCode:"code",wrapper:function(a){var e=a.children;return t.createElement(t.Fragment,{},e)}},k=t.forwardRef((function(a,e){var n=a.components,i=a.mdxType,r=a.originalType,o=a.parentName,l=u(a,["components","mdxType","originalType","parentName"]),k=p(n),c=i,d=k["".concat(o,".").concat(c)]||k[c]||m[c]||r;return n?t.createElement(d,s(s({ref:e},l),{},{components:n})):t.createElement(d,s({ref:e},l))}));function c(a,e){var n=arguments,i=e&&e.mdxType;if("string"==typeof a||i){var r=n.length,s=new Array(r);s[0]=k;var u={};for(var o in e)hasOwnProperty.call(e,o)&&(u[o]=e[o]);u.originalType=a,u.mdxType="string"==typeof a?a:i,s[1]=u;for(var p=2;p<r;p++)s[p]=n[p];return t.createElement.apply(null,s)}return t.createElement.apply(null,n)}k.displayName="MDXCreateElement"},4874:(a,e,n)=>{n.r(e),n.d(e,{assets:()=>o,contentTitle:()=>s,default:()=>m,frontMatter:()=>r,metadata:()=>u,toc:()=>p});var t=n(7462),i=(n(7294),n(3905));const r={id:"performance",title:"Performance Optimization",description:"Pengoptimuman prestasi Casbin",keywords:["optimization"],authors:["hsluoyz"]},s=void 0,u={unversionedId:"performance",id:"performance",title:"Performance Optimization",description:"Pengoptimuman prestasi Casbin",source:"@site/i18n/ms/docusaurus-plugin-content-docs/current/Performance.mdx",sourceDirName:".",slug:"/performance",permalink:"/ms/docs/performance",draft:!1,editUrl:"https://github.com/casbin/casbin-website-v2/edit/master/docs/Performance.mdx",tags:[],version:"current",frontMatter:{id:"performance",title:"Performance Optimization",description:"Pengoptimuman prestasi Casbin",keywords:["optimization"],authors:["hsluoyz"]},sidebar:"docs",previous:{title:"Benchmarks",permalink:"/ms/docs/benchmark"},next:{title:"Authorization of Kubernetes",permalink:"/ms/docs/k8s"}},o={},p=[{value:"Traffik Isi Penuh",id:"traffik-isi-penuh",level:4},{value:"Bilangan Tinggi Peraturan Polisi",id:"bilangan-tinggi-peraturan-polisi",level:4}],l={toc:p};function m(a){let{components:e,...n}=a;return(0,i.kt)("wrapper",(0,t.Z)({},l,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Apabila digunakan dalam persekitaran pengeluaran dengan berjuta-juta pengguna atau kebenaran, anda mungkin menghadapi penurunan prestasi dalam penguatkuasaan Casbin. Biasanya terdapat dua punca:"),(0,i.kt)("h4",{id:"traffik-isi-penuh"},"Traffik Isi Penuh"),(0,i.kt)("p",null,"Bilangan permintaan masuk sesaat terlalu besar, contohnya, 10,000 permintaan/s untuk satu contoh Casbin. Dalam keadaan seperti ini, satu contoh Casbin biasanya tidak mencukupi untuk mengendalikan semua permintaan. Terdapat dua penyelesaian yang mungkin:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Gunakan pelbagai benang (multi-threading) untuk membolehkan beberapa contoh Casbin, supaya anda dapat menggunakan sepenuhnya semua teras dalam mesin. Untuk maklumat lanjut, lihat: ",(0,i.kt)("a",{parentName:"p",href:"/docs/multi-threading"},"Multi-threading"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Gunakan contoh Casbin ke dalam kluster (berbilang mesin) dan gunakan Watcher untuk memastikan semua contoh Casbin adalah konsisten. Untuk maklumat lanjut, lihat: ",(0,i.kt)("a",{parentName:"p",href:"/docs/watchers"},"Watchers"),"."))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Anda boleh menggunakan kedua-dua kaedah di atas pada masa yang sama, misalnya, gunakan Casbin ke dalam kluster 10 mesin di mana setiap mesin mempunyai 5 benang secara serentak melayani permintaan penguatkuasaan Casbin.")),(0,i.kt)("h4",{id:"bilangan-tinggi-peraturan-polisi"},"Bilangan Tinggi Peraturan Polisi"),(0,i.kt)("p",null,"Dalam persekitaran awan atau multi-penyewa, berjuta-juta peraturan polisi mungkin diperlukan. Setiap panggilan penguatkuasaan atau bahkan memuatkan peraturan polisi pada masa awal boleh menjadi sangat perlahan. Kes-kes sebegini biasanya boleh dikurangkan dalam beberapa cara:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Semak jika model Casbin atau polisi anda direka dengan baik. Model dan polisi yang ditulis dengan baik mengabstrak logik yang diduplikasi untuk setiap pengguna/penyewa dan mengurangkan bilangan peraturan ke tahap yang sangat kecil (\\< 100). Sebagai contoh, anda boleh berkongsi beberapa peraturan lalai merentasi semua penyewa dan membenarkan pengguna menyesuaikan peraturan mereka kemudian. Peraturan yang disesuaikan boleh mengatasi peraturan lalai. Jika anda mempunyai sebarang pertanyaan lanjut, sila buka isu GitHub di repositori Casbin.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Lakukan sharding untuk membolehkan enforcer Casbin hanya memuatkan sekumpulan kecil peraturan polisi. Sebagai contoh, enforcer","_","0 boleh melayani penyewa","_","0 hingga penyewa","_","99, manakala enforcer","_","1 boleh melayani penyewa","_","100 hingga penyewa","_","199. Untuk memuatkan hanya subset daripada semua peraturan polisi, lihat: ",(0,i.kt)("a",{parentName:"p",href:"/docs/policy-subset-loading"},"Policy Subset Loading"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Berikan kebenaran kepada peranan RBAC bukannya kepada pengguna secara langsung. Casbin's RBAC diimplementasikan oleh pokok warisan peranan (sebagai cache). Oleh itu, diberikan pengguna seperti Alice, Casbin hanya mengambil masa O(1) untuk menanyakan pokok RBAC mengenai hubungan peranan-pengguna dan melaksanakan penguatkuasaan. Jika peraturan g anda tidak berubah sering, maka pokok RBAC tidak perlu dikemas kini secara berterusan. Lihat butiran perbincangan ini di sini: ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casbin/casbin/issues/681#issuecomment-763801583"},"https://github.com/casbin/casbin/issues/681#issuecomment-763801583")))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Anda boleh mencuba semua kaedah di atas pada masa yang sama.")))}m.isMDXComponent=!0}}]);