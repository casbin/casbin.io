<!doctype html>
<html lang="es" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-k8s-gatekeeper" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Admission Webhook for K8s | Casbin</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://casbin.org/es/docs/k8s-gatekeeper"><meta data-rh="true" property="og:locale" content="es"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" property="og:locale:alternate" content="ko"><meta data-rh="true" property="og:locale:alternate" content="ru"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" property="og:locale:alternate" content="pt"><meta data-rh="true" property="og:locale:alternate" content="uk"><meta data-rh="true" property="og:locale:alternate" content="th"><meta data-rh="true" property="og:locale:alternate" content="ar"><meta data-rh="true" property="og:locale:alternate" content="id"><meta data-rh="true" property="og:locale:alternate" content="vi"><meta data-rh="true" property="og:locale:alternate" content="it"><meta data-rh="true" property="og:locale:alternate" content="ms"><meta data-rh="true" property="og:locale:alternate" content="tr"><meta data-rh="true" name="docusaurus_locale" content="es"><meta data-rh="true" name="docsearch:language" content="es"><meta data-rh="true" name="Casbin" content="An authorization library that supports access control models like ACL, RBAC, ABAC, ReBAC, PBAC, OrBAC, BLP, Biba, LBAC, UCON for Golang, Java, C/C++, Node.js, Javascript, PHP, Laravel, Python, .NET (C#), Delphi, Rust, Ruby, Swift (Objective-C), Lua (OpenResty), Dart (Flutter) and Elixir"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Admission Webhook for K8s | Casbin"><meta data-rh="true" name="description" content="Middleware de Autorización RBAC &amp; ABAC de Kubernetes (K8s) basado en Casbin"><meta data-rh="true" property="og:description" content="Middleware de Autorización RBAC &amp; ABAC de Kubernetes (K8s) basado en Casbin"><meta data-rh="true" name="keywords" content="k8s-gatekeeper,Kubernetes,K8s"><link data-rh="true" rel="icon" href="/es/img/favicon.png"><link data-rh="true" rel="canonical" href="https://casbin.org/es/docs/k8s-gatekeeper"><link data-rh="true" rel="alternate" href="https://casbin.org/docs/k8s-gatekeeper" hreflang="en"><link data-rh="true" rel="alternate" href="https://casbin.org/zh/docs/k8s-gatekeeper" hreflang="zh"><link data-rh="true" rel="alternate" href="https://casbin.org/ko/docs/k8s-gatekeeper" hreflang="ko"><link data-rh="true" rel="alternate" href="https://casbin.org/ru/docs/k8s-gatekeeper" hreflang="ru"><link data-rh="true" rel="alternate" href="https://casbin.org/fr/docs/k8s-gatekeeper" hreflang="fr"><link data-rh="true" rel="alternate" href="https://casbin.org/de/docs/k8s-gatekeeper" hreflang="de"><link data-rh="true" rel="alternate" href="https://casbin.org/ja/docs/k8s-gatekeeper" hreflang="ja"><link data-rh="true" rel="alternate" href="https://casbin.org/es/docs/k8s-gatekeeper" hreflang="es"><link data-rh="true" rel="alternate" href="https://casbin.org/pt/docs/k8s-gatekeeper" hreflang="pt"><link data-rh="true" rel="alternate" href="https://casbin.org/uk/docs/k8s-gatekeeper" hreflang="uk"><link data-rh="true" rel="alternate" href="https://casbin.org/th/docs/k8s-gatekeeper" hreflang="th"><link data-rh="true" rel="alternate" href="https://casbin.org/ar/docs/k8s-gatekeeper" hreflang="ar"><link data-rh="true" rel="alternate" href="https://casbin.org/id/docs/k8s-gatekeeper" hreflang="id"><link data-rh="true" rel="alternate" href="https://casbin.org/vi/docs/k8s-gatekeeper" hreflang="vi"><link data-rh="true" rel="alternate" href="https://casbin.org/it/docs/k8s-gatekeeper" hreflang="it"><link data-rh="true" rel="alternate" href="https://casbin.org/ms/docs/k8s-gatekeeper" hreflang="ms"><link data-rh="true" rel="alternate" href="https://casbin.org/tr/docs/k8s-gatekeeper" hreflang="tr"><link data-rh="true" rel="alternate" href="https://casbin.org/docs/k8s-gatekeeper" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://6NBEV8TOFK-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Uso avanzado","item":"https://casbin.org/es/docs/category/advanced-usage"},{"@type":"ListItem","position":2,"name":"Admission Webhook for K8s","item":"https://casbin.org/es/docs/k8s-gatekeeper"}]}</script><link rel="alternate" type="application/rss+xml" href="/es/blog/rss.xml" title="Casbin RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/es/blog/atom.xml" title="Casbin Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8S2TKCJ27X"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-8S2TKCJ27X",{})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Casbin" href="/es/opensearch.xml">
<script src="/js/hotjar.js" async></script>
<script src="/js/probe.js" async></script>
<script src="/js/clarity.js" async></script><link rel="stylesheet" href="/es/assets/css/styles.4d1c4d94.css">
<script src="/es/assets/js/runtime~main.c5ca8a5a.js" defer="defer"></script>
<script src="/es/assets/js/main.2189bc9a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Ir al contenido principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Ir al contenido principal</a></div><nav aria-label="Principal" class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Alternar la barra de navegación" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/es/"><div class="navbar__logo"><img src="/es/img/casbin.svg" alt="Logo de Mi Sitio" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/es/img/casbin.svg" alt="Logo de Mi Sitio" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Casbin</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/es/docs/overview">Documentación</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/es/docs/get-started">Comenzar</a></li><li><a class="dropdown__link" href="/es/docs/category/model">Modelo</a></li><li><a class="dropdown__link" href="/es/docs/category/storage">Almacenamiento</a></li><li><a class="dropdown__link" href="/es/docs/adapters">Adaptadores</a></li><li><a class="dropdown__link" href="/es/docs/category/api">API</a></li><li><a class="dropdown__link" href="/es/docs/ide-plugins">Complementos para IDE</a></li><li><a class="dropdown__link" href="/es/docs/contributing">Comienza a Contribuir</a></li></ul></div><a class="navbar__item navbar__link" href="/es/ecosystem">Ecosistema</a><a class="navbar__item navbar__link" href="/es/blog">Blog</a><a class="navbar__item navbar__link" href="/es/help">Ayuda</a><a class="navbar__item navbar__link" href="/es/editor">Editor</a><a class="navbar__item navbar__link" href="/es/gallery">Gallery</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Español</a><ul class="dropdown__menu"><li><a href="/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">中文</a></li><li><a href="/ko/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">한국어</a></li><li><a href="/ru/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ru">Русский</a></li><li><a href="/fr/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/de/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="/ja/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/es/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="es">Español</a></li><li><a href="/pt/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">Português</a></li><li><a href="/uk/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="uk">Українська</a></li><li><a href="/th/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="th">ไทย</a></li><li><a href="/ar/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ar">العربية</a></li><li><a href="/id/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="id">Indonesia</a></li><li><a href="/vi/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="vi">Tiếng Việt</a></li><li><a href="/it/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="it">Italiano</a></li><li><a href="/ms/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ms">Melayu</a></li><li><a href="/tr/docs/k8s-gatekeeper" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="tr">Türkçe</a></li><li class=""><hr style="margin: 0.3rem 0;"></li><li><a href="https://crowdin.com/project/casbin-website" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help Us Translate<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><a href="https://github.com/casbin/casbin" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://discord.gg/S5UjpzGZjN" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-community-discord"></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Buscar (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Buscar</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Cambiar entre modo oscuro y modo claro (actualmente system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Desplazarse de vuelta al principio" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/es/"><img src="/es/img/casbin.svg" alt="Logo de Mi Sitio" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/es/img/casbin.svg" alt="Logo de Mi Sitio" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>Casbin</b></a><nav aria-label="Barra lateral de los documentos" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/es/docs/category/the-basics"><span title="Los básicos" class="categoryLinkLabel_W154">Los básicos</span></a><button aria-label="Collapse sidebar category &#x27;Los básicos&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/overview"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/get-started"><span title="Get Started" class="linkLabel_WmDU">Get Started</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/how-it-works"><span title="How It Works" class="linkLabel_WmDU">How It Works</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/tutorials"><span title="Tutorials" class="linkLabel_WmDU">Tutorials</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/es/docs/category/model"><span title="Modelo" class="categoryLinkLabel_W154">Modelo</span></a><button aria-label="Collapse sidebar category &#x27;Modelo&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/supported-models"><span title="Supported Models" class="linkLabel_WmDU">Supported Models</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/syntax-for-models"><span title="Syntax for Models" class="linkLabel_WmDU">Syntax for Models</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/effector"><span title="Effector" class="linkLabel_WmDU">Effector</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/function"><span title="Functions" class="linkLabel_WmDU">Functions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/rbac"><span title="RBAC" class="linkLabel_WmDU">RBAC</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/rbac-with-pattern"><span title="RBAC with Pattern" class="linkLabel_WmDU">RBAC with Pattern</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/rbac-with-domains"><span title="RBAC with Domains" class="linkLabel_WmDU">RBAC with Domains</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/rbac-with-conditions"><span title="RBAC with Conditions" class="linkLabel_WmDU">RBAC with Conditions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/rbac-96"><span title="Casbin RBAC vs. RBAC96" class="linkLabel_WmDU">Casbin RBAC vs. RBAC96</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/rebac"><span title="ReBAC" class="linkLabel_WmDU">ReBAC</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/abac"><span title="ABAC" class="linkLabel_WmDU">ABAC</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/pbac"><span title="PBAC" class="linkLabel_WmDU">PBAC</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/blp"><span title="BLP" class="linkLabel_WmDU">BLP</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/biba"><span title="Biba" class="linkLabel_WmDU">Biba</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/lbac"><span title="LBAC" class="linkLabel_WmDU">LBAC</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/orbac"><span title="OrBAC" class="linkLabel_WmDU">OrBAC</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/priority-model"><span title="Priority Model" class="linkLabel_WmDU">Priority Model</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/ucon"><span title="Usage Control (UCON)" class="linkLabel_WmDU">Usage Control (UCON)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/superadmin"><span title="Super Admin" class="linkLabel_WmDU">Super Admin</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/es/docs/category/storage"><span title="Almacenamiento" class="categoryLinkLabel_W154">Almacenamiento</span></a><button aria-label="Collapse sidebar category &#x27;Almacenamiento&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/model-storage"><span title="Model Storage" class="linkLabel_WmDU">Model Storage</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/policy-storage"><span title="Policy Storage" class="linkLabel_WmDU">Policy Storage</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/policy-subset-loading"><span title="Policy Subset Loading" class="linkLabel_WmDU">Policy Subset Loading</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/es/docs/category/scenarios"><span title="Escenarios" class="categoryLinkLabel_W154">Escenarios</span></a><button aria-label="Collapse sidebar category &#x27;Escenarios&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/data-permissions"><span title="Data Permissions" class="linkLabel_WmDU">Data Permissions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/menu-permissions"><span title="Menu Permissions" class="linkLabel_WmDU">Menu Permissions</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/es/docs/category/extensions"><span title="Extensiones" class="categoryLinkLabel_W154">Extensiones</span></a><button aria-label="Collapse sidebar category &#x27;Extensiones&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/enforcers"><span title="Enforcers" class="linkLabel_WmDU">Enforcers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/adapters"><span title="Adapters" class="linkLabel_WmDU">Adapters</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/watchers"><span title="Watchers" class="linkLabel_WmDU">Watchers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/dispatchers"><span title="Dispatchers" class="linkLabel_WmDU">Dispatchers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/role-managers"><span title="Role Managers" class="linkLabel_WmDU">Role Managers</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/es/docs/middlewares"><span title="Middlewares" class="categoryLinkLabel_W154">Middlewares</span></a><button aria-label="Collapse sidebar category &#x27;Middlewares&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/kong-authz"><span title="Kong" class="linkLabel_WmDU">Kong</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/graphql-middlewares"><span title="GraphQL Middlewares" class="linkLabel_WmDU">GraphQL Middlewares</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/cloud-native"><span title="Cloud Native Middlewares" class="linkLabel_WmDU">Cloud Native Middlewares</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/es/docs/category/api"><span title="API" class="categoryLinkLabel_W154">API</span></a><button aria-label="Collapse sidebar category &#x27;API&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/api-overview"><span title="API Overview" class="linkLabel_WmDU">API Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/management-api"><span title="Management API" class="linkLabel_WmDU">Management API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/rbac-api"><span title="RBAC API" class="linkLabel_WmDU">RBAC API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/rbac-with-domains-api"><span title="RBAC with Domains API" class="linkLabel_WmDU">RBAC with Domains API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/rbac-with-conditions-api"><span title="RBAC with Conditions API" class="linkLabel_WmDU">RBAC with Conditions API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/rolemanager-api"><span title="RoleManager API" class="linkLabel_WmDU">RoleManager API</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/es/docs/category/advanced-usage"><span title="Uso avanzado" class="categoryLinkLabel_W154">Uso avanzado</span></a><button aria-label="Collapse sidebar category &#x27;Uso avanzado&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/multi-threading"><span title="Multi-threading" class="linkLabel_WmDU">Multi-threading</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/benchmark"><span title="Benchmarks" class="linkLabel_WmDU">Benchmarks</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/performance"><span title="Performance Optimization" class="linkLabel_WmDU">Performance Optimization</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/k8s"><span title="Authorization of Kubernetes" class="linkLabel_WmDU">Authorization of Kubernetes</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/es/docs/k8s-gatekeeper"><span title="Admission Webhook for K8s" class="linkLabel_WmDU">Admission Webhook for K8s</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/envoy"><span title="Authorization of Service Mesh through Envoy" class="linkLabel_WmDU">Authorization of Service Mesh through Envoy</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/es/docs/category/management"><span title="Gestión" class="categoryLinkLabel_W154">Gestión</span></a><button aria-label="Collapse sidebar category &#x27;Gestión&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/admin-portal"><span title="Admin Portal" class="linkLabel_WmDU">Admin Portal</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/service"><span title="Casbin Service" class="linkLabel_WmDU">Casbin Service</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/command-line-tools"><span title="Command-line Tools" class="linkLabel_WmDU">Command-line Tools</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/log-error"><span title="Log &amp; Error Handling" class="linkLabel_WmDU">Log &amp; Error Handling</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/frontend"><span title="Frontend Usage" class="linkLabel_WmDU">Frontend Usage</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/es/docs/category/editor"><span title="Editor" class="categoryLinkLabel_W154">Editor</span></a><button aria-label="Collapse sidebar category &#x27;Editor&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/online-editor"><span title="Online Editor" class="linkLabel_WmDU">Online Editor</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/ide-plugins"><span title="IDE Plugins" class="linkLabel_WmDU">IDE Plugins</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/es/docs/category/more"><span title="Más" class="categoryLinkLabel_W154">Más</span></a><button aria-label="Collapse sidebar category &#x27;Más&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/adopters"><span title="Our Adopters" class="linkLabel_WmDU">Our Adopters</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/contributing"><span title="Contributing" class="linkLabel_WmDU">Contributing</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/privacy-policy"><span title="Privacy Policy" class="linkLabel_WmDU">Privacy Policy</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/terms-of-service"><span title="Terms of Service" class="linkLabel_WmDU">Terms of Service</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/refund-policy"><span title="Refund Policy" class="linkLabel_WmDU">Refund Policy</span></a></li></ul></li></ul></nav><button type="button" title="Contraer barra lateral" aria-label="Contraer barra lateral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Migas de pan"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Página principal" class="breadcrumbs__link" href="/es/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/es/docs/category/advanced-usage"><span>Uso avanzado</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Admission Webhook for K8s</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">En esta página</button></div><div class="theme-doc-markdown markdown"><header><h1>Admission Webhook for K8s</h1></header><h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="1-visión-general-y-documentos-para-casbin-k8s-gatekeeper">1. Visión general y Documentos para Casbin K8s-Gatekeeper<a href="#1-visión-general-y-documentos-para-casbin-k8s-gatekeeper" class="hash-link" aria-label="Enlace directo a 1. Visión general y Documentos para Casbin K8s-Gatekeeper" title="Enlace directo a 1. Visión general y Documentos para Casbin K8s-Gatekeeper" translate="no">​</a></h2>
<p>Casbin K8s-GateKeeper es un webhook de admisión de Kubernetes que integra Casbin como herramienta de Control de Acceso. Al usar Casbin K8s-GateKeeper, puedes establecer reglas flexibles para autorizar o interceptar cualquier operación en recursos de K8s, SIN escribir ninguna línea de código, sino solo varias líneas de configuraciones declarativas de modelos y políticas de Casbin, que son parte del lenguaje de Lista de Control de Acceso (ACL) de Casbin.</p>
<p>Casbin K8s-GateKeeper es desarrollado y mantenido por la comunidad de Casbin. El repositorio de este proyecto está disponible aquí: <a href="https://github.com/casbin/k8s-gatekeeper" target="_blank" rel="noopener noreferrer" class="">https://github.com/casbin/k8s-gatekeeper</a></p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="01-un-ejemplo-simple">0.1 Un Ejemplo Simple<a href="#01-un-ejemplo-simple" class="hash-link" aria-label="Enlace directo a 0.1 Un Ejemplo Simple" title="Enlace directo a 0.1 Un Ejemplo Simple" translate="no">​</a></h3>
<p>Por ejemplo, no necesitas escribir ningún código, sino usar las siguientes líneas de configuración para lograr esta función: &quot;Prohibir que se usen imágenes con ciertas etiquetas especificadas en cualquier despliegue&quot;:</p>
<p>Model:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">request_definition</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">r</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain">  </span><span class="token value attr-value" style="color:#e3116c">obj</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">policy_definition</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">p</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain">  </span><span class="token value attr-value" style="color:#e3116c">obj,eft</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">policy_effect</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">e</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">!some(where (p.eft == deny))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">matchers</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">m</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">r.obj.Request.Namespace == &quot;default&quot; &amp;&amp; r.obj.Request.Resource.Resource ==&quot;deployments&quot; &amp;&amp; \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">contain(split(accessWithWildcard(${OBJECT}.Spec.Template.Spec.Containers , &quot;*&quot;, &quot;Image&quot;),&quot;:&quot;,1) , p.obj)</span><br></span></code></pre></div></div>
<p>And Policy:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> </span><span class="token value">&quot;1.14.1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value">deny</span><br></span></code></pre></div></div>
<p>Estas están en el lenguaje ordinario de ACL de Casbin. Suponiendo que ya has leído capítulos sobre ellos, será muy fácil de entender.</p>
<p>Casbin K8s-Gatekeeper tiene las siguientes ventajas:</p>
<ul>
<li class="">Fácil de usar. Escribir varias líneas de ACL es mucho mejor que escribir montones de código.</li>
<li class="">Permite actualizaciones en caliente de configuraciones. No necesitas apagar todo el plugin para modificar configuraciones.</li>
<li class="">Es flexible. Se pueden hacer reglas arbitrarias en cualquier recurso de K8s, que se pueden explorar con <code>kubectl gatekeeper</code>.</li>
<li class="">Simplifica la implementación del webhook de admisión de K8s, que es muy complicado. No necesitas saber qué es un webhook de admisión de K8s o cómo escribir código para él. Todo lo que necesitas hacer es conocer el recurso en el que quieres poner restricciones y luego escribir ACL de Casbin. Todos saben que K8s es complejo, pero al usar Casbin K8s-Gatekeeper, tu tiempo puede ser ahorrado.</li>
<li class="">Es mantenido por la comunidad de Casbin. No dudes en contactarnos si algo sobre este plugin te confunde o si encuentras algún problema al intentar esto.</li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="11-cómo-funciona-casbin-k8s-gatekeeper">1.1 ¿Cómo Funciona Casbin K8s-Gatekeeper?<a href="#11-cómo-funciona-casbin-k8s-gatekeeper" class="hash-link" aria-label="Enlace directo a 1.1 ¿Cómo Funciona Casbin K8s-Gatekeeper?" title="Enlace directo a 1.1 ¿Cómo Funciona Casbin K8s-Gatekeeper?" translate="no">​</a></h3>
<p>K8s-Gatekeeper es un webhook de admisión para K8s que usa <a class="" href="/es/docs/overview">Casbin</a> para aplicar reglas de control de acceso definidas por el usuario de manera arbitraria para ayudar a prevenir cualquier operación en K8s que el administrador no desee.</p>
<p>Casbin es una biblioteca de control de acceso de código abierto poderosa y eficiente. Proporciona soporte para hacer cumplir la autorización basada en varios modelos de control de acceso. Para más detalles sobre Casbin, ver <a class="" href="/es/docs/overview">Visión general</a>.</p>
<p>Los webhooks de admisión en K8s son callbacks HTTP que reciben &#x27;solicitudes de admisión&#x27; y hacen algo con ellas. En particular, K8s-Gatekeeper es un tipo especial de webhook de admisión: &#x27;ValidatingAdmissionWebhook&#x27;, que puede decidir si aceptar o rechazar esta solicitud de admisión o no. En cuanto a las solicitudes de admisión, son peticiones HTTP que describen una operación en recursos especificados de K8s (por ejemplo, crear/eliminar un despliegue). Para más sobre webhooks de admisión, ver <a href="https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#what-are-admission-webhooks" target="_blank" rel="noopener noreferrer" class="">documentación oficial de K8s</a>.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="12-un-ejemplo-ilustrativo-de-cómo-funciona">1.2 Un Ejemplo Ilustrativo de Cómo Funciona<a href="#12-un-ejemplo-ilustrativo-de-cómo-funciona" class="hash-link" aria-label="Enlace directo a 1.2 Un Ejemplo Ilustrativo de Cómo Funciona" title="Enlace directo a 1.2 Un Ejemplo Ilustrativo de Cómo Funciona" translate="no">​</a></h3>
<p>Por ejemplo, cuando alguien quiere crear un despliegue que contenga un pod ejecutando nginx (usando kubectl o clientes de K8s), K8s generará una solicitud de admisión, que (si se traduce al formato YAML) puede ser algo así:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">1.14.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><br></span></code></pre></div></div>
<p>Esta solicitud pasará por el proceso de todos los middleware mostrados en la imagen, incluyendo nuestro K8s-Gatekeeper. K8s-Gatekeeper puede detectar todos los ejecutores de Casbin almacenados en el etcd de K8s, que es creado y mantenido por el usuario (a través de <code>kubectl</code> o el cliente de Go que proporcionamos). Cada ejecutor contiene un modelo de Casbin y una política de Casbin. La solicitud de admisión será procesada por cada ejecutor, uno por uno, y solo al pasar todos los ejecutores puede una solicitud ser aceptada por este K8s-Gatekeeper.</p>
<p>(Si no entiendes qué es un ejecutor, modelo o política de Casbin, ver este documento: <a class="" href="/es/docs/get-started">Comenzar</a>).</p>
<p>Por ejemplo, por alguna razón, el administrador quiere prohibir la aparición de la imagen &#x27;nginx:1.14.1&#x27; mientras permite &#x27;nginx:1.3.1&#x27;. Se puede crear un ejecutor que contenga la siguiente regla y política (Explicaremos cómo crear un ejecutor, qué son estos modelos y políticas, y cómo escribirlos en los siguientes capítulos).</p>
<p>Model:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">request_definition</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">r</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain">  </span><span class="token value attr-value" style="color:#e3116c">obj</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">policy_definition</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">p</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain">  </span><span class="token value attr-value" style="color:#e3116c">obj,eft</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">policy_effect</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">e</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">!some(where (p.eft == deny))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">matchers</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">m</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">r.obj.Request.Namespace == &quot;default&quot; &amp;&amp; r.obj.Request.Resource.Resource ==&quot;deployments&quot; &amp;&amp; \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, &quot;Image&quot;)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token value attr-value" style="color:#e3116c">= p.obj</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>Policy:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> </span><span class="token value">&quot;nginx:1.13.1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value">allow</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> </span><span class="token value">&quot;nginx:1.14.1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value">deny</span><br></span></code></pre></div></div>
<p>Al crear un ejecutor que contenga el modelo y la política anteriores, la solicitud de admisión previa será rechazada por este ejecutor, lo que significa que K8s no creará este despliegue.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="2-instalar-k8s-gatekeeper">2 Instalar K8s-gatekeeper<a href="#2-instalar-k8s-gatekeeper" class="hash-link" aria-label="Enlace directo a 2 Instalar K8s-gatekeeper" title="Enlace directo a 2 Instalar K8s-gatekeeper" translate="no">​</a></h2>
<p>Hay tres métodos disponibles para instalar K8s-gatekeeper: webhook externo, webhook interno y Helm.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>nota</div><div class="admonitionContent_BuS1"><p>Nota: Estos métodos solo están destinados para que los usuarios prueben K8s-gatekeeper y no son seguros. Si deseas usarlo en un entorno productivo, asegúrate de leer <a href="#5-advanced-settings" class="">Capítulo 5. Configuraciones avanzadas</a> y hacer las modificaciones necesarias antes de la instalación. 2.1 Webhook interno</p></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="211-paso-1-construir-la-imagen">2.1.1 Paso 1: Construir la imagen<a href="#211-paso-1-construir-la-imagen" class="hash-link" aria-label="Enlace directo a 2.1.1 Paso 1: Construir la imagen" title="Enlace directo a 2.1.1 Paso 1: Construir la imagen" translate="no">​</a></h3>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="211-paso-1-construir-la-imagen-1">2.1.1 Paso 1: Construir la imagen<a href="#211-paso-1-construir-la-imagen-1" class="hash-link" aria-label="Enlace directo a 2.1.1 Paso 1: Construir la imagen" title="Enlace directo a 2.1.1 Paso 1: Construir la imagen" translate="no">​</a></h4>
<p>Para el método de webhook interno, el propio webhook se implementará como un servicio dentro de Kubernetes. Para crear el servicio y despliegue necesarios, necesitas construir una imagen de K8s-gatekeeper. Puedes construir tu propia imagen ejecutando el siguiente comando:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker build --target webhook -t k8s-gatekeeper .</span><br></span></code></pre></div></div>
<p>Este comando creará una imagen local llamada &#x27;k8s-gatekeeper<!-- -->:latest<!-- -->&#x27;.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>nota</div><div class="admonitionContent_BuS1"><p>Nota: Si estás utilizando minikube, por favor ejecuta <code>eval $(minikube -p minikube docker-env)</code> antes de correr &#x27;docker build&#x27;.</p></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="212-paso-2-configurar-servicios-y-despliegues-para-k8s-gatekeeper">2.1.2 Paso 2: Configurar servicios y despliegues para K8s-gatekeeper<a href="#212-paso-2-configurar-servicios-y-despliegues-para-k8s-gatekeeper" class="hash-link" aria-label="Enlace directo a 2.1.2 Paso 2: Configurar servicios y despliegues para K8s-gatekeeper" title="Enlace directo a 2.1.2 Paso 2: Configurar servicios y despliegues para K8s-gatekeeper" translate="no">​</a></h4>
<p>Ejecuta los siguientes comandos:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/rbac.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/webhook_deployment.yaml </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/webhook_internal.yaml </span><br></span></code></pre></div></div>
<p>Esto comenzará a ejecutar K8s-gatekeeper, y puedes confirmarlo ejecutando <code>kubectl get pods</code>.</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="213-paso-3-instalar-recursos-crd-para-k8s-gatekeeper">2.1.3 Paso 3: Instalar Recursos CRD para K8s-gatekeeper<a href="#213-paso-3-instalar-recursos-crd-para-k8s-gatekeeper" class="hash-link" aria-label="Enlace directo a 2.1.3 Paso 3: Instalar Recursos CRD para K8s-gatekeeper" title="Enlace directo a 2.1.3 Paso 3: Instalar Recursos CRD para K8s-gatekeeper" translate="no">​</a></h4>
<p>Ejecuta los siguientes comandos:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/auth.casbin.org_casbinmodels.yaml </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/auth.casbin.org_casbinpolicies.yaml</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="22-webhook-externo">2.2 Webhook externo<a href="#22-webhook-externo" class="hash-link" aria-label="Enlace directo a 2.2 Webhook externo" title="Enlace directo a 2.2 Webhook externo" translate="no">​</a></h3>
<p>Para el método de webhook externo, K8s-gatekeeper se ejecutará fuera de Kubernetes, y Kubernetes accederá a K8s-gatekeeper como si accediera a un sitio web regular. Kubernetes tiene un requisito obligatorio de que el webhook de admisión debe ser HTTPS. Con el propósito de probar K8s-gatekeeper, hemos proporcionado un conjunto de certificados y una clave privada (aunque esto no es seguro). Si prefieres usar tu propio certificado, por favor consulta el <a href="#5-advanced-settings" class="">Capítulo 5. Configuración avanzada</a> para instrucciones sobre cómo ajustar el certificado y la clave privada. El certificado que proporcionamos está emitido para &#x27;webhook.domain.local&#x27;.</p>
<p>Entonces, modifica el host (por ejemplo, /etc/hosts) y apunta &#x27;webhook.domain.local&#x27; a la dirección IP en la que K8s-gatekeeper está ejecutándose. Luego ejecuta el siguiente comando:</p>
<p>2.3 Instalar K8s-gatekeeper a través de Helm</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">go mod tidy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">go mod vendor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">go run cmd/webhook/main.go</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/auth.casbin.org_casbinmodels.yaml </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/auth.casbin.org_casbinpolicies.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f config/webhook_external.yaml </span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="231-paso-1-construir-la-imagen">2.3.1 Paso 1: Construir la imagen<a href="#231-paso-1-construir-la-imagen" class="hash-link" aria-label="Enlace directo a 2.3.1 Paso 1: Construir la imagen" title="Enlace directo a 2.3.1 Paso 1: Construir la imagen" translate="no">​</a></h3>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="por-favor-consulta-el-capítulo-211">Por favor consulta el <a href="#211-step-1-build-the-image" class="">Capítulo 2.1.1</a>.<a href="#por-favor-consulta-el-capítulo-211" class="hash-link" aria-label="Enlace directo a por-favor-consulta-el-capítulo-211" title="Enlace directo a por-favor-consulta-el-capítulo-211" translate="no">​</a></h4>
<p>2.3.2 Instalación de Helm</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="ejecuta-el-comando-helm-install-k8sgatekeeper-k8sgatekeeper">Ejecuta el comando <code>helm install k8sgatekeeper ./k8sgatekeeper</code>.<a href="#ejecuta-el-comando-helm-install-k8sgatekeeper-k8sgatekeeper" class="hash-link" aria-label="Enlace directo a ejecuta-el-comando-helm-install-k8sgatekeeper-k8sgatekeeper" title="Enlace directo a ejecuta-el-comando-helm-install-k8sgatekeeper-k8sgatekeeper" translate="no">​</a></h4>
<ol start="3">
<li class=""></li>
</ol>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="prueba-k8s-gatekeeper-31-crear-modelo-y-política-de-casbin">Prueba K8s-gatekeeper 3.1 Crear Modelo y Política de Casbin<a href="#prueba-k8s-gatekeeper-31-crear-modelo-y-política-de-casbin" class="hash-link" aria-label="Enlace directo a Prueba K8s-gatekeeper 3.1 Crear Modelo y Política de Casbin" title="Enlace directo a Prueba K8s-gatekeeper 3.1 Crear Modelo y Política de Casbin" translate="no">​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="tienes-dos-métodos-para-crear-un-modelo-y-política-a-través-de-kubectl-o-a-través-del-cliente-go-que-proporcionamos">Tienes dos métodos para crear un modelo y política: a través de kubectl o a través del cliente go que proporcionamos.<a href="#tienes-dos-métodos-para-crear-un-modelo-y-política-a-través-de-kubectl-o-a-través-del-cliente-go-que-proporcionamos" class="hash-link" aria-label="Enlace directo a Tienes dos métodos para crear un modelo y política: a través de kubectl o a través del cliente go que proporcionamos." title="Enlace directo a Tienes dos métodos para crear un modelo y política: a través de kubectl o a través del cliente go que proporcionamos." translate="no">​</a></h3>
<p>3.1.1 Crear/Actualizar Modelo y Política de Casbin a través de kubectl</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="en-k8s-gatekeeper-el-modelo-de-casbin-se-almacena-en-un-recurso-crd-llamado-casbinmodel">En K8s-gatekeeper, el modelo de Casbin se almacena en un recurso CRD llamado &#x27;CasbinModel&#x27;.<a href="#en-k8s-gatekeeper-el-modelo-de-casbin-se-almacena-en-un-recurso-crd-llamado-casbinmodel" class="hash-link" aria-label="Enlace directo a En K8s-gatekeeper, el modelo de Casbin se almacena en un recurso CRD llamado &#x27;CasbinModel&#x27;." title="Enlace directo a En K8s-gatekeeper, el modelo de Casbin se almacena en un recurso CRD llamado &#x27;CasbinModel&#x27;." translate="no">​</a></h4>
<p>Su definición se encuentra en <code>config/auth.casbin.org_casbinmodels.yaml</code>. Hay ejemplos en <code>example/allowed_repo/model.yaml</code>.</p>
<p>Presta atención a los siguientes campos: metadata.name: el nombre del modelo.</p>
<ul>
<li class="">Este nombre DEBE ser el mismo que el nombre del objeto CasbinPolicy relacionado con este modelo, para que K8s-gatekeeper pueda emparejarlos y crear un ejecutor. spec.enable: si este campo se establece en &#x27;false&#x27;, este modelo (así como el objeto CasbinPolicy relacionado con este modelo) será ignorado.</li>
<li class="">spec.modelText: una cadena que contiene el texto del modelo de un modelo Casbin.</li>
<li class="">La Política de Casbin se almacena en otro recurso CRD llamado &#x27;CasbinPolicy&#x27;, cuya definición se puede encontrar en <code>config/auth.casbin.org_casbinpolicies.yaml</code>.</li>
</ul>
<p>Hay ejemplos en <code>example/allowed_repo/policy.yaml</code>.</p>
<p>Presta atención a los siguientes campos: metadata.name: el nombre de la política.</p>
<ul>
<li class="">Este nombre DEBE ser el mismo que el nombre del objeto CasbinModel relacionado con esta política, para que K8s-gatekeeper pueda emparejarlos y crear un ejecutor. spec.policyItem: una cadena que contiene el texto de la política de un modelo Casbin.</li>
<li class="">Después de crear tus propios archivos CasbinModel y CasbinPolicy, usa el siguiente comando para aplicarlos:</li>
</ul>
<p>Una vez que se crea un par de CasbinModel y CasbinPolicy, K8s-gatekeeper podrá detectarlo en 5 segundos.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f &lt;filename&gt;</span><br></span></code></pre></div></div>
<p>3.1.2 Crear/Actualizar Modelo y Política de Casbin a través del cliente go que proporcionamos</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="entendemos-que-puede-haber-situaciones-en-las-que-no-sea-conveniente-usar-la-shell-para-ejecutar-comandos-directamente-en-un-nodo-del-clúster-de-k8s-como-cuando-estás-construyendo-una-plataforma-en-la-nube-automática-para-tu-corporación">Entendemos que puede haber situaciones en las que no sea conveniente usar la shell para ejecutar comandos directamente en un nodo del clúster de K8s, como cuando estás construyendo una plataforma en la nube automática para tu corporación.<a href="#entendemos-que-puede-haber-situaciones-en-las-que-no-sea-conveniente-usar-la-shell-para-ejecutar-comandos-directamente-en-un-nodo-del-clúster-de-k8s-como-cuando-estás-construyendo-una-plataforma-en-la-nube-automática-para-tu-corporación" class="hash-link" aria-label="Enlace directo a Entendemos que puede haber situaciones en las que no sea conveniente usar la shell para ejecutar comandos directamente en un nodo del clúster de K8s, como cuando estás construyendo una plataforma en la nube automática para tu corporación." title="Enlace directo a Entendemos que puede haber situaciones en las que no sea conveniente usar la shell para ejecutar comandos directamente en un nodo del clúster de K8s, como cuando estás construyendo una plataforma en la nube automática para tu corporación." translate="no">​</a></h4>
<p>Por lo tanto, hemos desarrollado un cliente go para crear y mantener CasbinModel y CasbinPolicy. La biblioteca del cliente go se encuentra en <code>pkg/client</code>.</p>
<p>En <code>client.go</code>, proporcionamos una función para crear un cliente.</p>
<p>En <code>client.go</code>, proporcionamos una función para crear un cliente.</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">NewK8sGateKeeperClient</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">externalClient </span><span class="token builtin">bool</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">K8sGateKeeperClient</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span></code></pre></div></div>
<p>El parámetro <code>externalClient</code> determina si K8s-gatekeeper está ejecutándose dentro del clúster de K8s o no.</p>
<p>En <code>model.go</code>, proporcionamos varias funciones para crear, eliminar y modificar CasbinModel. Puedes descubrir cómo usar estas interfaces en <code>model_test.go</code>.</p>
<p>En <code>policy.go</code>, proporcionamos varias funciones para crear, eliminar y modificar CasbiPolicy. Puedes descubrir cómo usar estas interfaces en <code>policy_test.go</code>.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="312-prueba-si-k8s-gatekeeper-funciona">3.1.2 Prueba si K8s-gatekeeper funciona<a href="#312-prueba-si-k8s-gatekeeper-funciona" class="hash-link" aria-label="Enlace directo a 3.1.2 Prueba si K8s-gatekeeper funciona" title="Enlace directo a 3.1.2 Prueba si K8s-gatekeeper funciona" translate="no">​</a></h3>
<p>Supón que ya has creado el modelo y la política exactos en <code>example/allowed_repo</code>. Ahora, prueba el siguiente comando:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f example/allowed_repo/testcase/reject_1.yaml</span><br></span></code></pre></div></div>
<p>Deberías encontrar que K8s rechazará esta solicitud y mencionará que el webhook fue la razón por la cual esta solicitud es rechazada. Sin embargo, cuando intentes aplicar <code>example/allowed_repo/testcase/approve_2.yaml</code>, será aceptado.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="4-cómo-escribir-modelo-y-política-con-k8s-gatekeeper">4. Cómo Escribir Modelo y Política con K8s-gatekeeper<a href="#4-cómo-escribir-modelo-y-política-con-k8s-gatekeeper" class="hash-link" aria-label="Enlace directo a 4. Cómo Escribir Modelo y Política con K8s-gatekeeper" title="Enlace directo a 4. Cómo Escribir Modelo y Política con K8s-gatekeeper" translate="no">​</a></h2>
<p>Primero que nada, asegúrate de estar familiarizado con la gramática básica de los Modelos y Políticas de Casbin. Si no lo estás, por favor lee la sección <a class="" href="/es/docs/get-started">Get Started</a> primero. En este capítulo, asumimos que ya entiendes qué son los Modelos y Políticas de Casbin.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="41-definición-de-solicitud-de-modelo">4.1 Definición de Solicitud de Modelo<a href="#41-definición-de-solicitud-de-modelo" class="hash-link" aria-label="Enlace directo a 4.1 Definición de Solicitud de Modelo" title="Enlace directo a 4.1 Definición de Solicitud de Modelo" translate="no">​</a></h3>
<p>Cuando K8s-gatekeeper está autorizando una solicitud, la entrada siempre es un objeto: el objeto Go de la Solicitud de Admisión. Esto significa que el enforcer siempre se usará de esta manera:</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ok</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> enforcer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Enforce</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">admission</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>donde <code>admission</code> es un objeto <code>AdmissionReview</code> definido por la api oficial de go de K8s <code>&quot;k8s.io/api/admission/v1&quot;</code>. Puedes encontrar la definición de esta estructura en este repositorio: <a href="https://github.com/kubernetes/api/blob/master/admission/v1/types.go" target="_blank" rel="noopener noreferrer" class="">https://github.com/kubernetes/api/blob/master/admission/v1/types.go</a>. Para más información, también puedes referirte a <a href="https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#webhook-request-and-response" target="_blank" rel="noopener noreferrer" class="">https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#webhook-request-and-response</a>.</p>
<p>Por lo tanto, para cualquier modelo utilizado por K8s-gatekeeper, la definición de <code>request_definition</code> siempre debe ser así:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">request_definition</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key attr-name" style="color:#00a4db">r</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain">  </span><span class="token value attr-value" style="color:#e3116c">obj</span><br></span></code></pre></div></div>
<p>El nombre &#x27;obj&#x27; no es obligatorio, siempre y cuando el nombre sea consistente con el nombre utilizado en la parte <code>[matchers]</code>.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="42-coincidencias-de-modelo">4.2 Coincidencias de Modelo<a href="#42-coincidencias-de-modelo" class="hash-link" aria-label="Enlace directo a 4.2 Coincidencias de Modelo" title="Enlace directo a 4.2 Coincidencias de Modelo" translate="no">​</a></h3>
<p>Se supone que debes usar la característica ABAC de Casbin para escribir tus reglas. Sin embargo, el evaluador de expresiones integrado en Casbin no admite indexación en mapas o arreglos (slices), ni la expansión de arreglos. Por lo tanto, K8s-gatekeeper proporciona varias &#x27;funciones de Casbin&#x27; como extensiones para implementar estas características. Si aún encuentras que tu demanda no puede ser satisfecha por estas extensiones, no dudes en iniciar un issue, o crear un pull request.</p>
<p>Si no estás familiarizado con las funciones de Casbin, puedes referirte a <a class="" href="/es/docs/function">Function</a> para más información.</p>
<p>Aquí están las funciones de extensión:</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="421-funciones-de-extensión">4.2.1 Funciones de extensión<a href="#421-funciones-de-extensión" class="hash-link" aria-label="Enlace directo a 4.2.1 Funciones de extensión" title="Enlace directo a 4.2.1 Funciones de extensión" translate="no">​</a></h3>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="4211-access">4.2.1.1 access<a href="#4211-access" class="hash-link" aria-label="Enlace directo a 4.2.1.1 access" title="Enlace directo a 4.2.1.1 access" translate="no">​</a></h4>
<p>Access se utiliza para resolver el problema de que Casbin no admite indexación en mapas o arreglos. El ejemplo <code>example/allowed_repo/model.yaml</code> demuestra el uso de esta función:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">matchers</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">m</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">r.obj.Request.Namespace == &quot;default&quot; &amp;&amp; r.obj.Request.Resource.Resource ==&quot;deployments&quot; &amp;&amp; \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, &quot;Image&quot;)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token value attr-value" style="color:#e3116c">= p.obj</span><br></span></code></pre></div></div>
<p>En este coincidente, <code>access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, &quot;Image&quot;)</code> es equivalente a <code>r.obj.Request.Object.Object.Spec.Template.Spec.Containers[0].Image</code>, donde <code>r.obj.Request.Object.Object.Spec.Template.Spec.Containers</code> es un slice.</p>
<p>Access también puede llamar a funciones simples que no tienen parámetros y devuelven un solo valor. El ejemplo <code>example/container_resource_limit/model.yaml</code> demuestra esto:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">matchers</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key attr-name" style="color:#00a4db">m</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">r.obj.Request.Namespace == &quot;default&quot; &amp;&amp; r.obj.Request.Resource.Resource ==&quot;deployments&quot; &amp;&amp; \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key attr-name" style="color:#00a4db">parseFloat(access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, &quot;Resources&quot;,&quot;Limits&quot;,&quot;cpu&quot;,&quot;Value&quot;)) &gt;</span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">parseFloat(p.cpu) &amp;&amp; \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key attr-name" style="color:#00a4db">parseFloat(access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, &quot;Resources&quot;,&quot;Limits&quot;,&quot;memory&quot;,&quot;Value&quot;)) &gt;</span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">parseFloat(p.memory)</span><br></span></code></pre></div></div>
<p>En este coincidente, <code>access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, &quot;Resources&quot;,&quot;Limits&quot;,&quot;cpu&quot;,&quot;Value&quot;)</code> es equivalente a <code>r.obj.Request.Object.Object.Spec.Template.Spec.Containers[0].Resources.Limits[&quot;cpu&quot;].Value()</code>, donde <code>r.obj.Request.Object.Object.Spec.Template.Spec.Containers[0].Resources.Limits</code> es un mapa, y <code>Value()</code> es una función simple que no tiene parámetros y devuelve un solo valor.</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="4212-accesswithwildcard">4.2.1.2 accessWithWildcard<a href="#4212-accesswithwildcard" class="hash-link" aria-label="Enlace directo a 4.2.1.2 accessWithWildcard" title="Enlace directo a 4.2.1.2 accessWithWildcard" translate="no">​</a></h4>
<p>A veces, puedes tener una demanda como esta: todos los elementos en un arreglo deben tener un prefijo &quot;aaa&quot;. Sin embargo, Casbin no admite bucles <code>for</code>. Con <code>accessWithWildcard</code> y la característica de &quot;expansión de map/slice&quot;, puedes implementar fácilmente tal demanda.</p>
<p>Por ejemplo, supongamos que <code>a.b.c</code> es un arreglo <code>[aaa,bbb,ccc,ddd,eee]</code>, entonces el resultado de <code>accessWithWildcard(a,&quot;b&quot;,&quot;c&quot;,&quot;*&quot;)</code> será un slice <code>[aaa,bbb,ccc,ddd,eee]</code>. Al usar el comodín <code>*</code>, el slice se expande.</p>
<p>De manera similar, el comodín puede usarse más de una vez. Por ejemplo, el resultado de <code>accessWithWildcard(a,&quot;b&quot;,&quot;c&quot;,&quot;*&quot;,&quot;*&quot;)</code> será <code>[a.b.c[0][0], a.b.c[0][1], ..., a.b.c[1][0], a.b.c[1][1], ...]</code>.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="4213-funciones-que-admiten-argumentos-de-longitud-variable">4.2.1.3 Funciones que admiten argumentos de longitud variable<a href="#4213-funciones-que-admiten-argumentos-de-longitud-variable" class="hash-link" aria-label="Enlace directo a 4.2.1.3 Funciones que admiten argumentos de longitud variable" title="Enlace directo a 4.2.1.3 Funciones que admiten argumentos de longitud variable" translate="no">​</a></h3>
<p>En el evaluador de expresiones de Casbin, cuando un parámetro es un arreglo, se expandirá automáticamente como un argumento de longitud variable. Utilizando esta característica para admitir la expansión de arreglo/slice/mapa, también hemos integrado varias funciones que aceptan un arreglo/slice como parámetro:</p>
<ul>
<li class="">contain(): acepta múltiples parámetros y devuelve si algún parámetro (excepto el último parámetro) es igual al último parámetro.</li>
<li class="">split(a,b,c...,sep,index): devuelve un segmento que contiene <code>[splits(a,sep)[index], splits(b,sep)[index], splits(a,sep)[index], ...]</code>.</li>
<li class="">len(): devuelve la longitud del argumento de longitud variable.</li>
<li class="">matchRegex(a,b,c...,regex): devuelve si todos los parámetros dados (<code>a</code>, <code>b</code>, <code>c</code>, ...) coinciden con la expresión regular dada.</li>
</ul>
<p>Aquí hay un ejemplo en <code>example/disallowed_tag/model.yaml</code>:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">matchers</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key attr-name" style="color:#00a4db">m</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">r.obj.Request.Namespace == &quot;default&quot; &amp;&amp; r.obj.Request.Resource.Resource ==&quot;deployments&quot; &amp;&amp; \</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    contain(split(accessWithWildcard(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , &quot;*&quot;, &quot;Image&quot;),&quot;:&quot;,1) , p.obj)</span><br></span></code></pre></div></div>
<p>Suponiendo que <code>accessWithWildcard(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , &quot;*&quot;, &quot;Image&quot;)</code> devuelve <code>[&#x27;a:b&#x27;, &#x27;c:d&#x27;, &#x27;e:f&#x27;, &#x27;g:h&#x27;]</code>, porque splits soporta argumentos de longitud variable y realiza la operación de división en cada elemento, se seleccionará y devolverá el elemento en el índice 1. Por lo tanto, <code>split(accessWithWildcard(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , &quot;*&quot;, &quot;Image&quot;),&quot;:&quot;,1)</code> devuelve <code>[&#x27;b&#x27;,&#x27;d&#x27;,&#x27;f&#x27;,&#x27;h&#x27;]</code>. Y <code>contain(split(accessWithWildcard(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , &quot;*&quot;, &quot;Image&quot;),&quot;:&quot;,1) , p.obj)</code> devuelve si <code>p.obj</code> está contenido en <code>[&#x27;b&#x27;,&#x27;d&#x27;,&#x27;f&#x27;,&#x27;h&#x27;]</code>.</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="4212-funciones-de-conversión-de-tipos">4.2.1.2 Funciones de Conversión de Tipos<a href="#4212-funciones-de-conversión-de-tipos" class="hash-link" aria-label="Enlace directo a 4.2.1.2 Funciones de Conversión de Tipos" title="Enlace directo a 4.2.1.2 Funciones de Conversión de Tipos" translate="no">​</a></h4>
<ul>
<li class="">ParseFloat(): Convierte un entero a un flotante (esto es necesario porque cualquier número utilizado en comparación debe ser convertido en un flotante).</li>
<li class="">ToString(): Convierte un objeto a una cadena de texto. Este objeto debe tener un tipo básico de cadena (por ejemplo, un objeto de tipo <code>XXX</code> cuando hay una declaración <code>type XXX string</code>).</li>
<li class="">IsNil(): Devuelve si el parámetro es nulo.</li>
</ul>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="5-configuración-avanzada">5. Configuración Avanzada<a href="#5-configuración-avanzada" class="hash-link" aria-label="Enlace directo a 5. Configuración Avanzada" title="Enlace directo a 5. Configuración Avanzada" translate="no">​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="51-acerca-de-los-certificados">5.1 Acerca de los Certificados<a href="#51-acerca-de-los-certificados" class="hash-link" aria-label="Enlace directo a 5.1 Acerca de los Certificados" title="Enlace directo a 5.1 Acerca de los Certificados" translate="no">​</a></h3>
<p>En Kubernetes (k8s), es obligatorio que un webhook utilice HTTPS. Hay dos enfoques para lograr esto:</p>
<ul>
<li class="">Usar certificados autofirmados (los ejemplos en este repositorio utilizan este método)</li>
<li class="">Usar un certificado normal</li>
</ul>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="511-certificados-autofirmados">5.1.1 Certificados autofirmados<a href="#511-certificados-autofirmados" class="hash-link" aria-label="Enlace directo a 5.1.1 Certificados autofirmados" title="Enlace directo a 5.1.1 Certificados autofirmados" translate="no">​</a></h4>
<p>Usar un certificado autofirmado significa que la Autoridad de Certificación (CA) que emite el certificado no es una de las CA bien conocidas. Por lo tanto, debes informar a k8s sobre esta CA.</p>
<p>Actualmente, el ejemplo en este repositorio utiliza una CA hecha por sí misma, cuya clave privada y certificado se almacenan en <code>config/certificate/ca.crt</code> y <code>config/certificate/ca.key</code> respectivamente. El certificado para el webhook es <code>config/certificate/server.crt</code>, que es emitido por la CA hecha por sí misma. Los dominios de este certificado son &quot;webhook.domain.local&quot; (para webhook externo) y &quot;casbin-webhook-svc.default.svc&quot; (para webhook interno).</p>
<p>La información sobre la CA se pasa a k8s a través de archivos de configuración de webhook. Ambos <code>config/webhook_external.yaml</code> y <code>config/webhook_internal.yaml</code> tienen un campo llamado &quot;CABundle&quot;, que contiene una cadena codificada en base64 del certificado de la CA.</p>
<p>En caso de que necesites cambiar el certificado/dominio (por ejemplo, si quieres poner este webhook en otro espacio de nombres de k8s mientras usas un webhook interno, o si quieres cambiar el dominio mientras usas un webhook externo), se deben seguir los siguientes procedimientos:</p>
<ol>
<li class="">
<p>Generar una nueva CA:</p>
<ul>
<li class="">
<p>Generar la clave privada para la CA falsa:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openssl genrsa -des3 -out ca.key 2048</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Eliminar la protección por contraseña de la clave privada:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openssl rsa -in ca.key -out ca.key</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
<li class="">
<p>Generar una clave privada para el servidor webhook:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openssl genrsa -des3 -out server.key 2048</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openssl rsa -in server.key -out server.key</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Usar la CA autogenerada para firmar el certificado para el webhook:</p>
<ul>
<li class="">
<p>Copiar el archivo de configuración de openssl de tu sistema para uso temporal. Puedes encontrar la ubicación del archivo de configuración ejecutando <code>openssl version -a</code>, generalmente llamado <code>openssl.cnf</code>.</p>
</li>
<li class="">
<p>En el archivo de configuración:</p>
<ul>
<li class="">
<p>Encuentra el párrafo <code>[req]</code> y añade la siguiente línea: <code>req_extensions = v3_req</code></p>
</li>
<li class="">
<p>Encuentra el párrafo <code>[v3_req]</code> y añade la siguiente línea: <code>subjectAltName = @alt_names</code></p>
</li>
<li class="">
<p>Añade las siguientes líneas al archivo:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">alt_names</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">DNS.2</span><span class="token punctuation" style="color:#393A34">=</span><span class="token value attr-value" style="color:#e3116c">&lt;The domain you want&gt;</span><br></span></code></pre></div></div>
<p>Nota: Reemplaza &#x27;casbin-webhook-svc.default.svc&#x27; con el nombre real del servicio de tu propio servicio si decides modificar el nombre del servicio.</p>
</li>
</ul>
</li>
<li class="">
<p>Usa el archivo de configuración modificado para generar un archivo de solicitud de certificado:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openssl req -new -nodes -keyout server.key -out server.csr -config openssl.cnf</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Usa la CA hecha por sí misma para responder a la solicitud y firmar el certificado:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openssl x509 -req -days 3650 -in server.csr -out server.crt -CA ca.crt -CAkey ca.key -CAcreateserial -extensions v3_req -extensions SAN -extfile openssl.cnf</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
<li class="">
<p>Reemplazar el campo &#x27;CABundle&#x27;: Ambos <code>config/webhook_external.yaml</code> y <code>config/webhook_internal.yaml</code> tienen un campo llamado &quot;CABundle&quot;, que contiene una cadena codificada en base64 del certificado de la CA.</p>
</li>
<li class="">
<p>Actualiza este campo con el nuevo certificado.</p>
</li>
</ol>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="si-estás-usando-helm-se-deben-aplicar-cambios-similares-a-los-gráficos-de-helm">Si estás usando helm, se deben aplicar cambios similares a los gráficos de helm.<a href="#si-estás-usando-helm-se-deben-aplicar-cambios-similares-a-los-gráficos-de-helm" class="hash-link" aria-label="Enlace directo a Si estás usando helm, se deben aplicar cambios similares a los gráficos de helm." title="Enlace directo a Si estás usando helm, se deben aplicar cambios similares a los gráficos de helm." translate="no">​</a></h4>
<p>5.1.2 Certificados legales Elimina el campo &quot;CABundle&quot; en <code>config/webhook_external.yaml</code> y <code>config/webhook_internal.yaml</code>, y cambia el dominio en estos archivos por el dominio que posees.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/casbin/casbin-website-v2/edit/master/docs/K8sGateKeeper.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Editar esta página</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Páginas de los documentos"><a class="pagination-nav__link pagination-nav__link--prev" href="/es/docs/k8s"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">Authorization of Kubernetes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/es/docs/envoy"><div class="pagination-nav__sublabel">Siguiente</div><div class="pagination-nav__label">Authorization of Service Mesh through Envoy</div></a></nav><br></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-visión-general-y-documentos-para-casbin-k8s-gatekeeper" class="table-of-contents__link toc-highlight">1. Visión general y Documentos para Casbin K8s-Gatekeeper</a><ul><li><a href="#01-un-ejemplo-simple" class="table-of-contents__link toc-highlight">0.1 Un Ejemplo Simple</a></li><li><a href="#11-cómo-funciona-casbin-k8s-gatekeeper" class="table-of-contents__link toc-highlight">1.1 ¿Cómo Funciona Casbin K8s-Gatekeeper?</a></li><li><a href="#12-un-ejemplo-ilustrativo-de-cómo-funciona" class="table-of-contents__link toc-highlight">1.2 Un Ejemplo Ilustrativo de Cómo Funciona</a></li></ul></li><li><a href="#2-instalar-k8s-gatekeeper" class="table-of-contents__link toc-highlight">2 Instalar K8s-gatekeeper</a><ul><li><a href="#211-paso-1-construir-la-imagen" class="table-of-contents__link toc-highlight">2.1.1 Paso 1: Construir la imagen</a></li><li><a href="#22-webhook-externo" class="table-of-contents__link toc-highlight">2.2 Webhook externo</a></li><li><a href="#231-paso-1-construir-la-imagen" class="table-of-contents__link toc-highlight">2.3.1 Paso 1: Construir la imagen</a></li></ul></li><li><a href="#prueba-k8s-gatekeeper-31-crear-modelo-y-política-de-casbin" class="table-of-contents__link toc-highlight">Prueba K8s-gatekeeper 3.1 Crear Modelo y Política de Casbin</a><ul><li><a href="#tienes-dos-métodos-para-crear-un-modelo-y-política-a-través-de-kubectl-o-a-través-del-cliente-go-que-proporcionamos" class="table-of-contents__link toc-highlight">Tienes dos métodos para crear un modelo y política: a través de kubectl o a través del cliente go que proporcionamos.</a></li><li><a href="#312-prueba-si-k8s-gatekeeper-funciona" class="table-of-contents__link toc-highlight">3.1.2 Prueba si K8s-gatekeeper funciona</a></li></ul></li><li><a href="#4-cómo-escribir-modelo-y-política-con-k8s-gatekeeper" class="table-of-contents__link toc-highlight">4. Cómo Escribir Modelo y Política con K8s-gatekeeper</a><ul><li><a href="#41-definición-de-solicitud-de-modelo" class="table-of-contents__link toc-highlight">4.1 Definición de Solicitud de Modelo</a></li><li><a href="#42-coincidencias-de-modelo" class="table-of-contents__link toc-highlight">4.2 Coincidencias de Modelo</a></li><li><a href="#421-funciones-de-extensión" class="table-of-contents__link toc-highlight">4.2.1 Funciones de extensión</a></li><li><a href="#4213-funciones-que-admiten-argumentos-de-longitud-variable" class="table-of-contents__link toc-highlight">4.2.1.3 Funciones que admiten argumentos de longitud variable</a></li></ul></li><li><a href="#5-configuración-avanzada" class="table-of-contents__link toc-highlight">5. Configuración Avanzada</a><ul><li><a href="#51-acerca-de-los-certificados" class="table-of-contents__link toc-highlight">5.1 Acerca de los Certificados</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentación</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/es/docs/get-started">Empezando</a></li><li class="footer__item"><a class="footer__link-item" href="/es/docs/management-api">API de Gestión</a></li><li class="footer__item"><a class="footer__link-item" href="/es/docs/rbac-api">API de RBAC</a></li><li class="footer__item"><a class="footer__link-item" href="/es/docs/middlewares">Middlewares</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Comunidad</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/S5UjpzGZjN" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/search?q=casbin" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://groups.google.com/g/casbin" target="_blank" rel="noopener noreferrer" class="footer__link-item">Google Groups<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Más</div><ul class="footer__items clean-list"><li class="footer__item">
                <a href="https://github.com/casbin/casbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/casbin?label=Casbin&style=social">
                </a>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://github.com/casbin/jcasbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/jcasbin?label=jCasbin&style=social">
                </a>
              </li><li class="footer__item">
                <a href="https://github.com/casbin/node-casbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/node-casbin?label=Node-Casbin&style=social">
                </a>
                &nbsp;&nbsp;
                <a href="https://github.com/php-casbin/php-casbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/php-casbin/php-casbin?label=PHP-Casbin&style=social">
                </a>
              </li><li class="footer__item">
                <a href="https://github.com/casbin/pycasbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/pycasbin?label=PyCasbin&style=social">
                </a>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://github.com/casbin/Casbin.NET" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/Casbin.NET?label=Casbin.NET&style=social">
                </a>
              </li><li class="footer__item">
                <a href="https://github.com/casbin/casbin-cpp" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/casbin-cpp?label=Casbin-CPP&style=social">
                </a>
                &nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://github.com/casbin/casbin-rs" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/casbin-rs?label=Casbin-RS&style=social">
                </a>
              </li><li class="footer__item">
                <a href="https://twitter.com/casbinHQ" target="_blank">
                  <img alt="Twitter Follow" src="https://img.shields.io/twitter/follow/casbinHQ?style=social">
                </a>
              </li><li class="footer__item">
<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?2c0ffc6f8d49e98d964d59d7aa4cbf34";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
</li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_BH7S" href="/es/"><img src="/es/img/casbin_min.svg" alt="Logo de Casbin" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/es/img/casbin_min.svg" alt="Logo de Casbin" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">Copyright © 2025 Casbin Organization</div></div></div></footer></div>
</body>
</html>