"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[7739],{1714(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>m,frontMatter:()=>l,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"rbac-with-domains-api","title":"RBAC with Domains API","description":"Una API m\xe1s amigable para el usuario para RBAC con dominios. Esta API es un subconjunto de la API de Gesti\xf3n. Los usuarios de RBAC pueden usar esta API para simplificar su c\xf3digo.","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/RBACWithDomainsAPI.mdx","sourceDirName":".","slug":"/rbac-with-domains-api","permalink":"/es/docs/rbac-with-domains-api","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/RBACWithDomainsAPI.mdx","tags":[],"version":"current","frontMatter":{"id":"rbac-with-domains-api","title":"RBAC with Domains API","description":"Una API m\xe1s amigable para el usuario para RBAC con dominios. Esta API es un subconjunto de la API de Gesti\xf3n. Los usuarios de RBAC pueden usar esta API para simplificar su c\xf3digo.","keywords":["RBAC with domains","API"],"authors":["hsluoyz"]},"sidebar":"docs","previous":{"title":"RBAC API","permalink":"/es/docs/rbac-api"},"next":{"title":"RBAC with Conditions API","permalink":"/es/docs/rbac-with-conditions-api"}}');var i=s(4848),o=s(8453);const l={id:"rbac-with-domains-api",title:"RBAC with Domains API",description:"Una API m\xe1s amigable para el usuario para RBAC con dominios. Esta API es un subconjunto de la API de Gesti\xf3n. Los usuarios de RBAC pueden usar esta API para simplificar su c\xf3digo.",keywords:["RBAC with domains","API"],authors:["hsluoyz"]},r=void 0,d={},c=[{value:"Referencia",id:"referencia",level:2},{value:"<code>GetUsersForRoleInDomain()</code>",id:"getusersforroleindomain",level:3},{value:"<code>GetRolesForUserInDomain()</code>",id:"getrolesforuserindomain",level:3},{value:"<code>GetPermissionsForUserInDomain()</code>",id:"getpermissionsforuserindomain",level:3},{value:"<code>AddRoleForUserInDomain()</code>",id:"addroleforuserindomain",level:3},{value:"<code>DeleteRoleForUserInDomain()</code>",id:"deleteroleforuserindomain",level:3},{value:"<code>DeleteRolesForUserInDomain()</code>",id:"deleterolesforuserindomain",level:3},{value:"<code>GetAllUsersByDomain()</code>",id:"getallusersbydomain",level:3},{value:"<code>DeleteAllUsersByDomain()</code>",id:"deleteallusersbydomain",level:3},{value:"<code>DeleteDomains()</code>",id:"deletedomains",level:3},{value:"<code>GetAllDomains()</code>",id:"getalldomains",level:3},{value:"<code>GetAllRolesByDomain()</code>",id:"getallrolesbydomain",level:3},{value:"<code>GetImplicitUsersForResourceByDomain()</code>",id:"getimplicitusersforresourcebydomain",level:3}];function t(e){const n={admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,o.R)(),...e.components},{TabItem:s,Tabs:a}=n;return s||h("TabItem",!0),a||h("Tabs",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"This simplified API is designed for RBAC with domains. It is a subset of the Management API, making it easier for RBAC users to work with domain-based policies."}),"\n",(0,i.jsx)(n.h2,{id:"referencia",children:"Referencia"}),"\n",(0,i.jsxs)(n.p,{children:["La variable global ",(0,i.jsx)(n.code,{children:"e"})," representa la instancia de Enforcer."]}),"\n",(0,i.jsxs)(a,{groupId:"langs",children:[(0,i.jsx)(s,{value:"Go",label:"Go",default:!0,children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'e, err := NewEnforcer("examples/rbac_with_domains_model.conf", "examples/rbac_with_domains_policy.csv")\n'})})}),(0,i.jsx)(s,{value:"Node.js",label:"Node.js",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const e = await newEnforcer('examples/rbac_with_domains_model.conf', 'examples/rbac_with_domains_policy.csv')\n"})})}),(0,i.jsx)(s,{value:"PHP",label:"PHP",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"$e = new Enforcer('examples/rbac_with_domains_model.conf', 'examples/rbac_with_domains_policy.csv');\n"})})}),(0,i.jsx)(s,{value:"Python",label:"Python",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'e = casbin.Enforcer("examples/rbac_with_domains_model.conf", "examples/rbac_with_domains_policy.csv")\n'})})}),(0,i.jsx)(s,{value:".NET",label:".NET",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'var e = new Enforcer("examples/rbac_with_domains_model.conf", "examples/rbac_with_domains_policy.csv");\n'})})}),(0,i.jsx)(s,{value:"Rust",label:"Rust",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:'let mut e = Enforcer::new("examples/rbac_with_domains_model.conf", "examples/rbac_with_domains_policy.csv").await?;\n'})})}),(0,i.jsx)(s,{value:"Java",label:"Java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'Enforcer e = new Enforcer("examples/rbac_with_domains_model.conf", "examples/rbac_with_domains_policy.csv");\n'})})})]}),"\n",(0,i.jsx)(n.h3,{id:"getusersforroleindomain",children:(0,i.jsx)(n.code,{children:"GetUsersForRoleInDomain()"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"GetUsersForRoleInDomain()"})," retrieves all users assigned to a specific role within a domain."]}),"\n",(0,i.jsx)(n.p,{children:"Por ejemplo:"}),"\n",(0,i.jsxs)(a,{groupId:"langs",children:[(0,i.jsx)(s,{value:"Go",label:"Go",default:!0,children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'res := e.GetUsersForRoleInDomain("admin", "domain1")\n'})})}),(0,i.jsx)(s,{value:"Node.js",label:"Node.js",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'const res = e.getUsersForRoleInDomain("admin", "domain1")\n'})})}),(0,i.jsx)(s,{value:"Python",label:"Python",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'res = e.get_users_for_role_in_domain("admin", "domain1")\n'})})})]}),"\n",(0,i.jsx)(n.h3,{id:"getrolesforuserindomain",children:(0,i.jsx)(n.code,{children:"GetRolesForUserInDomain()"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"GetRolesForUserInDomain()"})," retrieves all roles assigned to a user within a domain."]}),"\n",(0,i.jsx)(n.p,{children:"Por ejemplo:"}),"\n",(0,i.jsxs)(a,{groupId:"langs",children:[(0,i.jsx)(s,{value:"Go",label:"Go",default:!0,children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'res := e.GetRolesForUserInDomain("admin", "domain1")\n'})})}),(0,i.jsx)(s,{value:"Node.js",label:"Node.js",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'const res = e.getRolesForUserInDomain("alice", "domain1")\n'})})}),(0,i.jsx)(s,{value:"Python",label:"Python",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'res = e.get_roles_for_user_in_domain("alice", "domain1")\n'})})}),(0,i.jsx)(s,{value:"Java",label:"Java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'List<String> res = e.getRolesForUserInDomain("admin", "domain1");\n'})})})]}),"\n",(0,i.jsx)(n.h3,{id:"getpermissionsforuserindomain",children:(0,i.jsx)(n.code,{children:"GetPermissionsForUserInDomain()"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"GetPermissionsForUserInDomain()"})," retrieves all permissions for a user or role within a domain."]}),"\n",(0,i.jsx)(n.p,{children:"Por ejemplo:"}),"\n",(0,i.jsxs)(a,{groupId:"langs",children:[(0,i.jsx)(s,{value:"Go",label:"Go",default:!0,children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'res := e.GetPermissionsForUserInDomain("alice", "domain1")\n'})})}),(0,i.jsx)(s,{value:"Java",label:"Java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'List<List<String>> res = e.getPermissionsForUserInDomain("alice", "domain1");\n'})})})]}),"\n",(0,i.jsx)(n.h3,{id:"addroleforuserindomain",children:(0,i.jsx)(n.code,{children:"AddRoleForUserInDomain()"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"AddRoleForUserInDomain()"})," assigns a role to a user within a domain. Returns ",(0,i.jsx)(n.code,{children:"false"})," if the user already has the role (no changes made)."]}),"\n",(0,i.jsx)(n.p,{children:"Por ejemplo:"}),"\n",(0,i.jsxs)(a,{groupId:"langs",children:[(0,i.jsx)(s,{value:"Go",label:"Go",default:!0,children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'ok, err := e.AddRoleForUserInDomain("alice", "admin", "domain1")\n'})})}),(0,i.jsx)(s,{value:"Python",label:"Python",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'ok = e.add_role_for_user_in_domain("alice", "admin", "domain1")\n'})})}),(0,i.jsx)(s,{value:"Java",label:"Java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'boolean ok = e.addRoleForUserInDomain("alice", "admin", "domain1");\n'})})})]}),"\n",(0,i.jsx)(n.h3,{id:"deleteroleforuserindomain",children:(0,i.jsx)(n.code,{children:"DeleteRoleForUserInDomain()"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"DeleteRoleForUserInDomain()"})," removes a role from a user within a domain. Returns ",(0,i.jsx)(n.code,{children:"false"})," if the user does not have the role (no changes made)."]}),"\n",(0,i.jsx)(n.p,{children:"Por ejemplo:"}),"\n",(0,i.jsxs)(a,{groupId:"langs",children:[(0,i.jsx)(s,{value:"Go",label:"Go",default:!0,children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'ok, err := e.DeleteRoleForUserInDomain("alice", "admin", "domain1")\n'})})}),(0,i.jsx)(s,{value:"Java",label:"Java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'boolean ok = e.deleteRoleForUserInDomain("alice", "admin", "domain1");\n'})})})]}),"\n",(0,i.jsx)(n.h3,{id:"deleterolesforuserindomain",children:(0,i.jsx)(n.code,{children:"DeleteRolesForUserInDomain()"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"DeleteRolesForUserInDomain()"})," removes all roles from a user within a domain. Returns ",(0,i.jsx)(n.code,{children:"false"})," if the user has no roles (no changes made)."]}),"\n",(0,i.jsx)(n.p,{children:"Por ejemplo:"}),"\n",(0,i.jsx)(a,{groupId:"langs",children:(0,i.jsx)(s,{value:"Go",label:"Go",default:!0,children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'ok, err := e.DeleteRolesForUserInDomain("alice", "domain1")\n'})})})}),"\n",(0,i.jsx)(n.h3,{id:"getallusersbydomain",children:(0,i.jsx)(n.code,{children:"GetAllUsersByDomain()"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"GetAllUsersByDomain()"})," retrieves all users associated with the specified domain. Returns an empty string array if no domain is defined in the model."]}),"\n",(0,i.jsx)(n.p,{children:"Por ejemplo:"}),"\n",(0,i.jsx)(a,{groupId:"langs",children:(0,i.jsx)(s,{value:"Go",label:"Go",default:!0,children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'res := e.GetAllUsersByDomain("domain1")\n'})})})}),"\n",(0,i.jsx)(n.h3,{id:"deleteallusersbydomain",children:(0,i.jsx)(n.code,{children:"DeleteAllUsersByDomain()"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"DeleteAllUsersByDomain()"})," removes all users associated with the specified domain. Returns ",(0,i.jsx)(n.code,{children:"false"})," if no domain is defined in the model."]}),"\n",(0,i.jsx)(n.p,{children:"Por ejemplo:"}),"\n",(0,i.jsx)(a,{groupId:"langs",children:(0,i.jsx)(s,{value:"Go",label:"Go",default:!0,children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'ok, err := e.DeleteAllUsersByDomain("domain1")\n'})})})}),"\n",(0,i.jsx)(n.h3,{id:"deletedomains",children:(0,i.jsx)(n.code,{children:"DeleteDomains()"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"DeleteDomains()"})," removes all associated users and roles for the specified domains. If no parameters are provided, all domains are deleted."]}),"\n",(0,i.jsx)(n.p,{children:"Por ejemplo:"}),"\n",(0,i.jsx)(a,{groupId:"langs",children:(0,i.jsx)(s,{value:"Go",label:"Go",default:!0,children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'ok, err := e.DeleteDomains("domain1", "domain2")\n'})})})}),"\n",(0,i.jsx)(n.h3,{id:"getalldomains",children:(0,i.jsx)(n.code,{children:"GetAllDomains()"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"GetAllDomains()"})," retrieves all domains."]}),"\n",(0,i.jsx)(n.p,{children:"Por ejemplo:"}),"\n",(0,i.jsx)(a,{groupId:"langs",children:(0,i.jsx)(s,{value:"Go",label:"Go",default:!0,children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"res, _ := e.GetAllDomains()\n"})})})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["When handling domain names that contain ",(0,i.jsx)(n.code,{children:"::"}),", unexpected behavior may occur. In Casbin, ",(0,i.jsx)(n.code,{children:"::"})," is a reserved keyword, similar to ",(0,i.jsx)(n.code,{children:"for"})," or ",(0,i.jsx)(n.code,{children:"if"})," in programming languages. Never use ",(0,i.jsx)(n.code,{children:"::"})," within a domain name."]})}),"\n",(0,i.jsx)(n.h3,{id:"getallrolesbydomain",children:(0,i.jsx)(n.code,{children:"GetAllRolesByDomain()"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"GetAllRolesByDomain()"})," retrieves all roles associated with the specified domain."]}),"\n",(0,i.jsx)(n.p,{children:"Por ejemplo:"}),"\n",(0,i.jsx)(a,{groupId:"langs",children:(0,i.jsx)(s,{value:"Go",label:"Go",default:!0,children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'res := e.GetAllRolesByDomain("domain1")\n'})})})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:"Este m\xe9todo no se aplica a dominios que tienen una relaci\xf3n de herencia, tambi\xe9n conocidos como roles impl\xedcitos."})}),"\n",(0,i.jsx)(n.h3,{id:"getimplicitusersforresourcebydomain",children:(0,i.jsx)(n.code,{children:"GetImplicitUsersForResourceByDomain()"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"GetImplicitUsersForResourceByDomain()"})," returns implicit users based on resource and domain."]}),"\n",(0,i.jsx)(n.p,{children:"Por ejemplo:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csv",children:"p, admin, domain1, data1, read\np, admin, domain1, data1, write\np, admin, domain2, data2, read\np, admin, domain2, data2, write\ng, alice, admin, domain1\ng, bob, admin, domain2\n"})}),"\n",(0,i.jsxs)(n.p,{children:['GetImplicitUsersForResourceByDomain("data1", "domain1") devolver\xe1 ',(0,i.jsx)(n.code,{children:'["alice", "domain1", "data1", "read"],["alice", "domain1", "data1", "write"]], nil'})]}),"\n",(0,i.jsx)(a,{groupId:"langs",children:(0,i.jsx)(s,{value:"Go",label:"Go",default:!0,children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'ImplicitUsers, err := e.GetImplicitUsersForResourceByDomain("data1", "domain1")\n'})})})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:'Solo se devolver\xe1n usuarios, los roles (2\xba arg en "g") ser\xe1n excluidos.'})})]})}function m(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}function h(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},8453(e,n,s){s.d(n,{R:()=>l,x:()=>r});var a=s(6540);const i={},o=a.createContext(i);function l(e){const n=a.useContext(o);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),a.createElement(o.Provider,{value:n},e.children)}}}]);