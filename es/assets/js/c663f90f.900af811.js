"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[7420],{6055(n,e,i){i.r(e),i.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"ucon","title":"Usage Control (UCON)","description":"Usage Control Model in Casbin","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/UCON.mdx","sourceDirName":".","slug":"/ucon","permalink":"/es/docs/ucon","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/UCON.mdx","tags":[],"version":"current","frontMatter":{"id":"ucon","title":"Usage Control (UCON)","description":"Usage Control Model in Casbin","keywords":["ucon","usage control","access control","authorization","obligations","conditions"],"authors":["nodece"]},"sidebar":"docs","previous":{"title":"Priority Model","permalink":"/es/docs/priority-model"},"next":{"title":"Super Administrator","permalink":"/es/docs/superadmin"}}');var o=i(4848),t=i(8453);const c={id:"ucon",title:"Usage Control (UCON)",description:"Usage Control Model in Casbin",keywords:["ucon","usage control","access control","authorization","obligations","conditions"],authors:["nodece"]},r=void 0,l={},a=[{value:"Overview",id:"overview",level:2},{value:"Model &amp; Policy",id:"model--policy",level:2},{value:"model",id:"model",level:3},{value:"policy",id:"policy",level:3},{value:"Core components",id:"core-components",level:2},{value:"Features",id:"features",level:2},{value:"Use Cases",id:"use-cases",level:2},{value:"Implementation with casbin-ucon",id:"implementation-with-casbin-ucon",level:2},{value:"Implementation Notes",id:"implementation-notes",level:2},{value:"Comparison with Traditional Models",id:"comparison-with-traditional-models",level:2},{value:"References",id:"references",level:2}];function d(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"UCON (Usage Control)"})," extends access control with ",(0,o.jsx)(e.strong,{children:"authorizations (A)"}),", ",(0,o.jsx)(e.strong,{children:"obligations (B)"}),", and ",(0,o.jsx)(e.strong,{children:"conditions (C)"}),". It supports ",(0,o.jsx)(e.strong,{children:"continuous"})," enforcement during use (not only at access time) and ",(0,o.jsx)(e.strong,{children:"mutable"})," attributes. Casbin does not implement UCON in the core; use the ",(0,o.jsx)(e.a,{href:"https://github.com/casbin/casbin-ucon",children:"casbin-ucon"})," extension for session-based usage control."]}),"\n",(0,o.jsx)(e.h2,{id:"model--policy",children:"Model & Policy"}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Note"}),": Casbin does not support UCON directly in its core library. Instead, UCON functionality is provided through the extension library ",(0,o.jsx)(e.a,{href:"https://github.com/casbin/casbin-ucon",children:"casbin-ucon"}),", which adds session-based access control with conditions, obligations, and continuous monitoring capabilities. The extension can use the same models and policies supported by the Casbin core."]}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"model",children:"model"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-conf",children:"[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = r.sub == p.sub && r.obj == p.obj && r.act == p.act\n"})}),"\n",(0,o.jsx)(e.h3,{id:"policy",children:"policy"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-csv",children:"p, alice, document1, read\n"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Note"}),": In UCON, Conditions and Obligations are not written in policy.csv; they are added and managed in code through the casbin-ucon API."]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"core-components",children:"Core components"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Authorizations (A)"})," \u2014 Access rules based on subject/object attributes (like standard Casbin)."]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Obligations (B)"})," \u2014 Actions the subject must perform before or during use (e.g. log, confirm)."]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Conditions (C)"})," \u2014 Environment or system state (e.g. time, location) that must hold."]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"features",children:"Features"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Continuous enforcement"})," \u2014 Checks during the whole usage session, not only at entry."]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Mutability"})," \u2014 Attributes can change as a result of usage."]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Pre / ongoing / post"})," \u2014 Decisions and obligations at access time, during use, and after."]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,o.jsx)(e.p,{children:"The UCON model is particularly valuable in:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Digital Rights Management (DRM) systems"}),"\n",(0,o.jsx)(e.li,{children:"Healthcare information systems"}),"\n",(0,o.jsx)(e.li,{children:"Cloud computing environments"}),"\n",(0,o.jsx)(e.li,{children:"IoT device access control"}),"\n",(0,o.jsx)(e.li,{children:"Data sharing in collaborative environments"}),"\n",(0,o.jsx)(e.li,{children:"Financial systems with complex compliance requirements"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"implementation-with-casbin-ucon",children:"Implementation with casbin-ucon"}),"\n",(0,o.jsxs)(e.p,{children:["To implement UCON in your Casbin-based application, use the ",(0,o.jsx)(e.a,{href:"https://github.com/casbin/casbin-ucon",children:"casbin-ucon"})," extension library:"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"go get github.com/casbin/casbin-ucon\n"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-go",children:'// Import the required packages\nimport (\n    "github.com/casbin/casbin/v3"\n    "github.com/casbin/casbin-ucon"\n    "fmt"\n    "time"\n)\n\nfunc main() {\n    // Create standard Casbin enforcer\n    e, _ := casbin.NewEnforcer("model.conf", "policy.csv")\n\n    // Wrap with UCON functionality\n    uconE := ucon.NewUconEnforcer(e)\n\n    // Add conditions\n    condition := &ucon.Condition{\n        ID:   "location_condition",\n        Name: "location",\n        Kind: "always",\n        Expr: "office",\n    }\n    uconE.AddCondition(condition)\n\n    // Add obligations\n    obligation := &ucon.Obligation{\n        ID:   "post_log",\n        Name: "access_logging",\n        Kind: "post",\n        Expr: "log_level:detailed",\n    }\n    uconE.AddObligation(obligation)\n\n    // Create a session\n    sessionID, _ := uconE.CreateSession("alice", "read", "document1", map[string]interface{}{\n        "location":      "office",\n        "log_level":     "detailed",\n    })\n\n    // UCON session-based enforcement\n    session, err := uconE.EnforceWithSession(sessionID)\n    if session == nil {\n        // refused\n        fmt.Println("session refused because: ", err)\n    }\n\n    // Monitor session status\n    go func() {\n        for {\n            if !session.IfActive() {\n                if session.GetStopReason() == ucon.NormalStopReason {\n                    break\n                }\n                //TODO\n                //decide how to handle session termination yourself\n                // For example, clean up resources, close connections, write logs, notify the frontend, etc.\n                fmt.Printf("%s %s %s is stopped because: %s\\n",\n                          session.GetSubject(), session.GetAction(),\n                          session.GetObject(), session.GetStopReason())\n                break\n            }\n            time.Sleep(200 * time.Millisecond)\n        }\n    }()\n\n    // You can update attributes during the session\n    // session.UpdateAttribute("location", "home")\n\n    // Stop the session when done\n    _ = uconE.StopMonitoring(sessionID)\n}\n'})}),"\n",(0,o.jsx)(e.h2,{id:"implementation-notes",children:"Implementation Notes"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"UCON encompasses traditional access control models like MAC, DAC, and RBAC"}),"\n",(0,o.jsx)(e.li,{children:"Implementation requires a reference monitor capable of continuous monitoring"}),"\n",(0,o.jsx)(e.li,{children:"Attribute updates (mutability) should be handled atomically to maintain consistency"}),"\n",(0,o.jsx)(e.li,{children:"Obligations may require integration with external monitoring systems"}),"\n",(0,o.jsx)(e.li,{children:"Conditions evaluation may depend on environmental factors outside the access control system"}),"\n",(0,o.jsx)(e.li,{children:"When using casbin-ucon, you need to properly manage session lifecycle and monitoring"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"comparison-with-traditional-models",children:"Comparison with Traditional Models"}),"\n",(0,o.jsxs)(e.table,{children:[(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"Aspect"}),(0,o.jsx)(e.th,{children:"Traditional Access Control"}),(0,o.jsx)(e.th,{children:"UCON"})]})}),(0,o.jsxs)(e.tbody,{children:[(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"Decision Time"}),(0,o.jsx)(e.td,{children:"Pre-access only"}),(0,o.jsx)(e.td,{children:"Pre, ongoing, and post access"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"Attribute Mutability"}),(0,o.jsx)(e.td,{children:"Static"}),(0,o.jsx)(e.td,{children:"Dynamic (can change during usage)"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"Decision Factors"}),(0,o.jsx)(e.td,{children:"Authorizations only"}),(0,o.jsx)(e.td,{children:"Authorizations, obligations, and conditions"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"Enforcement"}),(0,o.jsx)(e.td,{children:"One-time check"}),(0,o.jsx)(e.td,{children:"Continuous monitoring"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"Revocation"}),(0,o.jsx)(e.td,{children:"Explicit"}),(0,o.jsx)(e.td,{children:"Can be automatic based on attribute changes"})]})]})]}),"\n",(0,o.jsx)(e.h2,{id:"references",children:"References"}),"\n",(0,o.jsxs)(e.p,{children:["For complete API documentation, detailed usage, and latest updates about casbin-ucon, refer to ",(0,o.jsx)(e.a,{href:"https://github.com/casbin/casbin-ucon",children:"casbin-ucon"}),"."]})]})}function h(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}},8453(n,e,i){i.d(e,{R:()=>c,x:()=>r});var s=i(6540);const o={},t=s.createContext(o);function c(n){const e=s.useContext(t);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:c(n.components),s.createElement(t.Provider,{value:e},n.children)}}}]);