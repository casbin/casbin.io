"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[9178],{7458(e,o,n){n.r(o),n.d(o,{assets:()=>r,contentTitle:()=>t,default:()=>u,frontMatter:()=>c,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"how-it-works","title":"How It Works","description":"C\xf3mo funciona Casbin","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/HowItWorks.mdx","sourceDirName":".","slug":"/how-it-works","permalink":"/es/docs/how-it-works","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/HowItWorks.mdx","tags":[],"version":"current","frontMatter":{"id":"how-it-works","title":"How It Works","description":"C\xf3mo funciona Casbin","keywords":["PERM","request","policy","matcher","effect"],"authors":["nodece"]},"sidebar":"docs","previous":{"title":"Get Started","permalink":"/es/docs/get-started"},"next":{"title":"Tutorials","permalink":"/es/docs/tutorials"}}');var s=n(4848),a=n(8453);const c={id:"how-it-works",title:"How It Works",description:"C\xf3mo funciona Casbin",keywords:["PERM","request","policy","matcher","effect"],authors:["nodece"]},t=void 0,r={},l=[{value:"Request",id:"request",level:3},{value:"Policy",id:"policy",level:3},{value:"Matcher",id:"matcher",level:3},{value:"Effect",id:"effect",level:3}];function d(e){const o={a:"a",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.p,{children:["En Casbin, un modelo de control de acceso se abstrae en un archivo CONF basado en el ",(0,s.jsx)(o.strong,{children:"metamodelo PERM (Pol\xedtica, Efecto, Solicitud, Coincidencias)"}),". Cambiar o actualizar el mecanismo de autorizaci\xf3n para un proyecto es tan simple como modificar una configuraci\xf3n. Puedes personalizar tu propio modelo de control de acceso combinando los modelos disponibles. Por ejemplo, puedes combinar roles RBAC y atributos ABAC juntos dentro de un mismo modelo y compartir un conjunto de reglas de pol\xedtica."]}),"\n",(0,s.jsx)(o.p,{children:"El modelo PERM est\xe1 compuesto por cuatro fundamentos: Pol\xedtica, Efecto, Solicitud y Coincidencias. Estos fundamentos describen la relaci\xf3n entre recursos y usuarios."}),"\n",(0,s.jsx)(o.h3,{id:"request",children:"Request"}),"\n",(0,s.jsx)(o.p,{children:"Define los par\xe1metros de la solicitud. Una solicitud b\xe1sica es un objeto tupla, que requiere al menos un sujeto (entidad accedida), objeto (recurso accedido) y acci\xf3n (m\xe9todo de acceso)."}),"\n",(0,s.jsx)(o.p,{children:"Por ejemplo, una definici\xf3n de solicitud puede verse as\xed:"}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.code,{children:"r={sub,obj,act}"})}),"\n",(0,s.jsx)(o.h3,{id:"policy",children:"Policy"}),"\n",(0,s.jsx)(o.p,{children:"Esta definici\xf3n especifica los nombres de los par\xe1metros y el orden requerido por la funci\xf3n de coincidencia de control de acceso. Define el modelo para la estrategia de acceso."}),"\n",(0,s.jsx)(o.p,{children:"Especifica el nombre y el orden de los campos en el documento de regla de Pol\xedtica."}),"\n",(0,s.jsx)(o.p,{children:"Por ejemplo:"}),"\n",(0,s.jsx)(o.h3,{id:"matcher",children:"Matcher"}),"\n",(0,s.jsxs)(o.p,{children:[(0,s.jsx)(o.code,{children:"p={sub, obj, act}"})," o ",(0,s.jsx)(o.code,{children:"p={sub, obj, act, eft}"})]}),"\n",(0,s.jsx)(o.p,{children:"Nota: Si eft (resultado de la pol\xedtica) no est\xe1 definido, el campo del resultado en el archivo de pol\xedtica no se leer\xe1, y el resultado de la pol\xedtica coincidente se permitir\xe1 por defecto. Define las reglas de coincidencia para la Solicitud y la Pol\xedtica."}),"\n",(0,s.jsx)(o.h3,{id:"effect",children:"Effect"}),"\n",(0,s.jsxs)(o.p,{children:["Por ejemplo: ",(0,s.jsx)(o.code,{children:"m = r.sub == p.sub && r.act == p.act && r.obj == p.obj"})]}),"\n",(0,s.jsxs)(o.p,{children:["Esta regla de coincidencia simple y com\xfan significa que si los par\xe1metros solicitados (entidades, recursos y m\xe9todos) son iguales a los encontrados en la pol\xedtica, entonces se devuelve el resultado de la pol\xedtica (",(0,s.jsx)(o.code,{children:"p.eft"}),")."]}),"\n",(0,s.jsxs)(o.p,{children:["El resultado de la estrategia se guardar\xe1 en ",(0,s.jsx)(o.code,{children:"p.eft"}),"."]}),"\n",(0,s.jsx)(o.p,{children:"Realiza un juicio de combinaci\xf3n l\xf3gica sobre los resultados de coincidencia de Coincidencias."}),"\n",(0,s.jsxs)(o.p,{children:["Por ejemplo: ",(0,s.jsx)(o.code,{children:"e = some(where(p.eft == allow))"})]}),"\n",(0,s.jsxs)(o.p,{children:["Esta declaraci\xf3n significa que si el resultado de la estrategia de coincidencia ",(0,s.jsx)(o.code,{children:"p.eft"})," tiene el resultado de (alg\xfan) permitir, entonces el resultado final es verdadero. Veamos otro ejemplo: ",(0,s.jsx)(o.code,{children:"e = some(where (p.eft == allow)) && !some(where (p.eft == deny))"})]}),"\n",(0,s.jsx)(o.p,{children:"El significado l\xf3gico de esta combinaci\xf3n de ejemplo es: si hay una estrategia que coincide con el resultado de permitir y ninguna estrategia que coincida con el resultado de denegar, el resultado es verdadero. En otras palabras, es verdadero cuando las estrategias de coincidencia son todas de permitir."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-ini",children:"# Request definition\n[request_definition]\nr = sub, obj, act\n\n# Policy definition\n[policy_definition]\np = sub, obj, act\n\n# Policy effect\n[policy_effect]\ne = some(where (p.eft == allow))\n\n# Matchers\n[matchers]\nm = r.sub == p.sub && r.obj == p.obj && r.act == p.act\n\n"})}),"\n",(0,s.jsx)(o.p,{children:"Si hay alg\xfan denegar, ambos son falsos (m\xe1s simplemente, cuando permitir y denegar existen al mismo tiempo, la denegaci\xf3n tiene prioridad)."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csv",children:"p, alice, data1, read\np, bob, data2, write\n"})}),"\n",(0,s.jsx)(o.p,{children:"El modelo m\xe1s b\xe1sico y simple en Casbin es ACL."}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"El modelo CONF para ACL es el siguiente:"}),"\n",(0,s.jsx)(o.li,{children:"Un ejemplo de pol\xedtica para el modelo ACL es:"}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"Esto significa:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-ini",children:"# Matchers\n[matchers]\nm = r.sub == p.sub && r.obj == p.obj \\\n  && r.act == p.act\n"})}),"\n",(0,s.jsx)(o.p,{children:"alice puede leer data1"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-ini",children:"# Matchers\n[matchers]\nm = r.obj == p.obj && r.act == p.act || r.obj in ('data2', 'data3')\n"})}),"\n",(0,s.jsx)(o.p,{children:"Tambi\xe9n admitimos el modo de m\xfaltiples l\xedneas agregando '' al final:"}),"\n",(0,s.jsxs)(o.p,{children:["For more operators, you may take a look at ",(0,s.jsx)(o.a,{href:"https://github.com/casbin/govaluate",children:"govaluate"}),"."]})]})}function u(e={}){const{wrapper:o}={...(0,a.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453(e,o,n){n.d(o,{R:()=>c,x:()=>t});var i=n(6540);const s={},a=i.createContext(s);function c(e){const o=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function t(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),i.createElement(a.Provider,{value:o},e.children)}}}]);