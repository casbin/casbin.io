"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[9828],{8453(e,n,i){i.d(n,{R:()=>t,x:()=>a});var r=i(6540);const o={},s=r.createContext(o);function t(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),r.createElement(s.Provider,{value:n},e.children)}},8629(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>g,frontMatter:()=>t,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"orbac","title":"OrBAC","description":"Organisation-Based Access Control model in Casbin","source":"@site/docs/OrBAC.mdx","sourceDirName":".","slug":"/orbac","permalink":"/es/docs/orbac","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/OrBAC.mdx","tags":[],"version":"current","frontMatter":{"id":"orbac","title":"OrBAC","description":"Organisation-Based Access Control model in Casbin","keywords":["orbac","organisation-based access control","organizational access control","role abstraction"],"authors":["casbin"]},"sidebar":"docs","previous":{"title":"LBAC","permalink":"/es/docs/lbac"},"next":{"title":"Priority Model","permalink":"/es/docs/priority-model"}}');var o=i(4848),s=i(8453);const t={id:"orbac",title:"OrBAC",description:"Organisation-Based Access Control model in Casbin",keywords:["orbac","organisation-based access control","organizational access control","role abstraction"],authors:["casbin"]},a=void 0,c={},l=[{value:"What is the OrBAC model?",id:"what-is-the-orbac-model",level:2},{value:"OrBAC Model Definition",id:"orbac-model-definition",level:2},{value:"Policy Examples",id:"policy-examples",level:2},{value:"Code Example",id:"code-example",level:2},{value:"Benefits",id:"benefits",level:2}];function d(e){const n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"what-is-the-orbac-model",children:"What is the OrBAC model?"}),"\n",(0,o.jsx)(n.p,{children:"OrBAC (Organisation-Based Access Control) extends traditional RBAC by adding abstraction layers that decouple concrete entities from security policies. This separation creates more flexible and maintainable access control across multiple organizations."}),"\n",(0,o.jsx)(n.p,{children:"OrBAC evaluates access requests using three key abstraction mappings within an organizational context:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Empower"}),": Associates users (subjects) with roles in organizations"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Use"}),": Associates concrete actions with abstract activities in organizations"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Consider"}),": Associates concrete objects with abstract views in organizations"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Policies operate on roles, activities, and views rather than concrete subjects, actions, and objects. This design lets you define organization-specific policies that remain independent of the actual entities involved."}),"\n",(0,o.jsx)(n.h2,{id:"orbac-model-definition",children:"OrBAC Model Definition"}),"\n",(0,o.jsx)(n.p,{children:"The OrBAC model configuration:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ini",children:"[request_definition]\nr = sub, org, obj, act\n\n[policy_definition]\np = role, activity, view, org\n\n[role_definition]\ng = _, _, _\ng2 = _, _, _\ng3 = _, _, _\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = g(r.sub, p.role, r.org) && g2(r.act, p.activity, r.org) && g3(r.obj, p.view, r.org) && r.org == p.org\n"})}),"\n",(0,o.jsx)(n.p,{children:"The matcher components:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"g(r.sub, p.role, r.org)"})," verifies the subject holds the role within the organization (Empower)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"g2(r.act, p.activity, r.org)"})," verifies the action maps to the activity within the organization (Use)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"g3(r.obj, p.view, r.org)"})," verifies the object belongs to the view within the organization (Consider)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"r.org == p.org"})," confirms the organizational context matches"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"policy-examples",children:"Policy Examples"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Permission rules"})," specify which roles can perform which activities on which views in each organization:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-csv",children:"# Permission: role, activity, view, organization\np, manager, modify, document, org1\np, manager, consult, document, org1\np, employee, consult, document, org1\np, manager, modify, report, org2\np, manager, consult, report, org2\np, employee, consult, report, org2\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Empower rules"})," assign roles to subjects within organizations:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-csv",children:"# Empower: subject, role, organization\ng, alice, manager, org1\ng, bob, employee, org1\ng, charlie, manager, org2\ng, david, employee, org2\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Use rules"})," map concrete actions to abstract activities:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-csv",children:"# Use: action, activity, organization\ng2, write, modify, org1\ng2, read, consult, org1\ng2, write, modify, org2\ng2, read, consult, org2\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Consider rules"})," map concrete objects to abstract views:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-csv",children:"# Consider: object, view, organization\ng3, data1, document, org1\ng3, data2, document, org1\ng3, report1, report, org2\ng3, report2, report, org2\n"})}),"\n",(0,o.jsx)(n.h2,{id:"code-example",children:"Code Example"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-go",children:'import "github.com/casbin/casbin/v3"\n\ne, _ := casbin.NewEnforcer("examples/orbac_model.conf", "examples/orbac_policy.csv")\n\n// alice is a manager in org1, can read and write documents\nok, _ := e.Enforce("alice", "org1", "data1", "read")   // true\nok, _ = e.Enforce("alice", "org1", "data1", "write")   // true\n\n// bob is an employee in org1, can only read documents\nok, _ = e.Enforce("bob", "org1", "data1", "read")      // true\nok, _ = e.Enforce("bob", "org1", "data1", "write")     // false\n\n// charlie is a manager in org2, can read and write reports\nok, _ = e.Enforce("charlie", "org2", "report1", "read")   // true\nok, _ = e.Enforce("charlie", "org2", "report1", "write")  // true\n\n// Cross-organization access is denied\nok, _ = e.Enforce("alice", "org2", "report1", "read")  // false\nok, _ = e.Enforce("charlie", "org1", "data1", "read")  // false\n'})}),"\n",(0,o.jsx)(n.h2,{id:"benefits",children:"Benefits"}),"\n",(0,o.jsx)(n.p,{children:"OrBAC offers several advantages over traditional access control:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Abstraction"}),": Define policies using abstract security entities (roles, activities, views) instead of concrete ones, improving maintainability and adaptability"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Organization Context"}),": Each organization maintains independent policies and mappings while sharing the same security model"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Flexibility"}),": Modify concrete entity mappings without changing core security policies"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Scalability"}),": Abstraction layers reduce policy complexity in multi-organizational systems"]}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);