"use strict";(self.webpackChunkcasbin_website_v2=self.webpackChunkcasbin_website_v2||[]).push([[7314],{3905:(e,a,n)=>{n.d(a,{Zo:()=>d,kt:()=>m});var t=n(7294);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function o(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function i(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?o(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function s(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=t.createContext({}),c=function(e){var a=t.useContext(l),n=a;return e&&(n="function"==typeof e?e(a):i(i({},a),e)),n},d=function(e){var a=c(e.components);return t.createElement(l.Provider,{value:a},e.children)},p={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},u=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=c(n),m=r,b=u["".concat(l,".").concat(m)]||u[m]||p[m]||o;return n?t.createElement(b,i(i({ref:a},d),{},{components:n})):t.createElement(b,i({ref:a},d))}));function m(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=u;var s={};for(var l in a)hasOwnProperty.call(a,l)&&(s[l]=a[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var c=2;c<o;c++)i[c]=n[c];return t.createElement.apply(null,i)}return t.createElement.apply(null,n)}u.displayName="MDXCreateElement"},1203:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var t=n(7462),r=(n(7294),n(3905));const o={id:"performance",title:"Performance Optimization",description:"Optimizaci\xf3n del rendimiento de Casbin",keywords:["optimization"],authors:["hsluoyz"]},i=void 0,s={unversionedId:"performance",id:"performance",title:"Performance Optimization",description:"Optimizaci\xf3n del rendimiento de Casbin",source:"@site/i18n/es/docusaurus-plugin-content-docs/current/Performance.mdx",sourceDirName:".",slug:"/performance",permalink:"/es/docs/performance",draft:!1,editUrl:"https://github.com/casbin/casbin-website-v2/edit/master/docs/Performance.mdx",tags:[],version:"current",frontMatter:{id:"performance",title:"Performance Optimization",description:"Optimizaci\xf3n del rendimiento de Casbin",keywords:["optimization"],authors:["hsluoyz"]},sidebar:"docs",previous:{title:"Benchmarks",permalink:"/es/docs/benchmark"},next:{title:"Authorization of Kubernetes",permalink:"/es/docs/k8s"}},l={},c=[{value:"Tr\xe1fico de Alto Volumen",id:"tr\xe1fico-de-alto-volumen",level:4},{value:"Alto N\xfamero de Reglas de Pol\xedtica",id:"alto-n\xfamero-de-reglas-de-pol\xedtica",level:4}],d={toc:c};function p(e){let{components:a,...n}=e;return(0,r.kt)("wrapper",(0,t.Z)({},d,n,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Cuando se aplica en un entorno de producci\xf3n con millones de usuarios o permisos, puede encontrarse con una disminuci\xf3n del rendimiento en la aplicaci\xf3n de Casbin. Generalmente hay dos causas:"),(0,r.kt)("h4",{id:"tr\xe1fico-de-alto-volumen"},"Tr\xe1fico de Alto Volumen"),(0,r.kt)("p",null,"El n\xfamero de solicitudes entrantes por segundo es demasiado grande, por ejemplo, 10,000 solicitudes/s para una sola instancia de Casbin. En tales casos, una sola instancia de Casbin generalmente no es suficiente para manejar todas las solicitudes. Hay dos posibles soluciones:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Usar multi-threading para habilitar m\xfaltiples instancias de Casbin, as\xed puedes utilizar completamente todos los n\xfacleos de la m\xe1quina. Para m\xe1s detalles, ver: ",(0,r.kt)("a",{parentName:"p",href:"/docs/multi-threading"},"Multi-threading"),".")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Desplegar instancias de Casbin en un cl\xfaster (m\xfaltiples m\xe1quinas) y usar Watcher para asegurar que todas las instancias de Casbin sean consistentes. Para m\xe1s detalles, ver: ",(0,r.kt)("a",{parentName:"p",href:"/docs/watchers"},"Watchers"),"."))),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Puedes usar ambos m\xe9todos anteriores al mismo tiempo, por ejemplo, desplegar Casbin en un cl\xfaster de 10 m\xe1quinas donde cada m\xe1quina tiene 5 hilos sirviendo simult\xe1neamente solicitudes de aplicaci\xf3n de Casbin.")),(0,r.kt)("h4",{id:"alto-n\xfamero-de-reglas-de-pol\xedtica"},"Alto N\xfamero de Reglas de Pol\xedtica"),(0,r.kt)("p",null,"En un entorno de nube o multi-tenant, pueden ser necesarias millones de reglas de pol\xedtica. Cada llamada de aplicaci\xf3n o incluso la carga de las reglas de pol\xedtica al principio puede ser muy lenta. Estos casos generalmente pueden mitigarse de varias maneras:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Verifica si tu modelo o pol\xedtica de Casbin est\xe1 bien dise\xf1ado. Un modelo y pol\xedtica bien escritos abstraen la l\xf3gica duplicada para cada usuario/tenant y reducen el n\xfamero de reglas a un nivel muy peque\xf1o (\\< 100). Por ejemplo, puedes compartir algunas reglas predeterminadas entre todos los tenants y permitir que los usuarios personalicen sus reglas m\xe1s tarde. Las reglas personalizadas pueden anular las reglas predeterminadas. Si tienes m\xe1s preguntas, por favor abre un issue en GitHub en el repositorio de Casbin.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Hacer sharding para permitir que un ejecutor de Casbin solo cargue un peque\xf1o conjunto de reglas de pol\xedtica. Por ejemplo, enforcer","_","0 puede atender de tenant","_","0 a tenant","_","99, mientras que enforcer","_","1 puede atender de tenant","_","100 a tenant","_","199. Para cargar solo un subconjunto de todas las reglas de pol\xedtica, ver: ",(0,r.kt)("a",{parentName:"p",href:"/docs/policy-subset-loading"},"Policy Subset Loading"),".")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Otorgar permisos a roles de RBAC en lugar de a usuarios directamente. El RBAC de Casbin se implementa mediante un \xe1rbol de herencia de roles (como una cach\xe9). As\xed, dado un usuario como Alice, Casbin solo toma tiempo O(1) para consultar el \xe1rbol RBAC para la relaci\xf3n rol-usuario y realizar la aplicaci\xf3n. Si tus reglas g no cambian a menudo, entonces el \xe1rbol RBAC no necesitar\xe1 ser actualizado constantemente. Ver los detalles de esta discusi\xf3n aqu\xed: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casbin/casbin/issues/681#issuecomment-763801583"},"https://github.com/casbin/casbin/issues/681#issuecomment-763801583")))),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Puedes probar todos los m\xe9todos anteriores al mismo tiempo.")))}p.isMDXComponent=!0}}]);