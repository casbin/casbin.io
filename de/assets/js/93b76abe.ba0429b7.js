"use strict";(self.webpackChunkcasbin_website_v2=self.webpackChunkcasbin_website_v2||[]).push([[966],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>p});var r=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=r.createContext({}),u=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},c=function(e){var n=u(e.components);return r.createElement(l.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),m=u(t),p=i,h=m["".concat(l,".").concat(p)]||m[p]||d[p]||a;return t?r.createElement(h,s(s({ref:n},c),{},{components:t})):r.createElement(h,s({ref:n},c))}));function p(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,s=new Array(a);s[0]=m;var o={};for(var l in n)hasOwnProperty.call(n,l)&&(o[l]=n[l]);o.originalType=e,o.mdxType="string"==typeof e?e:i,s[1]=o;for(var u=2;u<a;u++)s[u]=t[u];return r.createElement.apply(null,s)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},7626:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>o,toc:()=>u});var r=t(7462),i=(t(7294),t(3905));const a={id:"performance",title:"Performance Optimization",description:"Casbin Leistungsoptimierung",keywords:["optimization"],authors:["hsluoyz"]},s=void 0,o={unversionedId:"performance",id:"performance",title:"Performance Optimization",description:"Casbin Leistungsoptimierung",source:"@site/i18n/de/docusaurus-plugin-content-docs/current/Performance.mdx",sourceDirName:".",slug:"/performance",permalink:"/de/docs/performance",draft:!1,editUrl:"https://github.com/casbin/casbin-website-v2/edit/master/docs/Performance.mdx",tags:[],version:"current",frontMatter:{id:"performance",title:"Performance Optimization",description:"Casbin Leistungsoptimierung",keywords:["optimization"],authors:["hsluoyz"]},sidebar:"docs",previous:{title:"Benchmarks",permalink:"/de/docs/benchmark"},next:{title:"Authorization of Kubernetes",permalink:"/de/docs/k8s"}},l={},u=[{value:"Hohes Verkehrsaufkommen",id:"hohes-verkehrsaufkommen",level:4},{value:"Hohe Anzahl von Richtlinienregeln",id:"hohe-anzahl-von-richtlinienregeln",level:4}],c={toc:u};function d(e){let{components:n,...t}=e;return(0,i.kt)("wrapper",(0,r.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Wenn es in einer Produktionsumgebung mit Millionen von Benutzern oder Berechtigungen angewendet wird, k\xf6nnen Sie eine Leistungseinbu\xdfe bei der Casbin-Durchsetzung feststellen. Es gibt normalerweise zwei Ursachen:"),(0,i.kt)("h4",{id:"hohes-verkehrsaufkommen"},"Hohes Verkehrsaufkommen"),(0,i.kt)("p",null,"Die Anzahl der eingehenden Anfragen pro Sekunde ist zu gro\xdf, zum Beispiel 10.000 Anfragen/s f\xfcr eine einzelne Casbin-Instanz. In solchen F\xe4llen reicht eine einzelne Casbin-Instanz normalerweise nicht aus, um alle Anfragen zu bearbeiten. Es gibt zwei m\xf6gliche L\xf6sungen:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Verwenden Sie Multithreading, um mehrere Casbin-Instanzen zu aktivieren, damit Sie alle Kerne in der Maschine voll ausnutzen k\xf6nnen. Weitere Details finden Sie unter: ",(0,i.kt)("a",{parentName:"p",href:"/docs/multi-threading"},"Multi-threading"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Implementieren Sie Casbin-Instanzen in einem Cluster (mehrere Maschinen) und verwenden Sie Watcher, um sicherzustellen, dass alle Casbin-Instanzen konsistent sind. Weitere Details finden Sie unter: ",(0,i.kt)("a",{parentName:"p",href:"/docs/watchers"},"Watchers"),"."))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Sie k\xf6nnen beide oben genannten Methoden gleichzeitig verwenden, zum Beispiel Casbin auf einem 10-Maschinen-Cluster bereitstellen, auf dem jede Maschine 5 Threads gleichzeitig Casbin-Durchsetzungsanfragen bedient.")),(0,i.kt)("h4",{id:"hohe-anzahl-von-richtlinienregeln"},"Hohe Anzahl von Richtlinienregeln"),(0,i.kt)("p",null,"In einer Cloud- oder Multi-Tenant-Umgebung k\xf6nnen Millionen von Richtlinienregeln erforderlich sein. Jeder Durchsetzungsaufruf oder sogar das Laden der Richtlinienregeln zu Beginn kann sehr langsam sein. Solche F\xe4lle k\xf6nnen normalerweise auf verschiedene Weisen gemildert werden:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"\xdcberpr\xfcfen Sie, ob Ihr Casbin-Modell oder Ihre Richtlinie gut gestaltet ist. Ein gut geschriebenes Modell und eine gut geschriebene Richtlinie abstrahieren die doppelte Logik f\xfcr jeden Benutzer/Mieter und reduzieren die Anzahl der Regeln auf ein sehr kleines Niveau (\\< 100). Zum Beispiel k\xf6nnen Sie einige Standardregeln f\xfcr alle Mieter teilen und den Benutzern sp\xe4ter erlauben, ihre Regeln anzupassen. Angepasste Regeln k\xf6nnen die Standardregeln \xfcberschreiben. Wenn Sie weitere Fragen haben, er\xf6ffnen Sie bitte ein GitHub-Issue im Casbin-Repository.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"F\xfchren Sie Sharding durch, um einem Casbin-Durchsetzer nur eine kleine Menge von Richtlinienregeln zu laden. Zum Beispiel kann enforcer","_","0 tenant","_","0 bis tenant","_","99 bedienen, w\xe4hrend enforcer","_","1 tenant","_","100 bis tenant","_","199 bedienen kann. Um nur einen Teil aller Richtlinienregeln zu laden, siehe: ",(0,i.kt)("a",{parentName:"p",href:"/docs/policy-subset-loading"},"Policy Subset Loading"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Gew\xe4hren Sie Berechtigungen f\xfcr RBAC-Rollen anstelle von Benutzern direkt. Casbins RBAC wird durch einen Rollenvererbungsbaum (als Cache) implementiert. Also, gegeben ein Benutzer wie Alice, ben\xf6tigt Casbin nur O(1) Zeit, um den RBAC-Baum f\xfcr die Rolle-Benutzer-Beziehung abzufragen und die Durchsetzung durchzuf\xfchren. Wenn Ihre g-Regeln nicht oft ge\xe4ndert werden, muss der RBAC-Baum nicht st\xe4ndig aktualisiert werden. Sehen Sie die Details dieser Diskussion hier: ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casbin/casbin/issues/681#issuecomment-763801583"},"https://github.com/casbin/casbin/issues/681#issuecomment-763801583")))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Sie k\xf6nnen alle oben genannten Methoden gleichzeitig ausprobieren.")))}d.isMDXComponent=!0}}]);