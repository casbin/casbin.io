"use strict";(self.webpackChunkcasbin_website_v2=self.webpackChunkcasbin_website_v2||[]).push([[966],{3905:function(e,n,t){t.d(n,{Zo:function(){return u},kt:function(){return h}});var r=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=r.createContext({}),c=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},u=function(e){var n=c(e.components);return r.createElement(l.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=c(t),h=i,p=m["".concat(l,".").concat(h)]||m[h]||d[h]||a;return t?r.createElement(p,o(o({ref:n},u),{},{components:t})):r.createElement(p,o({ref:n},u))}));function h(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,o=new Array(a);o[0]=m;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var c=2;c<a;c++)o[c]=t[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},7626:function(e,n,t){t.r(n),t.d(n,{assets:function(){return u},contentTitle:function(){return l},default:function(){return h},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return d}});var r=t(3117),i=t(102),a=(t(7294),t(3905)),o=["components"],s={id:"performance",title:"Leistungsoptimierung"},l=void 0,c={unversionedId:"performance",id:"performance",title:"Leistungsoptimierung",description:"Wenn Sie in einer Produktionsumgebung mit Millionen von Benutzern oder Berechtigungen angewendet werden, k\xf6nnen Sie bei der Durchsetzung von Casbin auf Performance-Downgrade sto\xdfen, es gibt in der Regel zwei Ursachen:",source:"@site/i18n/de/docusaurus-plugin-content-docs/current/Performance.mdx",sourceDirName:".",slug:"/performance",permalink:"/de/docs/performance",draft:!1,editUrl:"https://github.com/casbin/casbin-website-v2/edit/master/docs/Performance.mdx",tags:[],version:"current",frontMatter:{id:"performance",title:"Leistungsoptimierung"},sidebar:"docs",previous:{title:"Benchmarks",permalink:"/de/docs/benchmark"},next:{title:"Autorisierung von Kubernetes",permalink:"/de/docs/k8s"}},u={},d=[{value:"Hoher Lautst\xe4rkeverkehr",id:"hoher-lautst\xe4rkeverkehr",level:4},{value:"Hohe Anzahl an Regeln f\xfcr Richtlinien",id:"hohe-anzahl-an-regeln-f\xfcr-richtlinien",level:4}],m={toc:d};function h(e){var n=e.components,t=(0,i.Z)(e,o);return(0,a.kt)("wrapper",(0,r.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Wenn Sie in einer Produktionsumgebung mit Millionen von Benutzern oder Berechtigungen angewendet werden, k\xf6nnen Sie bei der Durchsetzung von Casbin auf Performance-Downgrade sto\xdfen, es gibt in der Regel zwei Ursachen:"),(0,a.kt)("h4",{id:"hoher-lautst\xe4rkeverkehr"},"Hoher Lautst\xe4rkeverkehr"),(0,a.kt)("p",null,"Die Anzahl der anstehenden Anfragen pro Sekunde ist zu gro\xdf, z.B. 10.000 Anfrage/s f\xfcr eine einzelne Casbin-Instanz. In diesem Fall reicht eine einzige Casbin-Instanz normalerweise nicht aus, um alle Anfragen zu bearbeiten. Es gibt zwei m\xf6gliche L\xf6sungen:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Verwenden Sie Multithreading um mehrere Casbin-Instanzen zu aktivieren, so dass Sie alle Kerne des Computers vollst\xe4ndig nutzen k\xf6nnen. Siehe Details auf: ",(0,a.kt)("a",{parentName:"p",href:"/docs/multi-threading"},"Multi-Threading"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Verteilen Sie Casbin-Instanzen in einem Cluster (mehrere Maschinen). Verwenden Sie Watcher um sicherzustellen, dass alle Casbin-Instanzen konsistent sind. Siehe Details auf: ",(0,a.kt)("a",{parentName:"p",href:"/docs/watchers"},"Beobachter"),"."))),(0,a.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"Sie k\xf6nnen die oben genannten Methoden zur gleichen Zeit verwenden, z.B. Casbin in einen 10-Maschinen-Cluster einbinden. Jede Maschine hat 5 F\xe4den gleichzeitig, um die Durchsetzung von Casbin-Anfragen zu bedienen."))),(0,a.kt)("h4",{id:"hohe-anzahl-an-regeln-f\xfcr-richtlinien"},"Hohe Anzahl an Regeln f\xfcr Richtlinien"),(0,a.kt)("p",null,"Millionen von politischen Regeln k\xf6nnen in einer Wolke oder mehreren Mietern erforderlich sein. Jeder Durchsetzungsruf oder sogar das Laden der Regeln zum ersten Zeitpunkt ist sehr langsam. Derartige F\xe4lle k\xf6nnen in der Regel auf verschiedene Weise gemildert werden:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Ihr Casbin-Modell oder -Politik ist nicht gut konzipiert. Ein gut geschriebenes Modell und Richtlinie abstrahiert die duplizierte Logik f\xfcr jeden Benutzer/Mieter und reduziert die Anzahl der Regeln auf ein sehr kleines Level (< 100): e. ., k\xf6nnen Sie einige Standardregeln f\xfcr alle Instanzen teilen und die Benutzer ihre Regeln sp\xe4ter anpassen lassen. Benutzerdefinierte Regeln k\xf6nnen die Standardregeln \xfcberschreiben. Wenn Sie noch Fragen haben, senden Sie bitte GitHub an die Casbin Repos.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Teilen Sie, damit ein Casbin-Vollstrecker nur eine kleine Reihe von Richtlinien-Regeln laden kann, z. enforcer_0 dient nur f\xfcr tenant_0 bis tenant_99, enforcer_1 dient nur f\xfcr tenant_100 bis tenant_199. Um nur eine Teilmenge aller Richtlinien-Regeln zu laden, siehe Details unter: ",(0,a.kt)("a",{parentName:"p",href:"/docs/policy-subset-loading"},"Richtlinien-Untermengenladen"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Erteilen Sie RBAC Rollen anstelle von Benutzern direkt Rechte. Casbin's RBAC wird durch einen Rollenvererbungsbaum (als Cache) implementiert. Da ein Benutzer wie Alice, verwendet Casbin nur O(1) Zeit, um den RBAC Baum nach Rollenbenutzer-Beziehung abzufragen und durchzusetzen. Wenn sich Ihre g Regeln nicht oft \xe4ndern, muss der RBAC Baum nicht aktualisiert werden. Siehe Details auf dieser W\xf6rterbuch: ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/casbin/casbin/issues/681#issuecomment-763801583"},"https://github.com/casbin/casbin/issues/681#issuecomment-763801583")))),(0,a.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"Sie k\xf6nnen die oben genannten Methoden gleichzeitig ausprobieren."))))}h.isMDXComponent=!0}}]);