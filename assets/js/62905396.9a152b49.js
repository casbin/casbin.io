"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[7633],{1105(e,t,r){r.d(t,{$:()=>i});const i=[{title:"[Etcd Watcher](https://github.com/officialpycasbin/etcd-watcher)",type:"KV store",author:"Casbin",description:"Watcher for [etcd](https://github.com/coreos/etcd)",image:"/img/ecosystem/etcd.png"},{title:"[Redis Watcher](https://github.com/officialpycasbin/redis-watcher)",type:"KV store",author:"Casbin",description:"Watcher for [Redis](http://redis.io/)",image:"/img/ecosystem/redis.png"},{title:"[Redis Watcher](https://github.com/ScienceLogic/flask-casbin-redis-watcher)",type:"KV store",author:"[ScienceLogic](https://github.com/ScienceLogic)",description:"Watcher for [Redis](http://redis.io/)",image:"/img/ecosystem/redis.png"},{title:"[Redis Async Watcher](https://github.com/kevinkelin/casbin_async_redis_watcher)",type:"KV store",author:"[@kevinkelin](https://github.com/kevinkelin)",description:"Watcher for [Redis](http://redis.io/)",image:"/img/ecosystem/redis.png"},{title:"[PostgreSQL Watcher](https://github.com/officialpycasbin/postgresql-watcher)",type:"Database",author:"Casbin",description:"Watcher for [PostgreSQL](https://www.postgresql.org/)",image:"/img/ecosystem/redis.png"},{title:"[RabbitMQ Watcher](https://github.com/officialpycasbin/rabbitmq-watcher)",type:"Messaging system",author:"Casbin",description:"Watcher for [RabbitMQ](https://www.rabbitmq.com/)",image:"/img/ecosystem/rabbitMQ.png"},{title:"[MongoDB Watcher](https://github.com/sanguinedab/pycasbin-mongo-watcher)",type:"Database",author:"[@sanguinedab](https://github.com/sanguinedab)",description:"Watcher for [MongoDB](https://www.mongodb.com/)",image:"/img/ecosystem/monogoDB.png"}].map(e=>({...e,tags:["Python","Watcher"]}))},1745(e,t,r){r.d(t,{R:()=>i});const i=[{title:"[Redis Watcher](https://github.com/Sbou/Casbin.NET-Redis-Watcher)",type:"KV store",author:"[@Sbou](https://github.com/Sbou)",description:"Watcher for [Redis](http://redis.io/)",image:"/img/ecosystem/redis.png"}].map(e=>({...e,tags:["dotNET","Watcher"]}))},3475(e,t,r){r.d(t,{D:()=>i});const i=[{title:"[Redis Watcher](https://github.com/CasbinRuby/casbin-ruby-redis-watcher)",type:"KV store",author:"[CasbinRuby](https://github.com/CasbinRuby)",description:"Watcher for [Redis](http://redis.io/)",image:"/img/ecosystem/redis.png"},{title:"[RabbitMQ Watcher](https://github.com/CasbinRuby/casbin-ruby-rabbitmq-watcher)",type:"Messaging system",author:"[CasbinRuby](https://github.com/CasbinRuby)",description:"Watcher for [RabbitMQ](https://www.rabbitmq.com/)",image:"/img/ecosystem/rabbitMQ.png"}].map(e=>({...e,tags:["Ruby","Watcher"]}))},3760(e,t,r){r.r(t),r.d(t,{assets:()=>y,contentTitle:()=>b,default:()=>v,frontMatter:()=>f,metadata:()=>i,toc:()=>x});const i=JSON.parse('{"id":"watchers","title":"Watchers","description":"Maintaining consistency between multiple Casbin enforcer instances","source":"@site/docs/Watchers.mdx","sourceDirName":".","slug":"/watchers","permalink":"/docs/watchers","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/Watchers.mdx","tags":[],"version":"current","frontMatter":{"id":"watchers","title":"Watchers","description":"Maintaining consistency between multiple Casbin enforcer instances","keywords":["watcher","multiple Casbin enforcer","WatcherEx"],"authors":["hsluoyz"]},"sidebar":"docs","previous":{"title":"Adapters","permalink":"/docs/adapters"},"next":{"title":"Dispatchers","permalink":"/docs/dispatchers"}}');var n=r(4848),s=r(8453),o=r(1745),c=r(5821),a=r(7611),l=(r(6540),r(9226));function h({data:e}){let t="| Watcher | Type | Author  | Description |\n|---------|------|--------|-------------|\n";return e.forEach(e=>{t+=`| ${e.title} | ${e.type} | ${e.author} | ${e.description} |\n`}),(0,n.jsx)(l.A,{children:t})}var d=r(4788),p=r(6163),u=r(1105),g=r(3475),m=r(4477);const f={id:"watchers",title:"Watchers",description:"Maintaining consistency between multiple Casbin enforcer instances",keywords:["watcher","multiple Casbin enforcer","WatcherEx"],authors:["hsluoyz"]},b=void 0,y={},x=[{value:"WatcherEx",id:"watcherex",level:2}];function k(e){const t={a:"a",code:"code",h2:"h2",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components},{TabItem:r,Tabs:i}=t;return r||w("TabItem",!0),i||w("Tabs",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Watchers"})," keep policy in sync across multiple enforcer instances. When one enforcer updates policy, it notifies others (via a message bus such as ",(0,n.jsx)(t.a,{href:"https://github.com/coreos/etcd",children:"etcd"}),", Redis, or Kafka), and they reload or update their in-memory policy. That lets you run many enforcers behind load balancers without stale permissions."]}),"\n",(0,n.jsx)(t.p,{children:"Watchers are implemented in separate packages, like adapters. The list below covers supported backends. To add a new one, open an issue or PR."}),"\n",(0,n.jsxs)(i,{groupId:"langs",children:[(0,n.jsx)(r,{value:"Go",label:"Go",default:!0,children:(0,n.jsx)(h,{data:c.v})}),(0,n.jsx)(r,{value:"Java",label:"Java",children:(0,n.jsx)(h,{data:a.J})}),(0,n.jsx)(r,{value:"Node.js",label:"Node.js",children:(0,n.jsx)(h,{data:d.G})}),(0,n.jsx)(r,{value:"Python",label:"Python",children:(0,n.jsx)(h,{data:u.$})}),(0,n.jsx)(r,{value:".NET",label:".NET",children:(0,n.jsx)(h,{data:o.R})}),(0,n.jsx)(r,{value:"Ruby",label:"Ruby",children:(0,n.jsx)(h,{data:g.D})}),(0,n.jsx)(r,{value:"PHP",label:"PHP",children:(0,n.jsx)(h,{data:p.j})}),(0,n.jsx)(r,{value:"Rust",label:"Rust",children:(0,n.jsx)(h,{data:m.V})})]}),"\n",(0,n.jsx)(t.h2,{id:"watcherex",children:"WatcherEx"}),"\n",(0,n.jsxs)(t.p,{children:["To support incremental synchronization between multiple instances, we provide the ",(0,n.jsx)(t.code,{children:"WatcherEx"})," interface. This interface can notify other instances when policies change, though there is currently no implementation of ",(0,n.jsx)(t.code,{children:"WatcherEx"}),". We recommend using a dispatcher to achieve this functionality."]}),"\n",(0,n.jsxs)(t.p,{children:["Compared to the ",(0,n.jsx)(t.code,{children:"Watcher"})," interface, ",(0,n.jsx)(t.code,{children:"WatcherEx"})," can distinguish the type of update action received, such as ",(0,n.jsx)(t.code,{children:"AddPolicy"})," versus ",(0,n.jsx)(t.code,{children:"RemovePolicy"}),"."]}),"\n",(0,n.jsx)(t.p,{children:"WatcherEx APIs:"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"API"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"SetUpdateCallback(func(string)) error"}),(0,n.jsx)(t.td,{children:"SetUpdateCallback configures the callback function that the watcher calls when the policy in the database has been changed by other instances. A classic callback is Enforcer.LoadPolicy()."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Update() error"}),(0,n.jsx)(t.td,{children:"Update calls the update callback of other instances to synchronize their policies. It is usually called after changing the policy in the database, such as after Enforcer.SavePolicy(), Enforcer.AddPolicy(), Enforcer.RemovePolicy(), etc."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Close()"}),(0,n.jsx)(t.td,{children:"Close stops and releases the watcher. The callback function will no longer be invoked after this."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"UpdateForAddPolicy(sec, ptype string, params ...string) error"}),(0,n.jsx)(t.td,{children:"UpdateForAddPolicy calls the update callback of other instances to synchronize their policies. It is called after a policy is added via Enforcer.AddPolicy(), Enforcer.AddNamedPolicy(), Enforcer.AddGroupingPolicy() and Enforcer.AddNamedGroupingPolicy()."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"UpdateForRemovePolicy(sec, ptype string, params ...string) error"}),(0,n.jsx)(t.td,{children:"UpdateForRemovePolicy calls the update callback of other instances to synchronize their policies. It is called after a policy is removed by Enforcer.RemovePolicy(), Enforcer.RemoveNamedPolicy(), Enforcer.RemoveGroupingPolicy() and Enforcer.RemoveNamedGroupingPolicy()."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"UpdateForRemoveFilteredPolicy(sec, ptype string, fieldIndex int, fieldValues ...string) error"}),(0,n.jsx)(t.td,{children:"UpdateForRemoveFilteredPolicy calls the update callback of other instances to synchronize their policies. It is called after Enforcer.RemoveFilteredPolicy(), Enforcer.RemoveFilteredNamedPolicy(), Enforcer.RemoveFilteredGroupingPolicy() and Enforcer.RemoveFilteredNamedGroupingPolicy()."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"UpdateForSavePolicy(model model.Model) error"}),(0,n.jsx)(t.td,{children:"UpdateForSavePolicy calls the update callback of other instances to synchronize their policies. It is called after Enforcer.SavePolicy()."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"UpdateForAddPolicies(sec string, ptype string, rules ...[]string) error"}),(0,n.jsx)(t.td,{children:"UpdateForAddPolicies calls the update callback of other instances to synchronize their policies. It is called after Enforcer.AddPolicies(), Enforcer.AddNamedPolicies(), Enforcer.AddGroupingPolicies() and Enforcer.AddNamedGroupingPolicies()."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"UpdateForRemovePolicies(sec string, ptype string, rules ...[]string) error"}),(0,n.jsx)(t.td,{children:"UpdateForRemovePolicies calls the update callback of other instances to synchronize their policies. It is called after Enforcer.RemovePolicies(), Enforcer.RemoveNamedPolicies(), Enforcer.RemoveGroupingPolicies() and Enforcer.RemoveNamedGroupingPolicies()."})]})]})]})]})}function v(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(k,{...e})}):k(e)}function w(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},4477(e,t,r){r.d(t,{V:()=>i});const i=[{title:"[Redis Watcher](https://github.com/casbin-rs/redis-watcher)",type:"KV store",author:"Casbin",description:"Watcher for [Redis](http://redis.io/)",image:"/img/ecosystem/redis.png"}].map(e=>({...e,tags:["Rust","Watcher"]}))},4788(e,t,r){r.d(t,{G:()=>i});const i=[{title:"[Etcd Watcher](https://github.com/node-casbin/etcd-watcher)",type:"KV store",author:"Casbin",description:"Watcher for [etcd](https://github.com/coreos/etcd)",image:"/img/ecosystem/etcd.png"},{title:"[Redis Watcher](https://github.com/node-casbin/redis-watcher)",type:"KV store",author:"Casbin",description:"Watcher for [Redis](http://redis.io/)",image:"/img/ecosystem/redis.png"},{title:"[Pub/Sub Watcher](https://github.com/node-casbin/pubsub-watcher)",type:"Messaging system",author:"Casbin",description:"Watcher for [Google Cloud Pub/Sub](https://cloud.google.com/pubsub/docs)",image:"/img/ecosystem/pubsub.png"},{title:"[MongoDB Change Streams Watcher](https://github.com/node-casbin/mongo-changestream-watcher)",type:"Database",author:"Casbin",description:"Watcher for [MongoDB Change Streams](https://www.mongodb.com/docs/manual/changeStreams/)",image:"/img/ecosystem/monogoDB.png"},{title:"[Postgres Watcher](https://github.com/mcollina/casbin-pg-watcher)",type:"Database",author:"[@mcollina](https://github.com/mcollina)",description:"Watcher for [PostgreSQL](https://www.postgresql.org/)",image:"/img/ecosystem/postgreSQL.png"}].map(e=>({...e,tags:["NodeJS","Watcher"]}))},5821(e,t,r){r.d(t,{v:()=>i});const i=[{title:"[PostgreSQL WatcherEx](https://github.com/IguteChung/casbin-psql-watcher)",type:"Database",author:"[@IguteChung](https://github.com/IguteChung)",description:"WatcherEx for [PostgreSQL](https://www.postgresql.org/)",image:"/img/ecosystem/postgreSQL.png"},{title:"[Redis WatcherEx](https://github.com/casbin/redis-watcher)",type:"KV store",author:"Casbin",description:"WatcherEx for [Redis](http://redis.io/)",image:"/img/ecosystem/redis.png"},{title:"[Redis Watcher](https://github.com/billcobbler/casbin-redis-watcher)",type:"KV store",author:"[@billcobbler](https://github.com/billcobbler)",description:"Watcher for [Redis](http://redis.io/)",image:"/img/ecosystem/redis.png"},{title:"[Etcd Watcher](https://github.com/casbin/etcd-watcher)",type:"KV store",author:"Casbin",description:"Watcher for [etcd](https://github.com/coreos/etcd)",image:"/img/ecosystem/etcd.png"},{title:"[TiKV Watcher](https://github.com/casbin/tikv-watcher)",type:"KV store",author:"Casbin",description:"Watcher for [TiKV](https://github.com/tikv/tikv)",image:"/img/ecosystem/tikv.png"},{title:"[Kafka Watcher](https://github.com/wgarunap/casbin-kafka-watcher)",type:"Messaging system",author:"[@wgarunap](https://github.com/wgarunap)",description:"Watcher for [Apache Kafka](https://kafka.apache.org/)",image:"/img/ecosystem/kafka.png"},{title:"[NATS Watcher](https://github.com/Soluto/casbin-nats-watcher)",type:"Messaging system",author:"[Soluto](https://github.com/Soluto)",description:"Watcher for [NATS](https://nats.io/)"},{title:"[ZooKeeper Watcher](https://github.com/grepsr/casbin-zk-watcher)",type:"Messaging system",author:"[Grepsr](https://github.com/grepsr)",description:"Watcher for [Apache ZooKeeper](https://zookeeper.apache.org/)",image:"/img/ecosystem/zookeeper.png"},{title:"[NATS, RabbitMQ, GCP Pub/Sub, AWS SNS & SQS, Kafka, InMemory](https://github.com/rusenask/casbin-go-cloud-watcher)",type:"Messaging System",author:"[@rusenask](https://github.com/rusenask/)",description:"Watcher based on [Go Cloud Dev Kit](https://gocloud.dev/) that works with leading cloud providers and self-hosted infrastructure"},{title:"[NATS, RabbitMQ, GCP Pub/Sub, AWS SNS & SQS, Kafka, InMemory](https://github.com/bartventer/casbin-go-cloud-watcher)",type:"Messaging System",author:"[@bartventer](https://github.com/bartventer/)",description:"WatcherEx based on [Go Cloud Dev Kit](https://gocloud.dev/) that works with leading cloud providers and self-hosted infrastructure"},{title:"[RocketMQ Watcher](https://github.com/fmyxyz/casbin-rocketmq-watcher)",type:"Messaging system",author:"[@fmyxyz](https://github.com/fmyxyz)",description:"Watcher for [Apache RocketMQ](https://rocketmq.apache.org/)",image:"/img/ecosystem/rocketMQ.png"}].map(e=>({...e,tags:["Go","Watcher"]}))},6163(e,t,r){r.d(t,{j:()=>i});const i=[{title:"[Redis Watcher](https://github.com/php-casbin/webman-permission)",type:"KV store",author:"[@Tinywan](https://github.com/Tinywan)",description:"Watcher for [Redis](http://redis.io/)",image:"/img/ecosystem/redis.png"}].map(e=>({...e,tags:["PHP","Watcher"]}))},6841(e,t,r){r.d(t,{Ay:()=>Xe});var i=r(6540);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},n.apply(this,arguments)}const s=["children","options"],o=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((e,t)=>(e[t.toLowerCase()]=t,e),{class:"className",for:"htmlFor"}),c={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"\xa0",quot:"\u201c"},a=["style","script","pre"],l=["src","href","data","formAction","srcDoc","action"],h=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,d=/\n{2,}$/,p=/^(\s*>[\s\S]*?)(?=\n\n|$)/,u=/^ *> ?/gm,g=/^(?:\[!([^\]]*)\]\n)?([\s\S]*)/,m=/^ {2,}\n/,f=/^(?:([-*_])( *\1){2,}) *(?:\n *)+\n/,b=/^(?: {1,3})?(`{3,}|~{3,}) *(\S+)? *([^\n]*?)?\n([\s\S]*?)(?:\1\n?|$)/,y=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,x=/^(`+)((?:\\`|(?!\1)`|[^`])+)\1/,k=/^(?:\n *)*\n/,v=/\r\n?/g,w=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,W=/^\[\^([^\]]+)]/,j=/\f/g,R=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,P=/^\s*?\[(x|\s)\]/,C=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,E=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,S=/^([^\n]+)\n *(=|-)\2{2,} *\n/,A=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,M=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,T=/^<!--[\s\S]*?(?:-->)/,z=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,K=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,N=/^\{.*\}$/,L=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,$=/^<([^ >]+[:@\/][^ >]+)>/,O=/-([a-z])?/gi,Q=/^(\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,V=/^[^\n]+(?:  \n|\n{2,})/,I=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,U=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,F=/^\[([^\]]*)\] ?\[([^\]]*)\]/,G=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,D=/\t/g,_=/(^ *\||\| *$)/g,q=/^ *:-+: *$/,B=/^ *:-+ *$/,H=/^ *-+: *$/,Z=e=>`(?=[\\s\\S]+?\\1${e?"\\1":""})`,J="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|\\\\\\1|[\\s\\S])+?)",X=RegExp(`^([*_])\\1${Z(1)}${J}\\1\\1(?!\\1)`),Y=RegExp(`^([*_])${Z(0)}${J}\\1(?!\\1)`),ee=RegExp(`^(==)${Z(0)}${J}\\1`),te=RegExp(`^(~~)${Z(0)}${J}\\1`),re=/^(:[a-zA-Z0-9-_]+:)/,ie=/^\\([^0-9A-Za-z\s])/,ne=/\\([^0-9A-Za-z\s])/g,se=/^[\s\S](?:(?!  \n|[0-9]\.|http)[^=*_~\-\n:<`\\\[!])*/,oe=/^\n+/,ce=/^([ \t]*)/,ae=/(?:^|\n)( *)$/,le="(?:\\d+\\.)",he="(?:[*+-])";function de(e){return"( *)("+(1===e?le:he)+") +"}const pe=de(1),ue=de(2);function ge(e){return RegExp("^"+(1===e?pe:ue))}const me=ge(1),fe=ge(2);function be(e){return RegExp("^"+(1===e?pe:ue)+"[^\\n]*(?:\\n(?!\\1"+(1===e?le:he)+" )[^\\n]*)*(\\n|$)","gm")}const ye=be(1),xe=be(2);function ke(e){const t=1===e?le:he;return RegExp("^( *)("+t+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+t+" (?!"+t+" ))\\n*|\\s*\\n*$)")}const ve=ke(1),we=ke(2);function We(e,t){const r=1===t,i=r?ve:we,n=r?ye:xe,s=r?me:fe;return{t:e=>s.test(e),o:Ne(function(e,t){const r=ae.exec(t.prevCapture);return r&&(t.list||!t.inline&&!t.simple)?i.exec(e=r[1]+e):null}),i:1,u(e,t,i){const o=r?+e[2]:void 0,c=e[0].replace(d,"\n").match(n);let a=!1;return{items:c.map(function(e,r){const n=s.exec(e)[0].length,o=RegExp("^ {1,"+n+"}","gm"),l=e.replace(o,"").replace(s,""),h=r===c.length-1,d=-1!==l.indexOf("\n\n")||h&&a;a=d;const p=i.inline,u=i.list;let g;i.list=!0,d?(i.inline=!1,g=Ce(l)+"\n\n"):(i.inline=!0,g=Ce(l));const m=t(g,i);return i.inline=p,i.list=u,m}),ordered:r,start:o}},l:(t,r,i)=>e(t.ordered?"ol":"ul",{key:i.key,start:"20"===t.type?t.start:void 0},t.items.map(function(t,n){return e("li",{key:n},r(t,i))}))}}const je=RegExp("^\\[((?:\\[[^\\[\\]]*(?:\\[[^\\[\\]]*\\][^\\[\\]]*)*\\]|[^\\[\\]])*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*\\)"),Re=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/;function Pe(e){return"string"==typeof e}function Ce(e){let t=e.length;for(;t>0&&e[t-1]<=" ";)t--;return e.slice(0,t)}function Ee(e,t){return e.startsWith(t)}function Se(e,t,r){if(Array.isArray(r)){for(let t=0;t<r.length;t++)if(Ee(e,r[t]))return!0;return!1}return r(e,t)}function Ae(e){return e.replace(/[\xc0\xc1\xc2\xc3\xc4\xc5\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xc6]/g,"a").replace(/[\xe7\xc7]/g,"c").replace(/[\xf0\xd0]/g,"d").replace(/[\xc8\xc9\xca\xcb\xe9\xe8\xea\xeb]/g,"e").replace(/[\xcf\xef\xce\xee\xcd\xed\xcc\xec]/g,"i").replace(/[\xd1\xf1]/g,"n").replace(/[\xf8\xd8\u0153\u0152\xd5\xf5\xd4\xf4\xd3\xf3\xd2\xf2]/g,"o").replace(/[\xdc\xfc\xdb\xfb\xda\xfa\xd9\xf9]/g,"u").replace(/[\u0178\xff\xdd\xfd]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function Me(e){return H.test(e)?"right":q.test(e)?"center":B.test(e)?"left":null}function Te(e,t,r,i){const n=r.inTable;r.inTable=!0;let s=[[]],o="";function c(){if(!o)return;const e=s[s.length-1];e.push.apply(e,t(o,r)),o=""}return e.trim().split(/(`[^`]*`|\\\||\|)/).filter(Boolean).forEach((e,t,r)=>{"|"===e.trim()&&(c(),i)?0!==t&&t!==r.length-1&&s.push([]):o+=e}),c(),r.inTable=n,s}function ze(e,t,r){r.inline=!0;const i=e[2]?e[2].replace(_,"").split("|").map(Me):[],n=e[3]?function(e,t,r){return e.trim().split("\n").map(function(e){return Te(e,t,r,!0)})}(e[3],t,r):[],s=Te(e[1],t,r,!!n.length);return r.inline=!1,n.length?{align:i,cells:n,header:s,type:"25"}:{children:s,type:"21"}}function Ke(e,t){return null==e.align[t]?{}:{textAlign:e.align[t]}}function Ne(e){return e.inline=1,e}function Le(e){return Ne(function(t,r){return r.inline?e.exec(t):null})}function $e(e){return Ne(function(t,r){return r.inline||r.simple?e.exec(t):null})}function Oe(e){return function(t,r){return r.inline||r.simple?null:e.exec(t)}}function Qe(e){return Ne(function(t){return e.exec(t)})}const Ve=/(javascript|vbscript|data(?!:image)):/i;function Ie(e){try{const t=decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"");if(Ve.test(t))return null}catch(e){return null}return e}function Ue(e){return e?e.replace(ne,"$1"):e}function Fe(e,t,r){const i=r.inline||!1,n=r.simple||!1;r.inline=!0,r.simple=!0;const s=e(t,r);return r.inline=i,r.simple=n,s}function Ge(e,t,r){const i=r.inline||!1,n=r.simple||!1;r.inline=!1,r.simple=!0;const s=e(t,r);return r.inline=i,r.simple=n,s}function De(e,t,r){const i=r.inline||!1;r.inline=!1;const n=e(t,r);return r.inline=i,n}const _e=(e,t,r)=>({children:Fe(t,e[2],r)});function qe(){return{}}function Be(){return null}function He(...e){return e.filter(Boolean).join(" ")}function Ze(e,t,r){let i=e;const n=t.split(".");for(;n.length&&(i=i[n[0]],void 0!==i);)n.shift();return i||r}function Je(e="",t={}){t.overrides=t.overrides||{},t.namedCodesToUnicode=t.namedCodesToUnicode?n({},c,t.namedCodesToUnicode):c;const r=t.slugify||Ae,s=t.sanitizer||Ie,d=t.createElement||i.createElement,_=[p,b,y,t.enforceAtxHeadings?E:C,S,Q,ve,we],q=[..._,V,A,T,K];function B(e,t){for(let r=0;r<e.length;r++)if(e[r].test(t))return!0;return!1}function H(e,r,...i){const s=Ze(t.overrides,e+".props",{});return d(function(e,t){const r=Ze(t,e);return r?"function"==typeof r||"object"==typeof r&&"render"in r?r:Ze(t,e+".component",e):e}(e,t.overrides),n({},r,s,{className:He(null==r?void 0:r.className,s.className)||void 0}),...i)}function Z(e){e=e.replace(R,"");let r=!1;t.forceInline?r=!0:t.forceBlock||(r=!1===G.test(e));const i=de(he(r?e:Ce(e).replace(oe,"")+"\n\n",{inline:r}));for(;Pe(i[i.length-1])&&!i[i.length-1].trim();)i.pop();if(null===t.wrapper)return i;const n=t.wrapper||(r?"span":"div");let s;if(i.length>1||t.forceWrapper)s=i;else{if(1===i.length)return s=i[0],"string"==typeof s?H("span",{key:"outer"},s):s;s=null}return d(n,{key:"outer"},s)}function J(e,t){if(!t||!t.trim())return null;const r=t.match(h);return r?r.reduce(function(t,r){const i=r.indexOf("=");if(-1!==i){const n=function(e){return-1!==e.indexOf("-")&&null===e.match(z)&&(e=e.replace(O,function(e,t){return t.toUpperCase()})),e}(r.slice(0,i)).trim(),c=function(e){const t=e[0];return('"'===t||"'"===t)&&e.length>=2&&e[e.length-1]===t?e.slice(1,-1):e}(r.slice(i+1).trim()),a=o[n]||n;if("ref"===a)return t;const h=t[a]=function(e,t,r,i){return"style"===t?function(e){const t=[];let r="",i=!1,n=!1,s="";if(!e)return t;for(let c=0;c<e.length;c++){const o=e[c];if('"'!==o&&"'"!==o||i||(n?o===s&&(n=!1,s=""):(n=!0,s=o)),"("===o&&r.endsWith("url")?i=!0:")"===o&&i&&(i=!1),";"!==o||n||i)r+=o;else{const e=r.trim();if(e){const r=e.indexOf(":");if(r>0){const i=e.slice(0,r).trim(),n=e.slice(r+1).trim();t.push([i,n])}}r=""}}const o=r.trim();if(o){const e=o.indexOf(":");if(e>0){const r=o.slice(0,e).trim(),i=o.slice(e+1).trim();t.push([r,i])}}return t}(r).reduce(function(t,[r,n]){return t[r.replace(/(-[a-z])/g,e=>e[1].toUpperCase())]=i(n,e,r),t},{}):-1!==l.indexOf(t)?i(Ue(r),e,t):(r.match(N)&&(r=Ue(r.slice(1,r.length-1))),"true"===r||"false"!==r&&r)}(e,n,c,s);"string"==typeof h&&(A.test(h)||K.test(h))&&(t[a]=Z(h.trim()))}else"style"!==r&&(t[o[r]||r]=!0);return t},{}):null}const ne=[],ae={},le={0:{t:[">"],o:Oe(p),i:1,u(e,t,r){const[,i,n]=e[0].replace(u,"").match(g);return{alert:i,children:t(n,r)}},l(e,t,i){const n={key:i.key};return e.alert&&(n.className="markdown-alert-"+r(e.alert.toLowerCase(),Ae),e.children.unshift({attrs:{},children:[{type:"27",text:e.alert}],noInnerParse:!0,type:"11",tag:"header"})),H("blockquote",n,t(e.children,i))}},1:{t:["  "],o:Qe(m),i:1,u:qe,l:(e,t,r)=>H("br",{key:r.key})},2:{t:["--","__","**","- ","* ","_ "],o:Oe(f),i:1,u:qe,l:(e,t,r)=>H("hr",{key:r.key})},3:{t:["    "],o:Oe(y),i:0,u:e=>({lang:void 0,text:Ue(Ce(e[0].replace(/^ {4}/gm,"")))}),l:(e,t,r)=>H("pre",{key:r.key},H("code",n({},e.attrs,{className:e.lang?"lang-"+e.lang:""}),e.text))},4:{t:["```","~~~"],o:Oe(b),i:0,u:e=>({attrs:J("code",e[3]||""),lang:e[2]||void 0,text:e[4],type:"3"})},5:{t:["`"],o:$e(x),i:3,u:e=>({text:Ue(e[2])}),l:(e,t,r)=>H("code",{key:r.key},e.text)},6:{t:["[^"],o:Oe(w),i:0,u:e=>(ne.push({footnote:e[2],identifier:e[1]}),{}),l:Be},7:{t:["[^"],o:Le(W),i:1,u:e=>({target:"#"+r(e[1],Ae),text:e[1]}),l:(e,t,r)=>H("a",{key:r.key,href:s(e.target,"a","href")},H("sup",{key:r.key},e.text))},8:{t:["[ ]","[x]"],o:Le(P),i:1,u:e=>({completed:"x"===e[1].toLowerCase()}),l:(e,t,r)=>H("input",{checked:e.completed,key:r.key,readOnly:!0,type:"checkbox"})},9:{t:["#"],o:Oe(t.enforceAtxHeadings?E:C),i:1,u:(e,t,i)=>({children:Fe(t,e[2],i),id:r(e[2],Ae),level:e[1].length}),l:(e,t,r)=>H("h"+e.level,{id:e.id,key:r.key},t(e.children,r))},10:{t:e=>{const t=e.indexOf("\n");return t>0&&t<e.length-1&&("="===e[t+1]||"-"===e[t+1])},o:Oe(S),i:1,u:(e,t,r)=>({children:Fe(t,e[1],r),level:"="===e[2]?1:2,type:"9"})},11:{t:["<"],o:Qe(A),i:1,u(e,t,r){const[,i]=e[3].match(ce),n=RegExp("^"+i,"gm"),s=e[3].replace(n,""),o=B(q,s)?De:Fe,c=e[1].toLowerCase(),l=-1!==a.indexOf(c),h=(l?c:e[1]).trim(),d={attrs:J(h,e[2]),noInnerParse:l,tag:h};if(r.inAnchor=r.inAnchor||"a"===c,l)d.text=e[3];else{const e=r.inHTML;r.inHTML=!0,d.children=o(t,s,r),r.inHTML=e}return r.inAnchor=!1,d},l:(e,t,r)=>H(e.tag,n({key:r.key},e.attrs),e.text||(e.children?t(e.children,r):""))},13:{t:["<"],o:Qe(K),i:1,u(e){const t=e[1].trim();return{attrs:J(t,e[2]||""),tag:t}},l:(e,t,r)=>H(e.tag,n({},e.attrs,{key:r.key}))},12:{t:["\x3c!--"],o:Qe(T),i:1,u:()=>({}),l:Be},14:{t:["!["],o:$e(Re),i:1,u:e=>({alt:Ue(e[1]),target:Ue(e[2]),title:Ue(e[3])}),l:(e,t,r)=>H("img",{key:r.key,alt:e.alt||void 0,title:e.title||void 0,src:s(e.target,"img","src")})},15:{t:["["],o:Le(je),i:3,u:(e,t,r)=>({children:Ge(t,e[1],r),target:Ue(e[2]),title:Ue(e[3])}),l:(e,t,r)=>H("a",{key:r.key,href:s(e.target,"a","href"),title:e.title},t(e.children,r))},16:{t:["<"],o:Le($),i:0,u(e){let t=e[1],r=!1;return-1!==t.indexOf("@")&&-1===t.indexOf("//")&&(r=!0,t=t.replace("mailto:","")),{children:[{text:t,type:"27"}],target:r?"mailto:"+t:t,type:"15"}}},17:{t:(e,r)=>!r.inAnchor&&!t.disableAutoLink&&(Ee(e,"http://")||Ee(e,"https://")),o:Le(L),i:0,u:e=>({children:[{text:e[1],type:"27"}],target:e[1],title:void 0,type:"15"})},20:We(H,1),33:We(H,2),19:{t:["\n"],o:Oe(k),i:3,u:qe,l:()=>"\n"},21:{o:Ne(function(e,t){if(t.inline||t.simple||t.inHTML&&-1===e.indexOf("\n\n")&&-1===t.prevCapture.indexOf("\n\n"))return null;let r="",i=0;for(;;){const t=e.indexOf("\n",i),n=e.slice(i,-1===t?void 0:t+1);if(B(_,n))break;if(r+=n,-1===t||!n.trim())break;i=t+1}const n=Ce(r);return""===n?null:[r,,n]}),i:3,u:_e,l:(e,t,r)=>H("p",{key:r.key},t(e.children,r))},22:{t:["["],o:Le(I),i:0,u:e=>(ae[e[1]]={target:e[2],title:e[4]},{}),l:Be},23:{t:["!["],o:$e(U),i:0,u:e=>({alt:e[1]?Ue(e[1]):void 0,ref:e[2]}),l:(e,t,r)=>ae[e.ref]?H("img",{key:r.key,alt:e.alt,src:s(ae[e.ref].target,"img","src"),title:ae[e.ref].title}):null},24:{t:e=>"["===e[0]&&-1===e.indexOf("]("),o:Le(F),i:0,u:(e,t,r)=>({children:t(e[1],r),fallbackChildren:e[0],ref:e[2]}),l:(e,t,r)=>ae[e.ref]?H("a",{key:r.key,href:s(ae[e.ref].target,"a","href"),title:ae[e.ref].title},t(e.children,r)):H("span",{key:r.key},e.fallbackChildren)},25:{t:["|"],o:Oe(Q),i:1,u:ze,l(e,t,r){const i=e;return H("table",{key:r.key},H("thead",null,H("tr",null,i.header.map(function(e,n){return H("th",{key:n,style:Ke(i,n)},t(e,r))}))),H("tbody",null,i.cells.map(function(e,n){return H("tr",{key:n},e.map(function(e,n){return H("td",{key:n,style:Ke(i,n)},t(e,r))}))})))}},27:{o:Ne(function(e,t){let r;return Ee(e,":")&&(r=re.exec(e)),r||se.exec(e)}),i:4,u(e){const r=e[0];return{text:-1===r.indexOf("&")?r:r.replace(M,(e,r)=>t.namedCodesToUnicode[r]||e)}},l:e=>e.text},28:{t:["**","__"],o:$e(X),i:2,u:(e,t,r)=>({children:t(e[2],r)}),l:(e,t,r)=>H("strong",{key:r.key},t(e.children,r))},29:{t:e=>{const t=e[0];return("*"===t||"_"===t)&&e[1]!==t},o:$e(Y),i:3,u:(e,t,r)=>({children:t(e[2],r)}),l:(e,t,r)=>H("em",{key:r.key},t(e.children,r))},30:{t:["\\"],o:$e(ie),i:1,u:e=>({text:e[1],type:"27"})},31:{t:["=="],o:$e(ee),i:3,u:_e,l:(e,t,r)=>H("mark",{key:r.key},t(e.children,r))},32:{t:["~~"],o:$e(te),i:3,u:_e,l:(e,t,r)=>H("del",{key:r.key},t(e.children,r))}};!0===t.disableParsingRawHTML&&(delete le[11],delete le[13]);const he=function(e){var t=Object.keys(e);function r(i,n){var s=[];if(n.prevCapture=n.prevCapture||"",i.trim())for(;i;)for(var o=0;o<t.length;){var c=t[o],a=e[c];if(!a.t||Se(i,n,a.t)){var l=a.o(i,n);if(l&&l[0]){i=i.substring(l[0].length);var h=a.u(l,r,n);n.prevCapture+=l[0],h.type||(h.type=c),s.push(h);break}o++}else o++}return n.prevCapture="",s}return t.sort(function(t,r){return e[t].i-e[r].i||(t<r?-1:1)}),function(e,t){return r(function(e){return e.replace(v,"\n").replace(j,"").replace(D,"    ")}(e),t)}}(le),de=function(e,t){return function r(i,n={}){if(Array.isArray(i)){const e=n.key,t=[];let s=!1;for(let o=0;o<i.length;o++){n.key=o;const e=r(i[o],n),c=Pe(e);c&&s?t[t.length-1]+=e:null!==e&&t.push(e),s=c}return n.key=e,t}return function(r,i,n){const s=e[r.type].l;return t?t(()=>s(r,i,n),r,i,n):s(r,i,n)}(i,r,n)}}(le,t.renderRule),pe=Z(e);return ne.length?H("div",null,pe,H("footer",{key:"footer"},ne.map(function(e){return H("div",{id:r(e.identifier,Ae),key:e.identifier},e.identifier,de(he(e.footnote,{inline:!0})))}))):pe}const Xe=e=>{let{children:t,options:r}=e,n=function(e,t){if(null==e)return{};var r,i,n={},s=Object.keys(e);for(i=0;i<s.length;i++)t.indexOf(r=s[i])>=0||(n[r]=e[r]);return n}(e,s);return i.cloneElement(Je(null==t?"":t,r),n)}},7611(e,t,r){r.d(t,{J:()=>i});const i=[{title:"[Etcd Adapter](https://github.com/mapleafgo/jcasbin-extra)",type:"KV store",author:"[@mapleafgo](https://github.com/mapleafgo)",description:"Watcher for [etcd](https://github.com/coreos/etcd)",image:"/img/ecosystem/etcd.png"},{title:"[Redis Watcher](https://github.com/jcasbin/redis-watcher)",type:"KV store",author:"Casbin",description:"Watcher for [Redis](http://redis.io/)",image:"/img/ecosystem/redis.png"},{title:"[Redis WatcherEx](https://github.com/jcasbin/redis-watcher-ex)",type:"KV store",author:"Casbin",description:"WatcherEx for [Redis](http://redis.io/)",image:"/img/ecosystem/redis.png"},{title:"[Lettuce-Based Redis Watcher](https://github.com/jcasbin/lettuce-redis-watcher)",type:"KV store",author:"Casbin",description:"Watcher for [Redis](http://redis.io/) based on [Lettuce](https://lettuce.io/))",image:"/img/ecosystem/lettuce.png"},{title:"[PostgreSQL Watcher](https://github.com/jcasbin/jcasbin-postgres-watcher)",type:"Database",author:"Casbin",description:"Watcher for [PostgreSQL](https://www.postgresql.org/)",image:"/img/ecosystem/postgreSQL.png"},{title:"[Kafka Watcher](https://github.com/jcasbin/kafka-watcher)",type:"Messaging system",author:"Casbin",description:"Watcher for [Apache Kafka](https://kafka.apache.org/)",image:"/img/ecosystem/kafka.png"},{title:"[ZooKeeper Watcher](https://github.com/jcasbin/zookeeper-watcher)",type:"Messaging system",author:"Casbin",description:"Watcher for [Apache ZooKeeper](https://zookeeper.apache.org/)",image:"/img/ecosystem/zookeeper.png"},{title:"[RabbitMQ Watcher](https://github.com/jcasbin/jcasbin-rabbitmq-watcher)",type:"Messaging system",author:"Casbin",description:"Watcher for [RabbitMQ](https://www.rabbitmq.com/)",image:"/img/ecosystem/rabbitMQ.png"}].map(e=>({...e,tags:["Java","Watcher"]}))},8453(e,t,r){r.d(t,{R:()=>o,x:()=>c});var i=r(6540);const n={},s=i.createContext(n);function o(e){const t=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),i.createElement(s.Provider,{value:t},e.children)}},9226(e,t,r){r.d(t,{A:()=>c,i:()=>s});r(6540);var i=r(6841),n=r(4848);const s=e=>e.startsWith("http://")||e.startsWith("https://"),o=({children:e,href:t,...r})=>s(t)?(0,n.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",...r,children:e}):(0,n.jsx)("a",{href:t,...r,children:e}),c=({children:e})=>(0,n.jsx)(i.Ay,{options:{overrides:{a:{component:o}}},children:e})}}]);