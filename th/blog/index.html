<!doctype html>
<html lang="th" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">บล็อก | Casbin</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://casbin.org/th/blog"><meta data-rh="true" property="og:locale" content="th"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" property="og:locale:alternate" content="ko"><meta data-rh="true" property="og:locale:alternate" content="ru"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="pt"><meta data-rh="true" property="og:locale:alternate" content="uk"><meta data-rh="true" property="og:locale:alternate" content="ar"><meta data-rh="true" property="og:locale:alternate" content="id"><meta data-rh="true" property="og:locale:alternate" content="vi"><meta data-rh="true" property="og:locale:alternate" content="it"><meta data-rh="true" property="og:locale:alternate" content="ms"><meta data-rh="true" property="og:locale:alternate" content="tr"><meta data-rh="true" name="docusaurus_locale" content="th"><meta data-rh="true" name="docsearch:language" content="th"><meta data-rh="true" name="Casbin" content="An authorization library that supports access control models like ACL, RBAC, ABAC, ReBAC, PBAC, OrBAC, BLP, Biba, LBAC, UCON for Golang, Java, C/C++, Node.js, Javascript, PHP, Laravel, Python, .NET (C#), Delphi, Rust, Ruby, Swift (Objective-C), Lua (OpenResty), Dart (Flutter) and Elixir"><meta data-rh="true" property="og:title" content="บล็อก | Casbin"><meta data-rh="true" name="description" content="บล็อก"><meta data-rh="true" property="og:description" content="บล็อก"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/th/img/favicon.png"><link data-rh="true" rel="canonical" href="https://casbin.org/th/blog"><link data-rh="true" rel="alternate" href="https://casbin.org/blog" hreflang="en"><link data-rh="true" rel="alternate" href="https://casbin.org/zh/blog" hreflang="zh"><link data-rh="true" rel="alternate" href="https://casbin.org/ko/blog" hreflang="ko"><link data-rh="true" rel="alternate" href="https://casbin.org/ru/blog" hreflang="ru"><link data-rh="true" rel="alternate" href="https://casbin.org/fr/blog" hreflang="fr"><link data-rh="true" rel="alternate" href="https://casbin.org/de/blog" hreflang="de"><link data-rh="true" rel="alternate" href="https://casbin.org/ja/blog" hreflang="ja"><link data-rh="true" rel="alternate" href="https://casbin.org/es/blog" hreflang="es"><link data-rh="true" rel="alternate" href="https://casbin.org/pt/blog" hreflang="pt"><link data-rh="true" rel="alternate" href="https://casbin.org/uk/blog" hreflang="uk"><link data-rh="true" rel="alternate" href="https://casbin.org/th/blog" hreflang="th"><link data-rh="true" rel="alternate" href="https://casbin.org/ar/blog" hreflang="ar"><link data-rh="true" rel="alternate" href="https://casbin.org/id/blog" hreflang="id"><link data-rh="true" rel="alternate" href="https://casbin.org/vi/blog" hreflang="vi"><link data-rh="true" rel="alternate" href="https://casbin.org/it/blog" hreflang="it"><link data-rh="true" rel="alternate" href="https://casbin.org/ms/blog" hreflang="ms"><link data-rh="true" rel="alternate" href="https://casbin.org/tr/blog" hreflang="tr"><link data-rh="true" rel="alternate" href="https://casbin.org/blog" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://6NBEV8TOFK-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"Blog","@id":"https://casbin.org/th/blog","mainEntityOfPage":"https://casbin.org/th/blog","headline":"บล็อก","description":"บล็อก","blogPost":[{"@type":"BlogPosting","@id":"https://casbin.org/th/blog/casbin-2025-ai-agent-era","mainEntityOfPage":"https://casbin.org/th/blog/casbin-2025-ai-agent-era","url":"https://casbin.org/th/blog/casbin-2025-ai-agent-era","headline":"Casbin in 2025: Authorization for the AI Agent Era","name":"Casbin in 2025: Authorization for the AI Agent Era","description":"2024 was the year AI agents went from demos to production. With the Model Context Protocol (MCP) gaining adoption from Google, OpenAI, Microsoft, and countless others, we're seeing a fundamental shift in how applications interact with external services. And with that shift comes a whole new set of authorization challenges that we at Casbin have been thinking about.","datePublished":"2025-12-11T00:00:00.000Z","author":{"@type":"Person","name":"Yang Luo","url":"http://github.com/hsluoyz","image":"https://avatars.githubusercontent.com/hsluoyz"},"keywords":[]},{"@type":"BlogPosting","@id":"https://casbin.org/th/blog/2023/12/08/understanding-casbin-matching-in-detail","mainEntityOfPage":"https://casbin.org/th/blog/2023/12/08/understanding-casbin-matching-in-detail","url":"https://casbin.org/th/blog/2023/12/08/understanding-casbin-matching-in-detail","headline":"Understanding How Casbin Matching Works in Detail","name":"Understanding How Casbin Matching Works in Detail","description":"In this post, I will explain the design and implementation of RBAC using the Casbin library. For a SaaS platform dealing with multiple resource hierarchies and roles that inherit permissions from higher levels, Casbin provides a performant alternative to consider.","datePublished":"2023-12-08T00:00:00.000Z","author":{"@type":"Person","name":"Aravinda Kumar","url":"http://github.com/aravindarc","image":"https://avatars.githubusercontent.com/aravindarc"},"keywords":[]},{"@type":"BlogPosting","@id":"https://casbin.org/th/blog/2021/08/19/apisix-casbin-authorization","mainEntityOfPage":"https://casbin.org/th/blog/2021/08/19/apisix-casbin-authorization","url":"https://casbin.org/th/blog/2021/08/19/apisix-casbin-authorization","headline":"การอนุญาตใน APISIX โดยใช้ Casbin","name":"การอนุญาตใน APISIX โดยใช้ Casbin","description":"บทนำ","datePublished":"2021-08-19T00:00:00.000Z","author":{"@type":"Person","name":"Rushikesh Tote","description":"สมาชิกของ Casbin","url":"http://github.com/rushitote","image":"https://avatars.githubusercontent.com/rushitote"},"keywords":[]},{"@type":"BlogPosting","@id":"https://casbin.org/th/blog/2020/04/21/google-award","mainEntityOfPage":"https://casbin.org/th/blog/2020/04/21/google-award","url":"https://casbin.org/th/blog/2020/04/21/google-award","headline":"Yang Luo - ผู้ชนะรางวัล Google Open Source Peer Bonus","name":"Yang Luo - ผู้ชนะรางวัล Google Open Source Peer Bonus","description":"วันนี้, เรายินดีที่จะประกาศว่าผู้ก่อตั้ง Casbin, Yang Luo ได้รับรางวัล \"Google Open Source Peer Bonus winners\" สำหรับงานของเขาใน Casbin, Npcap และ Nmap ในปี 2019 Q3.","datePublished":"2020-04-21T00:00:00.000Z","author":{"@type":"Person","name":"Casbin","description":"บัญชีอย่างเป็นทางการ","url":"http://github.com/casbin","image":"https://avatars.githubusercontent.com/casbin"},"keywords":[]},{"@type":"BlogPosting","@id":"https://casbin.org/th/blog/2018/09/23/new-website","mainEntityOfPage":"https://casbin.org/th/blog/2018/09/23/new-website","url":"https://casbin.org/th/blog/2018/09/23/new-website","headline":"ปรับปรุงเอกสารของเรา","name":"ปรับปรุงเอกสารของเรา","description":"วันนี้เราได้ย้ายเอกสารของ Casbin จาก GitHub Wiki ไปยัง Docs ของเว็บไซต์นี้ ซึ่งใช้ Docusaurus Docusaurus มีคุณสมบัติที่ยอดเยี่ยมมากมาย เช่น สไตล์ Markdown ที่ดีกว่า การค้นหาข้อความเต็มรูปแบบ การจัดเวอร์ชัน การแปลภาษา","datePublished":"2018-09-23T00:00:00.000Z","author":{"@type":"Person","name":"Yang Luo","description":"ผู้สร้าง Casbin","url":"http://github.com/hsluoyz","image":"https://avatars.githubusercontent.com/hsluoyz"},"keywords":[]},{"@type":"BlogPosting","@id":"https://casbin.org/th/blog/2018/08/27/node-casbin","mainEntityOfPage":"https://casbin.org/th/blog/2018/08/27/node-casbin","url":"https://casbin.org/th/blog/2018/08/27/node-casbin","headline":"node-Casbin: สมาชิกใหม่ของครอบครัว Casbin","name":"node-Casbin: สมาชิกใหม่ของครอบครัว Casbin","description":"วันนี้เราได้ทำการย้าย Casbin ไปยัง Node.js สำเร็จ ซึ่งมีชื่อว่า: node-Casbin.","datePublished":"2018-08-27T00:00:00.000Z","author":{"@type":"Person","name":"Zixuan Liu","description":"Casbin Maintainer","url":"http://github.com/nodece","image":"https://avatars.githubusercontent.com/nodece"},"keywords":[]},{"@type":"BlogPosting","@id":"https://casbin.org/th/blog/2018/08/07/launching-casbin-server","mainEntityOfPage":"https://casbin.org/th/blog/2018/08/07/launching-casbin-server","url":"https://casbin.org/th/blog/2018/08/07/launching-casbin-server","headline":"เซิร์ฟเวอร์ Casbin เปิดตัวแล้ว!","name":"เซิร์ฟเวอร์ Casbin เปิดตัวแล้ว!","description":"ลูกค้าบางรายถามว่า Casbin สามารถใช้เป็นบริการแทนที่จะเป็นไลบรารีได้หรือไม่ คำตอบคือ ใช่. วันนี้เราได้เปิดตัวโปรเจค เซิร์ฟเวอร์ Casbin เป็นโซลูชันที่ชัดเจนสำหรับ การควบคุมการเข้าถึงเป็นบริการ.","datePublished":"2018-08-07T00:00:00.000Z","author":{"@type":"Person","name":"Helong Zhang","description":"ผู้ดูแลรักษา Casbin","url":"http://github.com/BetaCat0","image":"https://avatars.githubusercontent.com/BetaCat0"},"keywords":[]}]}</script><link rel="alternate" type="application/rss+xml" href="/th/blog/rss.xml" title="Casbin RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/th/blog/atom.xml" title="Casbin Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8S2TKCJ27X"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-8S2TKCJ27X",{})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Casbin" href="/th/opensearch.xml">
<script src="/js/hotjar.js" async></script>
<script src="/js/probe.js" async></script>
<script src="/js/clarity.js" async></script><link rel="stylesheet" href="/th/assets/css/styles.084680b2.css">
<script src="/th/assets/js/runtime~main.301ac335.js" defer="defer"></script>
<script src="/th/assets/js/main.9058916a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="ข้ามไปยังเนื้อหาหลัก"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">ข้ามไปยังเนื้อหาหลัก</a></div><nav aria-label="หลัก" class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="สลับแถบนำทาง" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/th/"><div class="navbar__logo"><img src="/th/img/casbin.svg" alt="โลโก้เว็บไซต์ของฉัน" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/th/img/casbin.svg" alt="โลโก้เว็บไซต์ของฉัน" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Casbin</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/th/docs/overview">เอกสาร</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/th/docs/get-started">เริ่มต้นใช้งาน</a></li><li><a class="dropdown__link" href="/th/docs/category/model">โมเดล</a></li><li><a class="dropdown__link" href="/th/docs/category/storage">ที่เก็บข้อมูล</a></li><li><a class="dropdown__link" href="/th/docs/adapters">อะแดปเตอร์</a></li><li><a class="dropdown__link" href="/th/docs/category/api">API</a></li><li><a class="dropdown__link" href="/th/docs/ide-plugins">ปลั๊กอิน IDE</a></li><li><a class="dropdown__link" href="/th/docs/contributing">เริ่มต้นการมีส่วนร่วม</a></li></ul></div><a class="navbar__item navbar__link" href="/th/ecosystem">ระบบนิเวศ</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/th/blog">บล็อก</a><a class="navbar__item navbar__link" href="/th/help">ช่วยเหลือ</a><a class="navbar__item navbar__link" href="/th/editor">ตัวแก้ไข</a><a class="navbar__item navbar__link" href="/th/gallery">Gallery</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>ไทย</a><ul class="dropdown__menu"><li><a href="/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">中文</a></li><li><a href="/ko/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">한국어</a></li><li><a href="/ru/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ru">Русский</a></li><li><a href="/fr/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/de/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="/ja/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/es/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/pt/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">Português</a></li><li><a href="/uk/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="uk">Українська</a></li><li><a href="/th/blog" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="th">ไทย</a></li><li><a href="/ar/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ar">العربية</a></li><li><a href="/id/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="id">Indonesia</a></li><li><a href="/vi/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="vi">Tiếng Việt</a></li><li><a href="/it/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="it">Italiano</a></li><li><a href="/ms/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ms">Melayu</a></li><li><a href="/tr/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="tr">Türkçe</a></li><li class=""><hr style="margin: 0.3rem 0;"></li><li><a href="https://crowdin.com/project/casbin-website" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help Us Translate<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><a href="https://github.com/casbin/casbin" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://discord.gg/S5UjpzGZjN" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-community-discord"></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="ค้นหา (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">ค้นหา</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="สลับระหว่างโหมดมืดและโหมดสว่าง (ขณะนี้ system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="การนำทางโพสต์ล่าสุดของบล็อก"><div class="sidebarItemTitle_pO2u margin-bottom--md">โพสต์ล่าสุด</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/th/blog/casbin-2025-ai-agent-era">Casbin in 2025: Authorization for the AI Agent Era</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2023</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/th/blog/2023/12/08/understanding-casbin-matching-in-detail">Understanding How Casbin Matching Works in Detail</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2021</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/th/blog/2021/08/19/apisix-casbin-authorization">การอนุญาตใน APISIX โดยใช้ Casbin</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2020</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/th/blog/2020/04/21/google-award">Yang Luo - ผู้ชนะรางวัล Google Open Source Peer Bonus</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2018</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/th/blog/2018/09/23/new-website">ปรับปรุงเอกสารของเรา</a></li></ul></div></nav></aside><main class="col col--7"><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/th/blog/casbin-2025-ai-agent-era">Casbin in 2025: Authorization for the AI Agent Era</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-12-11T00:00:00.000Z">11 ธันวาคม 2568</time> · <!-- -->อ่าน 1 นาที</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="http://github.com/hsluoyz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/hsluoyz" alt="Yang Luo"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="http://github.com/hsluoyz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Yang Luo</span></a></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>2024 was the year AI agents went from demos to production. With the Model Context Protocol (MCP) gaining adoption from Google, OpenAI, Microsoft, and countless others, we&#x27;re seeing a fundamental shift in how applications interact with external services. And with that shift comes a whole new set of authorization challenges that we at Casbin have been thinking about.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>แท็ก:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/th/blog/tags/casbin">casbin</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/th/blog/tags/roadmap">roadmap</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/th/blog/tags/ai">AI</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/th/blog/tags/mcp">MCP</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/th/blog/tags/edge-computing">edge-computing</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/th/blog/tags/llm">LLM</a></li></ul></div><div class="col text--right col--3"><a aria-label="อ่านเพิ่มเติมเกี่ยวกับ Casbin in 2025: Authorization for the AI Agent Era" href="/th/blog/casbin-2025-ai-agent-era"><b>Read more</b></a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/th/blog/2023/12/08/understanding-casbin-matching-in-detail">Understanding How Casbin Matching Works in Detail</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-12-08T00:00:00.000Z">8 ธันวาคม 2566</time> · <!-- -->อ่าน 1 นาที</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="http://github.com/aravindarc" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/aravindarc" alt="Aravinda Kumar"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="http://github.com/aravindarc" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Aravinda Kumar</span></a></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>In this post, I will explain the design and implementation of RBAC using the <a href="https://casbin.org/" target="_blank" rel="noopener noreferrer" class="">Casbin</a> library. For a SaaS platform dealing with multiple resource hierarchies and roles that inherit permissions from higher levels, Casbin provides a performant alternative to consider.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="introduction-to-rbac">Introduction to RBAC<a href="#introduction-to-rbac" class="hash-link" aria-label="ลิงก์ตรงไปยัง Introduction to RBAC" title="ลิงก์ตรงไปยัง Introduction to RBAC" translate="no">​</a></h2>
<p>RBAC is a method of restricting access to resources based on the roles that individuals hold. To better understand how hierarchical RBAC works, let&#x27;s take a look at Azure&#x27;s RBAC system in the next section and then attempt to implement a similar system.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="understanding-azures-hierarchical-rbac">Understanding Azure&#x27;s Hierarchical RBAC<a href="#understanding-azures-hierarchical-rbac" class="hash-link" aria-label="ลิงก์ตรงไปยัง Understanding Azure&#x27;s Hierarchical RBAC" title="ลิงก์ตรงไปยัง Understanding Azure&#x27;s Hierarchical RBAC" translate="no">​</a></h2>
<p><img decoding="async" loading="lazy" src="https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/ready/azure-setup-guide/media/organize-resources/scope-levels.png" alt="Azure Hierarchy" class="img_ev3q"></p>
<p>There is a role called <strong>Owner</strong> for all resources in Azure. Suppose if I have the <strong>Owner</strong> role assigned to me at the
subscription level, that means I am the <strong>Owner</strong> of all the resource groups and resources under that subscription. If I have
<strong>Owner</strong> at the resource group level, then I am the <strong>Owner</strong> of all the resources under that resource group.</p>
<p>This image shows that I have <strong>Owner</strong> access at the subscription level. <img decoding="async" loading="lazy" alt="Subscription Owner" src="/th/assets/images/subscription-owner-f1a7e1c9c03d7c587ce910ae5e6d8a35.png" width="3456" height="1836" class="img_ev3q"></p>
<p>When I check the IAM of a Resource Group under this Subscription, you can see that I have inherited <strong>Owner</strong> access from the
subscription. <img decoding="async" loading="lazy" alt="RG Owner" src="/th/assets/images/rg-owner-9c6cd2ae5997a5fba717c445f43130e6.png" width="3456" height="1836" class="img_ev3q"></p>
<p>So, this is how Azure&#x27;s RBAC is hierarchical. Most enterprise software uses hierarchical RBAC because of the hierarchical
nature of the resource levels. In this tutorial, we&#x27;ll try to implement a similar system using Casbin.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="how-does-casbin-work">How Does Casbin Work?<a href="#how-does-casbin-work" class="hash-link" aria-label="ลิงก์ตรงไปยัง How Does Casbin Work?" title="ลิงก์ตรงไปยัง How Does Casbin Work?" translate="no">​</a></h2>
<p>Before diving into the implementation, it is important to understand what Casbin is and how it functions at a high level. This understanding is necessary because each Role-Based Access Control (RBAC) system may vary based on specific requirements. By grasping the workings of Casbin, we can effectively fine-tune the model.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="what-is-acl">What is ACL?<a href="#what-is-acl" class="hash-link" aria-label="ลิงก์ตรงไปยัง What is ACL?" title="ลิงก์ตรงไปยัง What is ACL?" translate="no">​</a></h2>
<p>ACL stands for Access Control List. It is a method in which users are mapped to actions and actions to resources.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="the-model-definition">The model definition<a href="#the-model-definition" class="hash-link" aria-label="ลิงก์ตรงไปยัง The model definition" title="ลิงก์ตรงไปยัง The model definition" translate="no">​</a></h3>
<p>Let&#x27;s consider a simple example of an ACL model.</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[request_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r = sub, act, obj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[policy_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p = sub, act, obj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[policy_effect]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">e = some(where (p.eft == allow))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[matchers]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m = r.sub == p.sub &amp;&amp; r.obj == p.obj &amp;&amp; r.act == p.act</span><br></span></code></pre></div></div>
<ol>
<li class="">
<p>The <strong>request_definition</strong> is the query template of the system. For example, a request <code>alice, write, data1</code> can be
interpreted as &quot;Can subject Alice perform the action &#x27;write&#x27; on object &#x27;data1&#x27;?&quot;.</p>
</li>
<li class="">
<p>The <strong>policy_definition</strong> is the assignment template of the system. For example, by creating a policy <code>alice, write, data1</code>, you are
assigning permission to subject Alice to perform the action &#x27;write&#x27; on object &#x27;data1&#x27;.</p>
</li>
<li class="">
<p>The <strong>policy_effect</strong> defines the effect of the policy.</p>
</li>
<li class="">
<p>In the <strong>matchers</strong> section, the request is matched with the policy using the conditions <code>r.sub == p.sub &amp;&amp; r.obj == p.obj &amp;&amp; r.act == p.act</code>.</p>
</li>
</ol>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="now-lets-test-the-model-on-the-casbin-editor">Now let&#x27;s test the model on the Casbin editor<a href="#now-lets-test-the-model-on-the-casbin-editor" class="hash-link" aria-label="ลิงก์ตรงไปยัง Now let&#x27;s test the model on the Casbin editor" title="ลิงก์ตรงไปยัง Now let&#x27;s test the model on the Casbin editor" translate="no">​</a></h3>
<p>Open the <a href="https://casbin.org/editor" target="_blank" rel="noopener noreferrer" class="">editor</a> and paste the above model in the Model editor.</p>
<p>Paste the following in the Policy editor:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> alice</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> read</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> data1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> bob</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> write</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> data2</span><br></span></code></pre></div></div>
<p>and the following in the Request editor:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">alice</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> read</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> data1</span><br></span></code></pre></div></div>
<p>The result will be:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">true</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="visual-representation-of-the-acl-model-policy-and-request-matching">Visual representation of the ACL model, policy, and request matching<a href="#visual-representation-of-the-acl-model-policy-and-request-matching" class="hash-link" aria-label="ลิงก์ตรงไปยัง Visual representation of the ACL model, policy, and request matching" title="ลิงก์ตรงไปยัง Visual representation of the ACL model, policy, and request matching" translate="no">​</a></h3>
<p><img decoding="async" loading="lazy" alt="acl" src="/th/assets/images/acl-704097c47b27a1f2235c82f593af469e.png" width="6968" height="3096" class="img_ev3q"></p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="what-is-rbac">What is RBAC?<a href="#what-is-rbac" class="hash-link" aria-label="ลิงก์ตรงไปยัง What is RBAC?" title="ลิงก์ตรงไปยัง What is RBAC?" translate="no">​</a></h2>
<p>RBAC stands for Role-Based Access Control. In RBAC, a user is assigned a role for a resource, and a role can contain arbitrary actions. The request then checks if the user has the permission to perform the action on the resource.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="the-model-definition-1">The model definition<a href="#the-model-definition-1" class="hash-link" aria-label="ลิงก์ตรงไปยัง The model definition" title="ลิงก์ตรงไปยัง The model definition" translate="no">​</a></h3>
<p>Let&#x27;s consider a simple example RBAC model:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[request_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r = sub, act, obj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[policy_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p = sub, act, obj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[role_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">g = _, _</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">g2 = _, _</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[policy_effect]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">e = some(where (p.eft == allow))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[matchers]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m = r.sub == p.sub &amp;&amp; g(p.act, r.act) &amp;&amp; r.obj == p.obj</span><br></span></code></pre></div></div>
<ol>
<li class="">The <strong>role_definition</strong> is a graph relation builder that uses a Graph to compare the request object with the policy object.</li>
</ol>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="now-lets-test-the-model-on-casbin-editor">Now let&#x27;s test the model on Casbin editor<a href="#now-lets-test-the-model-on-casbin-editor" class="hash-link" aria-label="ลิงก์ตรงไปยัง Now let&#x27;s test the model on Casbin editor" title="ลิงก์ตรงไปยัง Now let&#x27;s test the model on Casbin editor" translate="no">​</a></h3>
<p>Open the <a href="https://casbin.org/editor" target="_blank" rel="noopener noreferrer" class="">editor</a> and paste the above model in the Model editor.</p>
<p>Paste the following in the Policy editor:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> alice</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> data1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> bob</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> data2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> write</span><br></span></code></pre></div></div>
<p>and the following in the Request editor:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">alice</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> read</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> data1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">alice</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> write</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> data1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">bob</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> write</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> data2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">bob</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> read</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> data2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">bob</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> write</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> data1</span><br></span></code></pre></div></div>
<p>The result will be:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">false</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="visual-representation-of-the-rbac-model-policy-and-request-matching">Visual representation of the RBAC model, policy, and request matching<a href="#visual-representation-of-the-rbac-model-policy-and-request-matching" class="hash-link" aria-label="ลิงก์ตรงไปยัง Visual representation of the RBAC model, policy, and request matching" title="ลิงก์ตรงไปยัง Visual representation of the RBAC model, policy, and request matching" translate="no">​</a></h3>
<p><img decoding="async" loading="lazy" alt="rbac" src="/th/assets/images/rbac-4c8e405408b9e4df554f7cd619eae897.png" width="7016" height="2844" class="img_ev3q"></p>
<p>The <strong>g - Role to action mapping</strong> table has a Graph mapping the role to action. This Graph can be coded as a list of edges, as shown in the policy which is a common way of representing a Graph:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> write</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>ข้อมูล</div><div class="admonitionContent_BuS1"><p><strong>p</strong> indicates a normal policy that can be compared using the <strong>==</strong> operator. <strong>g</strong> is a Graph-based comparison function. You can define multiple Graph comparators by adding a numerical suffix like <strong>g, g2, g3, ...</strong> and so on.</p></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="what-is-hierarchical-rbac">What is Hierarchical RBAC?<a href="#what-is-hierarchical-rbac" class="hash-link" aria-label="ลิงก์ตรงไปยัง What is Hierarchical RBAC?" title="ลิงก์ตรงไปยัง What is Hierarchical RBAC?" translate="no">​</a></h2>
<p>In Hierarchical RBAC, there are more than one type of resources and there is an inheritance relationship between the resource types. For example, &quot;subscription&quot; is one type and &quot;resourceGroup&quot; is another type. A sub1 of type <strong>Subscription</strong> can contain multiple resourceGroups (rg1, rg2) of type <strong>ResourceGroup</strong>.</p>
<p>Similar to the resource hierarchy, there will be two types of roles and actions: Subscription roles and actions, and ResourceGroup roles and actions. There is an arbitrary relationship between the Subscription role and ResourceGroup role. For example, consider a Subscription Role <strong>sub-owner</strong>. This role is inherited by a ResourceGroup Role <strong>rg-owner</strong>, which means that if I am assigned the <strong>sub-owner</strong> role on Subscription <strong>sub1</strong>, then I automatically also get the <strong>rg-owner</strong> role on <strong>rg1 and rg2</strong>.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="the-model-definition-2">The model definition<a href="#the-model-definition-2" class="hash-link" aria-label="ลิงก์ตรงไปยัง The model definition" title="ลิงก์ตรงไปยัง The model definition" translate="no">​</a></h3>
<p>Let&#x27;s take a simple example of the <strong>Hierarchical RBAC</strong> model:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[request_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r = sub, act, obj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[policy_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p = sub, act, obj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[role_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">g = _, _</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">g2 = _, _</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[policy_effect]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">e = some(where (p.eft == allow))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[matchers]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m = r.sub == p.sub &amp;&amp; g(p.act, r.act) &amp;&amp; g2(p.obj, r.obj)</span><br></span></code></pre></div></div>
<ol>
<li class="">The <strong>role_definition</strong> is a graph relation builder which uses a Graph to compare the request object with the policy object.</li>
</ol>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="now-lets-test-the-model-on-the-casbin-editor-1">Now let&#x27;s test the model on the Casbin editor<a href="#now-lets-test-the-model-on-the-casbin-editor-1" class="hash-link" aria-label="ลิงก์ตรงไปยัง Now let&#x27;s test the model on the Casbin editor" title="ลิงก์ตรงไปยัง Now let&#x27;s test the model on the Casbin editor" translate="no">​</a></h3>
<p>Open the <a href="https://casbin.org/editor" target="_blank" rel="noopener noreferrer" class="">editor</a> and paste the above model in the Model editor.</p>
<p>Paste the following in the Policy editor:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> alice</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> bob</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">// subscription role to subscription action mapping</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-write</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">// resourceGroup role to resourceGroup action mapping</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-write</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">// subscription role to resourceGroup role mapping</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-reader</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-owner</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">// subscription resource to resourceGroup resource mapping</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg2</span><br></span></code></pre></div></div>
<p>And paste the following in the Request editor:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">alice</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-read</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg1</span><br></span></code></pre></div></div>
<p>The result will be:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">true</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="visual-representation-of-the-rbac-model-policy-and-request-matching-1">Visual representation of the RBAC model, policy, and request matching<a href="#visual-representation-of-the-rbac-model-policy-and-request-matching-1" class="hash-link" aria-label="ลิงก์ตรงไปยัง Visual representation of the RBAC model, policy, and request matching" title="ลิงก์ตรงไปยัง Visual representation of the RBAC model, policy, and request matching" translate="no">​</a></h3>
<p><img decoding="async" loading="lazy" alt="hrbac" src="/th/assets/images/hrbac-1350d755e04234a34394996344d2b259.png" width="7968" height="4204" class="img_ev3q"></p>
<p>The <strong>g - Role to (Action, Role) Mapping</strong> table has a graph mapping the role to the action, role mapping. This graph can be coded as a list of edges, as shown in the policy, which is a common way of representing a graph:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">// subscription role to subscription action mapping</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-write</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">// resourceGroup role to resourceGroup action mapping</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-write</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">// subscription role to resourceGroup role mapping</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-reader</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-owner</span><br></span></code></pre></div></div>
<p>The <strong>g2 - Sub to RG Mapping</strong> table has a graph mapping subscription to resourceGroup:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">// subscription resource to resourceGroup resource mapping</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg2</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="subject-matching-visual-representation">Subject Matching Visual representation<a href="#subject-matching-visual-representation" class="hash-link" aria-label="ลิงก์ตรงไปยัง Subject Matching Visual representation" title="ลิงก์ตรงไปยัง Subject Matching Visual representation" translate="no">​</a></h4>
<p><img decoding="async" loading="lazy" alt="hrbac-sub-match" src="/th/assets/images/hrbac-sub-match-55dffd4e5fadb9773658dc90bacbb091.png" width="8176" height="4336" class="img_ev3q"></p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="action-matching-visual-representation">Action Matching Visual representation<a href="#action-matching-visual-representation" class="hash-link" aria-label="ลิงก์ตรงไปยัง Action Matching Visual representation" title="ลิงก์ตรงไปยัง Action Matching Visual representation" translate="no">​</a></h4>
<p><img decoding="async" loading="lazy" alt="hrbac-act-match" src="/th/assets/images/hrbac-act-match-bbb086158782591771f2df01419dc4b8.png" width="7964" height="4376" class="img_ev3q"></p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="object-matching-visual-representation">Object Matching Visual representation<a href="#object-matching-visual-representation" class="hash-link" aria-label="ลิงก์ตรงไปยัง Object Matching Visual representation" title="ลิงก์ตรงไปยัง Object Matching Visual representation" translate="no">​</a></h4>
<p><img decoding="async" loading="lazy" alt="hrbac-obj-match" src="/th/assets/images/hrbac-obj-match-aad370d5cbfe1020ec108b9242f8d4bd.png" width="7964" height="4296" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>ข้อมูล</div><div class="admonitionContent_BuS1"><p>When a request is submitted to Casbin, this matching happens for all the policies. If at least one policy matches, then the result of the request is true. If no policy matches the request, then the result is false.</p></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="ลิงก์ตรงไปยัง Conclusion" title="ลิงก์ตรงไปยัง Conclusion" translate="no">​</a></h2>
<p>In this tutorial, we learned about how different authorization models work and how they can be modeled using Casbin. In the second part of this tutorial, we will implement this in a demo Spring Boot Application and secure the APIs using Casbin.</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/th/blog/2021/08/19/apisix-casbin-authorization">การอนุญาตใน APISIX โดยใช้ Casbin</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-08-19T00:00:00.000Z">19 สิงหาคม 2564</time> · <!-- -->อ่าน 1 นาที</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="http://github.com/rushitote" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/rushitote" alt="Rushikesh Tote"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="http://github.com/rushitote" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Rushikesh Tote</span></a></div><small class="authorTitle_nd0D" title="สมาชิกของ Casbin">สมาชิกของ Casbin</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="บทนำ">บทนำ<a href="#บทนำ" class="hash-link" aria-label="ลิงก์ตรงไปยัง บทนำ" title="ลิงก์ตรงไปยัง บทนำ" translate="no">​</a></h2>
<p><a href="https://apisix.apache.org/" target="_blank" rel="noopener noreferrer" class="">APISIX</a> เป็น API gateway ที่มีประสิทธิภาพสูงและสามารถขยายได้ตามความต้องการ พัฒนาบนพื้นฐานของ Nginx และ etcd เป็นโปรเจกต์โอเพนซอร์สโดยมูลนิธิซอฟต์แวร์ Apache นอกจากนี้สิ่งที่ทำให้ APISIX ดีเยี่ยมคือการสนับสนุนปลั๊กอินที่มีประสิทธิภาพมากมายที่สามารถใช้ในการดำเนินการฟีเจอร์ต่างๆ เช่น การตรวจสอบสิทธิ์, การตรวจสอบการทำงาน, การกำหนดเส้นทาง ฯลฯ และความจริงที่ว่าปลั๊กอินใน APISIX สามารถรีโหลดได้ทันที (ไม่ต้องรีสตาร์ท) ทำให้มันมีความยืดหยุ่นสูง</p>
<p>แต่ขณะใช้งาน APISIX อาจมีสถานการณ์ที่คุณต้องการเพิ่มตรรกะการอนุญาตที่ซับซ้อนในแอปพลิเคชันของคุณ นี่คือที่ที่ authz-casbin อาจช่วยคุณได้, authz-casbin เป็นปลั๊กอินของ APISIX ที่พัฒนาบน <a href="https://github.com/casbin/lua-casbin/" target="_blank" rel="noopener noreferrer" class="">Lua Casbin</a> ที่ช่วยให้สามารถอนุญาตได้อย่างมีประสิทธิภาพตามโมเดลการควบคุมการเข้าถึงต่างๆ <a class="" href="/th/">Casbin</a> เป็นไลบรารีการอนุญาตที่รองรับโมเดลการควบคุมการเข้าถึงเช่น ACL, RBAC, ABAC เขียนขึ้นเดิมในภาษา Go และได้ถูกพอร์ตไปยังภาษาอื่นๆ และ Lua Casbin เป็นการนำไปใช้ของ Casbin ในภาษา Lua การพัฒนา authz-casbin เริ่มต้นเมื่อเราเสนอปลั๊กอินใหม่สำหรับการอนุญาตในที่เก็บข้อมูล APISIX (<a href="https://github.com/apache/apisix/issues/4674" target="_blank" rel="noopener noreferrer" class="">#4674</a>) ซึ่งสมาชิกหลักตกลง และหลังจากก  ารทบทวนที่มีประโยชน์ซึ่งนำไปสู่การเปลี่ยนแปลงและการปรับปรุงที่สำคัญ คำขอ PR (<a href="https://github.com/apache/apisix/pull/4710" target="_blank" rel="noopener noreferrer" class="">#4710</a>) ก็ถูกผสานเข้าไปในที่สุด</p>
<p>ในบล็อกนี้ เราจะใช้ปลั๊กอิน authz-casbin เพื่อแสดงวิธีการที่คุณสามารถนำไปใช้โมเดลการอนุญาตตาม Role Based Access Control (RBAC) ใน APISIX</p>
<p><strong>หมายเหตุ</strong>: คุณจะต้องใช้ปลั๊กอินอื่นหรือกระบวนการทำงานที่กำหนดเองสำหรับการตรวจสอบสิทธิ์ผู้ใช้ เนื่องจาก Casbin จะทำเพียงการอนุญาตและไม่ใช่การตรวจสอบสิทธิ์</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="การสร้างโมเดล">การสร้างโมเดล<a href="#การสร้างโมเดล" class="hash-link" aria-label="ลิงก์ตรงไปยัง การสร้างโมเดล" title="ลิงก์ตรงไปยัง การสร้างโมเดล" translate="no">​</a></h2>
<p>ปลั๊กอินใช้สามพารามิเตอร์ในการอนุญาตคำขอใดๆ - หัวข้อ, วัตถุ และการกระทำ ที่นี่ หัวข้อคือค่าของหัวข้อ username ซึ่งอาจเป็นอะไรก็ได้เช่น <code>[username: alice]</code> จากนั้น วัตถุคือเส้น ทาง URL ที่กำลังถูกเข้าถึง และการกระทำคือวิธีการขอที่กำลังถูกใช้</p>
<p>สมมติว่าเราต้องการสร้างโมเดลที่มีทรัพยากรสามอย่างที่เส้นทาง - <code>/</code>, <code>/res1</code> และ <code>/res2</code> และเราต้องการมีโมเดลเช่นนี้:</p>
<p><img decoding="async" loading="lazy" alt="รูปภาพ" src="/th/assets/images/model-1c0c2441dd19f8b957744635985283eb.png" width="4520" height="1720" class="img_ev3q"></p>
<p>นี่จะหมายความว่าผู้ใช้ทุกคน (<code>*</code>) เช่น <code>jack</code> สามารถเข้าถึงหน้าแรก (<code>/</code>) และผู้ใช้ที่มีสิทธิ์ <code>admin</code> เช่น <code>alice</code> และ <code>bob</code> สามารถเข้าถึงทุกหน้าและทรัพยากร (เช่น <code>res1</code> และ <code>res2</code>) นอกจากนี้ มาจำกัดผู้ใช้ที่ไม่มีสิทธิ์ admin ให้ใช้เฉพาะวิธีการขอ <code>GET</code> สำหรับสถานการณ์นี้ เราสามารถกำหนดโมเดลได้เป็น:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">request_definition</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">r</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">sub, obj, act</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">policy_definition</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">p</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">sub, obj, act</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">role_definition</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">g</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">_, _</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">policy_effect</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">e</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">some(where (p.eft == allow))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">matchers</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">m</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">(g(r.sub, p.sub) || keyMatch(r.sub, p.sub)) &amp;&amp; keyMatch(r.obj, p.obj) &amp;&amp; keyMatch(r.act, p.act)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="การสร้างนโยบาย">การสร้างนโยบาย<a href="#การสร้างนโยบาย" class="hash-link" aria-label="ลิงก์ตรงไปยัง การสร้างนโยบาย" title="ลิงก์ตรงไปยัง การสร้างนโยบาย" translate="no">​</a></h2>
<p>จากสถานการณ์ข้างต้น นโยบายจะเป็น:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> *</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> /</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> GET</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> admin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> *</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> *</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> alice</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> admin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> bob</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> admin</span><br></span></code></pre></div></div>
<p>ตัวจับคู่จากโมเดลหมายถึง:</p>
<ol>
<li class=""><code>(g(r.sub, p.sub) || keyMatch(r.sub, p.sub))</code>: หัวข้อของคำขอมีบทบาทเหมือนกับหัวข้อของนโยบาย หรือหัวข้อของคำขอตรงกับหัวข้อของนโยบายใน <code>keyMatch</code> <code>keyMatch</code> เป็นฟังก์ชันที่มีอยู่ใน Lua Casbin คุณสามารถดูคำอธิบายของฟังก์ชันและฟังก์ชันอื่นๆ ที่อาจมีประโยชน์ <a href="https://github.com/casbin/lua-casbin/blob/master/src/util/BuiltInFunctions.lua" target="_blank" rel="noopener noreferrer" class="">ที่นี่</a></li>
<li class=""><code>keyMatch(r.obj, p.obj)</code>: วัตถุของคำขอตรงกับวัตถุของนโยบาย (เส้นทาง URL ที่นี่)</li>
<li class=""><code>keyMatch(r.act, p.act)</code>: การกระทำของคำขอตรงกับการกระทำของนโยบาย (วิธีการขอ HTTP ที่นี่)</li>
</ol>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="การเปิดใช้งานปลั๊กอินบนเส้นทาง">การเปิดใช้งานปลั๊กอินบนเส้นทาง<a href="#การเปิดใช้งานปลั๊กอินบนเส้นทาง" class="hash-link" aria-label="ลิงก์ตรงไปยัง การเปิดใช้งานปลั๊กอินบนเส้นทาง" title="ลิงก์ตรงไปยัง การเปิดใช้งานปลั๊กอินบนเส้นทาง" translate="no">​</a></h2>
<p>เมื่อคุณได้สร้างโมเดลและนโยบายแล้ว คุณสามารถเปิดใช้งานได้บนเส้นทางโดยใช้ APISIX Admin API เพื่อเปิดใช้งานโดยใช้เส้นทางไฟล์โมเดลและนโยบาย:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl http://127.0.0.1:9080/apisix/admin/routes/1 -H &#x27;X-API-KEY: edd1c9f034335f136f87ad84b625c8f1&#x27; -X PUT -d &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;plugins&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;authz-casbin&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;model_path&quot;: &quot;/path/to/model.conf&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;policy_path&quot;: &quot;/path/to/policy.csv&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;username&quot;: &quot;username&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;upstream&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;nodes&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;127.0.0.1:1980&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;type&quot;: &quot;roundrobin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;uri&quot;: &quot;/*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}&#x27;</span><br></span></code></pre></div></div>
<p>ที่นี่ ฟิลด์ username เป็นชื่อหัวข้อที่คุณจะใช้ในการส่งหัวข้อ ตัวอย่างเช่น ถ้าคุณจะส่งหัวข้อ username เป็น <code>user: alice</code> คุณจะใช้ <code>&quot;username&quot;: &quot;user&quot;</code></p>
<p>สำหรับการใช้ข้อความโมเดล/นโยบายแทนไฟล์ คุณสามารถใช้ฟิลด์ <code>model</code> และ <code>policy</code> แทน:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl http://127.0.0.1:9080/apisix/admin/routes/1 -H &#x27;X-API-KEY: edd1c9f034335f136f87ad84b625c8f1&#x27; -X PUT -d &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;plugins&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;authz-casbin&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;model&quot;: &quot;[request_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            r = sub, obj, act</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [policy_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            p = sub, obj, act</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [role_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            g = _, _</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [policy_effect]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            e = some(where (p.eft == allow))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [matchers]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            m = (g(r.sub, p.sub) || keyMatch(r.sub, p.sub)) &amp;&amp; keyMatch(r.obj, p.obj) &amp;&amp; keyMatch(r.act, p.act)&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;policy&quot;: &quot;p, *, /, GET</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            p, admin, *, *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            g, alice, admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            g, bob, admin&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;username&quot;: &quot;username&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;upstream&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;nodes&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;127.0.0.1:1980&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;type&quot;: &quot;roundrobin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;uri&quot;: &quot;/*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}&#x27;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="การเปิดใช้งานปลั๊กอินโดยใช้โมเดลนโยบายสากล">การเปิดใช้งานปลั๊กอินโดยใช้โมเดล/นโยบายสากล<a href="#การเปิดใช้งานปลั๊กอินโดยใช้โมเดลนโยบายสากล" class="hash-link" aria-label="ลิงก์ตรงไปยัง การเปิดใช้งานปลั๊กอินโดยใช้โมเดล/นโยบายสากล" title="ลิงก์ตรงไปยัง การเปิดใช้งานปลั๊กอินโดยใช้โมเดล/นโยบายสากล" translate="no">​</a></h2>
<p>อาจมีสถานการณ์ที่คุณต้องการใช้โมเดลและนโยบายเดียวกันในหลายเส้นทาง คุณสามารถทำได้โดยการส่งคำขอ <code>PUT</code> เพื่อเพิ่มการกำหนดค่าโมเดลและนโยบายไปยังข้อมูลเมตาของปลั๊กอินโดย:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl http://127.0.0.1:9080/apisix/admin/plugin_metadata/authz-casbin -H &#x27;X-API-KEY: edd1c9f034335f136f87ad84b625c8f1&#x27; -i -X PUT -d &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;model&quot;: &quot;[request_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r = sub, obj, act</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[policy_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p = sub, obj, act</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[role_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">g = _, _</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[policy_effect]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">e = some(where (p.eft == allow))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[matchers]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m = (g(r.sub, p.sub) || keyMatch(r.sub, p.sub)) &amp;&amp; keyMatch(r.obj, p.obj) &amp;&amp; keyMatch(r.act, p.act)&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;policy&quot;: &quot;p, *, /, GET</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p, admin, *, *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">g, alice, admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">g, bob, admin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}&#x27;</span><br></span></code></pre></div></div>
<p>และจากนั้นเพื่อเปิดใช้งานการกำหนดค่าเดียวกันบนเส้นทางใดๆ ส่งคำขอโดยใช้ Admin API:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl http://127.0.0.1:9080/apisix/admin/routes/1 -H &#x27;X-API-KEY: edd1c9f034335f136f87ad84b625c8f1&#x27; -X PUT -d &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;plugins&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;authz-casbin&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;username&quot;: &quot;username&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;upstream&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;nodes&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;127.0.0.1:1980&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;type&quot;: &quot;roundrobin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;uri&quot;: &quot;/route1/*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}&#x27;</span><br></span></code></pre></div></div>
<p>นี่จะเพิ่มการกำหนดค่าข้อมูลเมตาของปลั๊กอินไปยังเส้นทาง คุณยังสามารถอัปเดตการกำหนดค่าข้อมูลเมตาของปลั๊กอินได้อย่างง่ายดายโดยการส่งคำขอใหม่ไปยังข้อมูลเมตาของปลั๊กอินด้วยการกำหนดค่าโมเดลและนโยบายที่อัปเดต ปลั๊กอินจะอัปเดตเส้นทางทั้งหมดที่ใช้การกำหนดค่าข้อมูลเมตาโดยอัตโนมัติ</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="กรณีการใช้งาน">กรณีการใช้งาน<a href="#กรณีการใช้งาน" class="hash-link" aria-label="ลิงก์ตรงไปยัง กรณีการใช้งาน" title="ลิงก์ตรงไปยัง กรณีการใช้งาน" translate="no">​</a></h2>
<ul>
<li class="">กรณีการใช้งานหลักของปลั๊กอินนี้คือการดำเนินการอนุญาตใน API ของคุณ คุณสามารถเพิ่มปลั๊กอินนี้ได้อย่างง่ายดายในเส้นทาง API ใดๆ ที่คุณใช้กับโมเดลการอนุญาตและการกำหนดค่านโยบายของคุณ</li>
<li class="">ถ้าคุณต้องการมีโมเดลการอนุญาตเดียวสำหรับ API ทั้งหมดของคุณ คุณสามารถใช้วิธีโมเดล/นโยบายสากล นี่ทำให้การอัปเดตนโยบายง่ายสำหรับทุกเส้นทาง เนื่องจากคุณเพียงแค่ต้องอัปเดตข้อมูลเมตาใน etcd</li>
<li class="">ในขณะที่ถ้าคุณต้องการใช้โมเดลที่แตกต่างกันสำหรับทุกเส้นทางที่แตกต่างกัน คุณสามารถใช้วิธีเส้นทาง สิ่งนี้มีประโยชน์เมื่อเส้นทาง API ที่แตกต่างกันมีชุดสิทธิ์ผู้ใช้ที่แตกต่างกัน คุณยังสามารถใช้สิ่งนี้เมื่อคุณกำลังจัดการ กับนโยบายขนาดใหญ่ เนื่องจากจะทำให้การอนุญาตเร็วขึ้นเมื่อกรองเข้าสู่เส้นทางหลายเส้นทาง</li>
</ul></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/th/blog/2020/04/21/google-award">Yang Luo - ผู้ชนะรางวัล Google Open Source Peer Bonus</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2020-04-21T00:00:00.000Z">21 เมษายน 2563</time> · <!-- -->อ่าน 1 นาที</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="http://github.com/casbin" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/casbin" alt="Casbin"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="http://github.com/casbin" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Casbin</span></a></div><small class="authorTitle_nd0D" title="บัญชีอย่างเป็นทางการ">บัญชีอย่างเป็นทางการ</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>วันนี้, เรายินดีที่จะประกาศว่าผู้ก่อตั้ง Casbin, <a href="https://github.com/hsluoyz" target="_blank" rel="noopener noreferrer" class="">Yang Luo</a> ได้รับรางวัล &quot;Google Open Source Peer Bonus winners&quot; สำหรับงานของเขาใน <a class="" href="/th/">Casbin</a>, <a href="https://nmap.org/npcap/" target="_blank" rel="noopener noreferrer" class="">Npcap</a> และ <a href="https://nmap.org/" target="_blank" rel="noopener noreferrer" class="">Nmap</a> ในปี 2019 Q3.</p>
<p><img decoding="async" loading="lazy" src="https://hsluoyz.github.io/download/Open%20Source%20Peer%20Bonus%20Q3%202019%20-%20Yang%20Luo%20-%20OSPB%20Award%20Letter.png" alt="ospb" class="img_ev3q"></p>
<blockquote>
<p>จดหมายแจ้งรางวัลต้นฉบับสามารถเข้าถึงได้ <a href="https://github.com/hsluoyz/hsluoyz.github.io/blob/master/download/Open%20Source%20Peer%20Bonus%20Q3%202019%20-%20Yang%20Luo%20-%20OSPB%20Award%20Letter.pdf" target="_blank" rel="noopener noreferrer" class="">ที่นี่</a>.</p>
</blockquote>
<p>โปรแกรม <a href="https://opensource.google.com/docs/growing/peer-bonus/" target="_blank" rel="noopener noreferrer" class="">Google Open Source Peer Bonus</a> ได้รับการอธิบายว่า:</p>
<blockquote>
<p><em>ในลักษณะเดียวกับที่ Google Peer Bonus ใช้เพื่อยกย่องเพื่อนร่วมงานที่ได้ทำงานเกินกว่าที่คาดหวังไว้, Open Source Peer Bonus ยกย่องบุคคลภายนอกที่มีส่วนร่วมอย่างโดดเด่นในโอเพนซอร์ส</em></p>
</blockquote>
<p>ประกาศผู้ชนะประจำปี 2019 สามารถดูได้ที่: <a href="https://opensource.googleblog.com/2020/01/announcing-2019-second-cycle-google.html" target="_blank" rel="noopener noreferrer" class="">announcement for the 2019 winners</a></p>
<blockquote>
<p><a href="https://opensource.googleblog.com/2020/01/announcing-2019-second-cycle-google.html" target="_blank" rel="noopener noreferrer" class="">https://opensource.googleblog.com/2020/01/announcing-2019-second-cycle-google.html</a></p>
</blockquote>
<p>Yang และ Casbin ถูกจัดอยู่ในหมู่นักพ ัฒนาโอเพนซอร์สและโปรเจ็กต์ที่มีผลกระทบที่เกี่ยวข้องในที่นั้น, เช่น Git, TensorFlow, V8, CPython, LLVM, โปรเจ็กต์ Apache, Angular หรือ Jenkins.</p>
<p>เรายินดีที่ได้เห็น Casbin ได้รับการยอมรับในลักษณะนี้สำหรับการมีส่วนร่วมในโอเพนซอร์สและความปลอดภัยของคลาวด์!</p>
<p><em>ขอบคุณที่ใช้บริการ Casbin!</em></p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/th/blog/2018/09/23/new-website">ปรับปรุงเอกสารของเรา</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2018-09-23T00:00:00.000Z">23 กันยายน 2561</time> · <!-- -->อ่าน 1 นาที</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="http://github.com/hsluoyz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/hsluoyz" alt="Yang Luo"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="http://github.com/hsluoyz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Yang Luo</span></a></div><small class="authorTitle_nd0D" title="ผู้สร้าง Casbin">ผู้สร้าง Casbin</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>วันนี้เราได้ย้ายเอกสารของ Casbin จาก GitHub Wiki ไปยัง <code>Docs</code> ของเว็บไซต์น ี้ ซึ่งใช้ Docusaurus Docusaurus มีคุณสมบัติที่ยอดเยี่ยมมากมาย เช่น สไตล์ Markdown ที่ดีกว่า การค้นหาข้อความเต็มรูปแบบ การจัดเวอร์ชัน การแปลภาษา</p>
<p>เอกสารยังไม่สมบูรณ์แบบและยังต้องการการปรับแต่ง ซอร์สโค้ดถูกโฮสต์อยู่บน GitHub: <a href="https://github.com/casbin/casbin-website-v2" target="_blank" rel="noopener noreferrer" class="">https://github.com/casbin/casbin-website-v2</a> .</p>
<p>ยินดีต้อนรับทุกข้อเสนอแนะหรือการช่วยเหลือ!</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/th/blog/2018/08/27/node-casbin">node-Casbin: สมาชิกใหม่ของครอบครัว Casbin</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2018-08-27T00:00:00.000Z">27 สิงหาคม 2561</time> · <!-- -->อ่าน 1 นาที</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="http://github.com/nodece" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/nodece" alt="Zixuan Liu"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="http://github.com/nodece" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Zixuan Liu</span></a></div><small class="authorTitle_nd0D" title="Casbin Maintainer">Casbin Maintainer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p> วันนี้เราได้ทำการย้าย Casbin ไปยัง Node.js สำเร็จ ซึ่งมีชื่อว่า: <a href="https://github.com/casbin/node-casbin" target="_blank" rel="noopener noreferrer" class="">node-Casbin</a>.</p>
<p><strong>node-Casbin</strong> มีการใช้งานและ API ที่คล้ายคลึงกับการใช้งานในรูปแบบอื่นๆ ของ Casbin มิดเดิลแวร์สำหรับ Express, Koa2 และ Egg.js พร้อมใช้งานแล้ว อแดปเตอร์สำหรับการจัดเก็บข้อมูลสำหรับ Sequelize ก็ได้เตรียมไว้แล้ว</p>
<p>หวังว่ามันจะตอบสนองความต้องการของคุณได้ดีนะ :)</p>
<p>GitHub: <a href="https://github.com/casbin/node-casbin" target="_blank" rel="noopener noreferrer" class="">https://github.com/casbin/node-casbin</a></p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/th/blog/2018/08/07/launching-casbin-server">เซิร์ฟเวอร์ Casbin เปิดตัวแล้ว!</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2018-08-07T00:00:00.000Z">7 สิงหาคม 2561</time> · <!-- -->อ่าน 1 นาที</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="http://github.com/BetaCat0" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/BetaCat0" alt="Helong Zhang"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="http://github.com/BetaCat0" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Helong Zhang</span></a></div><small class="authorTitle_nd0D" title="ผู้ดูแลรักษา Casbin">ผู้ดูแลรักษา Casbin</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>ลูกค้าบางรายถามว่า Casbin สามารถใช้เป็นบริการแทนที่จะเป็นไลบรารีได้หรือไม่ คำตอบคือ <strong>ใช่</strong>. วันนี้เราได้เปิดตัวโปรเจค <a href="https://github.com/casbin/casbin-server" target="_blank" rel="noopener noreferrer" class="">เซิร์ฟเวอร์ Casbin</a> เป็นโซลูชันที่ชัดเจนสำหรับ <strong>การควบคุมการเข้าถึงเป็นบริการ</strong>.</p>
<p><strong>เซิร์ฟเวอร์ Casbin</strong> กำลังถูกพัฒนาอย่างต่อเนื่องโดยทีมงานหลักของเรา มีคุณสมบัติหลายอย่าง:</p>
<ul>
<li class="">พัฒนาโดยใช้ Golang อย่างบริสุทธิ์</li>
<li class="">สามารถจัดการเซิร์ฟเวอร์ Casbin ได้หลายพันเครื่อง ทำให้คุณสามารถย้ายตรรกะการบังคับนโยบายจากหลายบริการเข้าสู่เซิร์ฟเวอร์ Casbin เดียว</li>
<li class=""><strong>gRPC</strong> ถูกใช้เพื่อการสื่อสารกับเซิร์ฟเวอร์ Casbin เรายังพิจารณาที่จะเพิ่มการสนับสนุน <strong>RESTful</strong> ในอนาคตอันใกล้</li>
<li class="">มีพอร์ทัลผู้ดูแลระบบที่เป็นมิตรสำหรับผู้ดูแลที่ไม่ใช่นักพัฒนาเพื่อจัดการรายละเอียดทั้งหมดเช่น เซิร์ฟเวอร์ Casbin, โมเดล, การจัดเก็บนโยบาย และการจัดสรรภาระงาน</li>
</ul>
<p>ซอร์สโค้ดถูกโฮสต์บน GitHub: <a href="https://github.com/casbin/casbin-server" target="_blank" rel="noopener noreferrer" class="">https://github.com/casbin/casbin-server</a></p>
<p>ปัญหาใด ๆ หรือคำขอดึงข้อมูลยินดีต้อนรับ :)</p></div><footer class="row docusaurus-mt-lg"></footer></article><nav class="pagination-nav" aria-label="นำทางหน้ารายการบล็อก"></nav></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">เอกสาร</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/th/docs/get-started">เริ่มต้นใช้งาน</a></li><li class="footer__item"><a class="footer__link-item" href="/th/docs/management-api">API การจัดการ</a></li><li class="footer__item"><a class="footer__link-item" href="/th/docs/rbac-api">API RBAC</a></li><li class="footer__item"><a class="footer__link-item" href="/th/docs/middlewares">มิดเดิลแวร์</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">ชุมชน</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/S5UjpzGZjN" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/search?q=casbin" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://groups.google.com/g/casbin" target="_blank" rel="noopener noreferrer" class="footer__link-item">Google Groups<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">เพิ่มเติม</div><ul class="footer__items clean-list"><li class="footer__item">
                <a href="https://github.com/casbin/casbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/casbin?label=Casbin&style=social">
                </a>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://github.com/casbin/jcasbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/jcasbin?label=jCasbin&style=social">
                </a>
              </li><li class="footer__item">
                <a href="https://github.com/casbin/node-casbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/node-casbin?label=Node-Casbin&style=social">
                </a>
                &nbsp;&nbsp;
                <a href="https://github.com/php-casbin/php-casbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/php-casbin/php-casbin?label=PHP-Casbin&style=social">
                </a>
              </li><li class="footer__item">
                <a href="https://github.com/casbin/pycasbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/pycasbin?label=PyCasbin&style=social">
                </a>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://github.com/casbin/Casbin.NET" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/Casbin.NET?label=Casbin.NET&style=social">
                </a>
              </li><li class="footer__item">
                <a href="https://github.com/casbin/casbin-cpp" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/casbin-cpp?label=Casbin-CPP&style=social">
                </a>
                &nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://github.com/casbin/casbin-rs" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/casbin-rs?label=Casbin-RS&style=social">
                </a>
              </li><li class="footer__item">
                <a href="https://twitter.com/casbinHQ" target="_blank">
                  <img alt="Twitter Follow" src="https://img.shields.io/twitter/follow/casbinHQ?style=social">
                </a>
              </li><li class="footer__item">
<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?2c0ffc6f8d49e98d964d59d7aa4cbf34";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
</li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_BH7S" href="/th/"><img src="/th/img/casbin_min.svg" alt="โลโก้ Casbin" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/th/img/casbin_min.svg" alt="โลโก้ Casbin" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">Copyright © 2025 Casbin Organization</div></div></div></footer></div>
</body>
</html>