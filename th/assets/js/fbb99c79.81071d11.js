"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[372],{1718(e,n,o){o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>m,frontMatter:()=>s,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"model-storage","title":"Model Storage","description":"\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e40\u0e01\u0e47\u0e1a\u0e42\u0e21\u0e40\u0e14\u0e25","source":"@site/i18n/th/docusaurus-plugin-content-docs/current/ModelStorage.mdx","sourceDirName":".","slug":"/model-storage","permalink":"/th/docs/model-storage","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/ModelStorage.mdx","tags":[],"version":"current","frontMatter":{"id":"model-storage","title":"Model Storage","description":"\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e40\u0e01\u0e47\u0e1a\u0e42\u0e21\u0e40\u0e14\u0e25","keywords":["model storage"],"authors":["hsluoyz"]},"sidebar":"docs","previous":{"title":"Storage","permalink":"/th/docs/category/storage"},"next":{"title":"Policy Storage","permalink":"/th/docs/policy-storage"}}');var a=o(4848),i=o(8453);const s={id:"model-storage",title:"Model Storage",description:"\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e40\u0e01\u0e47\u0e1a\u0e42\u0e21\u0e40\u0e14\u0e25",keywords:["model storage"],authors:["hsluoyz"]},r=void 0,c={},l=[{value:"\u0e42\u0e2b\u0e25\u0e14\u0e42\u0e21\u0e40\u0e14\u0e25\u0e08\u0e32\u0e01\u0e44\u0e1f\u0e25\u0e4c .CONF",id:"\u0e42\u0e2b\u0e25\u0e14\u0e42\u0e21\u0e40\u0e14\u0e25\u0e08\u0e32\u0e01\u0e44\u0e1f\u0e25\u0e4c-conf",level:2},{value:"\u0e42\u0e2b\u0e25\u0e14\u0e42\u0e21\u0e40\u0e14\u0e25\u0e08\u0e32\u0e01\u0e42\u0e04\u0e49\u0e14",id:"\u0e42\u0e2b\u0e25\u0e14\u0e42\u0e21\u0e40\u0e14\u0e25\u0e08\u0e32\u0e01\u0e42\u0e04\u0e49\u0e14",level:2},{value:"\u0e42\u0e2b\u0e25\u0e14\u0e42\u0e21\u0e40\u0e14\u0e25\u0e08\u0e32\u0e01\u0e2a\u0e15\u0e23\u0e34\u0e07",id:"\u0e42\u0e2b\u0e25\u0e14\u0e42\u0e21\u0e40\u0e14\u0e25\u0e08\u0e32\u0e01\u0e2a\u0e15\u0e23\u0e34\u0e07",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"Casbin models are designed to be loaded rather than saved. The model defines your access control logic and should remain static at runtime, so Casbin does not provide an API for persisting model changes to storage."}),"\n",(0,a.jsx)(n.p,{children:"You can load a model using any of these three approaches:"}),"\n",(0,a.jsx)(n.h2,{id:"\u0e42\u0e2b\u0e25\u0e14\u0e42\u0e21\u0e40\u0e14\u0e25\u0e08\u0e32\u0e01\u0e44\u0e1f\u0e25\u0e4c-conf",children:"\u0e42\u0e2b\u0e25\u0e14\u0e42\u0e21\u0e40\u0e14\u0e25\u0e08\u0e32\u0e01\u0e44\u0e1f\u0e25\u0e4c .CONF"}),"\n",(0,a.jsx)(n.p,{children:"Loading from a configuration file is the standard approach. This method makes models easy to understand and share when seeking help from the Casbin community."}),"\n",(0,a.jsxs)(n.p,{children:["Here's an example model file ",(0,a.jsx)(n.a,{href:"https://github.com/casbin/casbin/blob/master/examples/rbac_model.conf",children:"examples/rbac_model.conf"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ini",children:"[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act\n\n[role_definition]\ng = _, _\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = g(r.sub, p.sub) && r.obj == p.obj && r.act == p.act\n"})}),"\n",(0,a.jsx)(n.p,{children:"Load this model file:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",children:'e := casbin.NewEnforcer("examples/rbac_model.conf", "examples/rbac_policy.csv")\n'})}),"\n",(0,a.jsx)(n.h2,{id:"\u0e42\u0e2b\u0e25\u0e14\u0e42\u0e21\u0e40\u0e14\u0e25\u0e08\u0e32\u0e01\u0e42\u0e04\u0e49\u0e14",children:"\u0e42\u0e2b\u0e25\u0e14\u0e42\u0e21\u0e40\u0e14\u0e25\u0e08\u0e32\u0e01\u0e42\u0e04\u0e49\u0e14"}),"\n",(0,a.jsx)(n.p,{children:"Build the model programmatically instead of reading from a file. This example constructs an RBAC model:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",children:'import (\n    "github.com/casbin/casbin/v3"\n    "github.com/casbin/casbin/v3/model"\n    "github.com/casbin/casbin/v3/persist/file-adapter"\n)\n\n// Initialize the model from Go code.\nm := model.NewModel()\nm.AddDef("r", "r", "sub, obj, act")\nm.AddDef("p", "p", "sub, obj, act")\nm.AddDef("g", "g", "_, _")\nm.AddDef("e", "e", "some(where (p.eft == allow))")\nm.AddDef("m", "m", "g(r.sub, p.sub) && r.obj == p.obj && r.act == p.act")\n\n// Load the policy rules from the .CSV file adapter.\n// Replace it with your adapter to avoid using files.\na := fileadapter.NewAdapter("examples/rbac_policy.csv")\n\n// Create the enforcer.\ne := casbin.NewEnforcer(m, a)\n'})}),"\n",(0,a.jsx)(n.h2,{id:"\u0e42\u0e2b\u0e25\u0e14\u0e42\u0e21\u0e40\u0e14\u0e25\u0e08\u0e32\u0e01\u0e2a\u0e15\u0e23\u0e34\u0e07",children:"\u0e42\u0e2b\u0e25\u0e14\u0e42\u0e21\u0e40\u0e14\u0e25\u0e08\u0e32\u0e01\u0e2a\u0e15\u0e23\u0e34\u0e07"}),"\n",(0,a.jsx)(n.p,{children:"Load the model directly from a multi-line string. This eliminates the need to maintain a separate model file."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",children:'import (\n    "github.com/casbin/casbin/v3"\n    "github.com/casbin/casbin/v3/model"\n)\n\n// Initialize the model from a string.\ntext :=\n`\n[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act\n\n[role_definition]\ng = _, _\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = g(r.sub, p.sub) && r.obj == p.obj && r.act == p.act\n`\nm, _ := model.NewModelFromString(text)\n\n// Load the policy rules from the .CSV file adapter.\n// Replace it with your adapter to avoid using files.\na := fileadapter.NewAdapter("examples/rbac_policy.csv")\n\n// Create the enforcer.\ne := casbin.NewEnforcer(m, a)\n'})})]})}function m(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453(e,n,o){o.d(n,{R:()=>s,x:()=>r});var t=o(6540);const a={},i=t.createContext(a);function s(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);