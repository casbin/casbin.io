"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[2145],{6599(e,s,n){n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"k8s-gatekeeper","title":"Admission Webhook for K8s","description":"Kubernetes (K8s) RBAC & ABAC Authorization Middleware \u0e17\u0e35\u0e48\u0e43\u0e0a\u0e49 Casbin","source":"@site/i18n/th/docusaurus-plugin-content-docs/current/K8sGateKeeper.mdx","sourceDirName":".","slug":"/k8s-gatekeeper","permalink":"/th/docs/k8s-gatekeeper","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/K8sGateKeeper.mdx","tags":[],"version":"current","frontMatter":{"id":"k8s-gatekeeper","title":"Admission Webhook for K8s","description":"Kubernetes (K8s) RBAC & ABAC Authorization Middleware \u0e17\u0e35\u0e48\u0e43\u0e0a\u0e49 Casbin","keywords":["k8s-gatekeeper","Kubernetes","K8s"],"authors":["ComradeProgrammer"]},"sidebar":"docs","previous":{"title":"Authorization of Kubernetes","permalink":"/th/docs/k8s"},"next":{"title":"Authorization of Service Mesh through Envoy","permalink":"/th/docs/envoy"}}');var l=n(4848),c=n(8453);const r={id:"k8s-gatekeeper",title:"Admission Webhook for K8s",description:"Kubernetes (K8s) RBAC & ABAC Authorization Middleware \u0e17\u0e35\u0e48\u0e43\u0e0a\u0e49 Casbin",keywords:["k8s-gatekeeper","Kubernetes","K8s"],authors:["ComradeProgrammer"]},a=void 0,d={},o=[{value:"1. \u0e20\u0e32\u0e1e\u0e23\u0e27\u0e21 &amp; \u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a Casbin K8s-Gatekeeper",id:"1-\u0e20\u0e32\u0e1e\u0e23\u0e27\u0e21--\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a-casbin-k8s-gatekeeper",level:2},{value:"0.1 \u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e07\u0e48\u0e32\u0e22 \u0e46",id:"01-\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e07\u0e48\u0e32\u0e22-\u0e46",level:3},{value:"1.1 Casbin K8s-Gatekeeper \u0e17\u0e33\u0e07\u0e32\u0e19\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e44\u0e23?",id:"11-casbin-k8s-gatekeeper-\u0e17\u0e33\u0e07\u0e32\u0e19\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e44\u0e23",level:3},{value:"1.2 \u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e17\u0e35\u0e48\u0e41\u0e2a\u0e14\u0e07\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e17\u0e33\u0e07\u0e32\u0e19",id:"12-\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e17\u0e35\u0e48\u0e41\u0e2a\u0e14\u0e07\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e17\u0e33\u0e07\u0e32\u0e19",level:3},{value:"2 \u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07 K8s-gatekeeper",id:"2-\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07-k8s-gatekeeper",level:2},{value:"2.1.1 \u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e17\u0e35\u0e48 1: \u0e2a\u0e23\u0e49\u0e32\u0e07 image",id:"211-\u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e17\u0e35\u0e48-1-\u0e2a\u0e23\u0e49\u0e32\u0e07-image",level:3},{value:"2.1.1 Step 1: Build the image",id:"211-step-1-build-the-image",level:4},{value:"2.1.2 \u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e17\u0e35\u0e48 2: \u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e1a\u0e23\u0e34\u0e01\u0e32\u0e23\u0e41\u0e25\u0e30\u0e01\u0e32\u0e23\u0e1b\u0e23\u0e31\u0e1a\u0e43\u0e0a\u0e49\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a K8s-gatekeeper",id:"212-\u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e17\u0e35\u0e48-2-\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e1a\u0e23\u0e34\u0e01\u0e32\u0e23\u0e41\u0e25\u0e30\u0e01\u0e32\u0e23\u0e1b\u0e23\u0e31\u0e1a\u0e43\u0e0a\u0e49\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a-k8s-gatekeeper",level:4},{value:"2.1.3 \u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e17\u0e35\u0e48 3: \u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e17\u0e23\u0e31\u0e1e\u0e22\u0e32\u0e01\u0e23 CRD \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a K8s-gatekeeper",id:"213-\u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e17\u0e35\u0e48-3-\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e17\u0e23\u0e31\u0e1e\u0e22\u0e32\u0e01\u0e23-crd-\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a-k8s-gatekeeper",level:4},{value:"2.2 \u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23 webhook \u0e20\u0e32\u0e22\u0e19\u0e2d\u0e01",id:"22-\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23-webhook-\u0e20\u0e32\u0e22\u0e19\u0e2d\u0e01",level:3},{value:"2.3.1 \u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e17\u0e35\u0e48 1: \u0e2a\u0e23\u0e49\u0e32\u0e07\u0e20\u0e32\u0e1e",id:"231-\u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e17\u0e35\u0e48-1-\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e20\u0e32\u0e1e",level:3},{value:"\u0e01\u0e23\u0e38\u0e13\u0e32\u0e14\u0e39\u0e17\u0e35\u0e48 \u0e1a\u0e17\u0e17\u0e35\u0e48 2.1.1",id:"\u0e01\u0e23\u0e38\u0e13\u0e32\u0e14\u0e39\u0e17\u0e35\u0e48-\u0e1a\u0e17\u0e17\u0e35\u0e48-211",level:4},{value:"\u0e23\u0e31\u0e19\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07 <code>helm install k8sgatekeeper ./k8sgatekeeper</code>",id:"\u0e23\u0e31\u0e19\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07-helm-install-k8sgatekeeper-k8sgatekeeper",level:4},{value:"\u0e17\u0e14\u0e25\u0e2d\u0e07\u0e43\u0e0a\u0e49 K8s-gatekeeper 3.1 \u0e2a\u0e23\u0e49\u0e32\u0e07 Casbin Model \u0e41\u0e25\u0e30 Policy",id:"\u0e17\u0e14\u0e25\u0e2d\u0e07\u0e43\u0e0a\u0e49-k8s-gatekeeper-31-\u0e2a\u0e23\u0e49\u0e32\u0e07-casbin-model-\u0e41\u0e25\u0e30-policy",level:2},{value:"\u0e04\u0e38\u0e13\u0e21\u0e35\u0e2a\u0e2d\u0e07\u0e27\u0e34\u0e18\u0e35\u0e43\u0e19\u0e01\u0e32\u0e23\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e42\u0e21\u0e40\u0e14\u0e25\u0e41\u0e25\u0e30\u0e19\u0e42\u0e22\u0e1a\u0e32\u0e22: \u0e1c\u0e48\u0e32\u0e19 kubectl \u0e2b\u0e23\u0e37\u0e2d\u0e1c\u0e48\u0e32\u0e19 go-client \u0e17\u0e35\u0e48\u0e40\u0e23\u0e32\u0e08\u0e31\u0e14\u0e40\u0e15\u0e23\u0e35\u0e22\u0e21\u0e44\u0e27\u0e49",id:"\u0e04\u0e38\u0e13\u0e21\u0e35\u0e2a\u0e2d\u0e07\u0e27\u0e34\u0e18\u0e35\u0e43\u0e19\u0e01\u0e32\u0e23\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e42\u0e21\u0e40\u0e14\u0e25\u0e41\u0e25\u0e30\u0e19\u0e42\u0e22\u0e1a\u0e32\u0e22-\u0e1c\u0e48\u0e32\u0e19-kubectl-\u0e2b\u0e23\u0e37\u0e2d\u0e1c\u0e48\u0e32\u0e19-go-client-\u0e17\u0e35\u0e48\u0e40\u0e23\u0e32\u0e08\u0e31\u0e14\u0e40\u0e15\u0e23\u0e35\u0e22\u0e21\u0e44\u0e27\u0e49",level:3},{value:"\u0e43\u0e19 K8s-gatekeeper, Casbin model \u0e16\u0e39\u0e01\u0e40\u0e01\u0e47\u0e1a\u0e44\u0e27\u0e49\u0e43\u0e19\u0e17\u0e23\u0e31\u0e1e\u0e22\u0e32\u0e01\u0e23 CRD \u0e17\u0e35\u0e48\u0e40\u0e23\u0e35\u0e22\u0e01\u0e27\u0e48\u0e32 &#39;CasbinModel&#39;",id:"\u0e43\u0e19-k8s-gatekeeper-casbin-model-\u0e16\u0e39\u0e01\u0e40\u0e01\u0e47\u0e1a\u0e44\u0e27\u0e49\u0e43\u0e19\u0e17\u0e23\u0e31\u0e1e\u0e22\u0e32\u0e01\u0e23-crd-\u0e17\u0e35\u0e48\u0e40\u0e23\u0e35\u0e22\u0e01\u0e27\u0e48\u0e32-casbinmodel",level:4},{value:"\u0e40\u0e23\u0e32\u0e40\u0e02\u0e49\u0e32\u0e43\u0e08\u0e27\u0e48\u0e32\u0e2d\u0e32\u0e08\u0e21\u0e35\u0e2a\u0e16\u0e32\u0e19\u0e01\u0e32\u0e23\u0e13\u0e4c\u0e17\u0e35\u0e48\u0e44\u0e21\u0e48\u0e2a\u0e30\u0e14\u0e27\u0e01\u0e43\u0e19\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49 shell \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e17\u0e33\u0e01\u0e32\u0e23\u0e23\u0e31\u0e19\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07\u0e42\u0e14\u0e22\u0e15\u0e23\u0e07\u0e1a\u0e19\u0e42\u0e2b\u0e19\u0e14\u0e02\u0e2d\u0e07\u0e04\u0e25\u0e31\u0e2a\u0e40\u0e15\u0e2d\u0e23\u0e4c K8s, \u0e40\u0e0a\u0e48\u0e19\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e04\u0e38\u0e13\u0e01\u0e33\u0e25\u0e31\u0e07\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e41\u0e1e\u0e25\u0e15\u0e1f\u0e2d\u0e23\u0e4c\u0e21\u0e04\u0e25\u0e32\u0e27\u0e14\u0e4c\u0e2d\u0e31\u0e15\u0e42\u0e19\u0e21\u0e31\u0e15\u0e34\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e1a\u0e23\u0e34\u0e29\u0e31\u0e17\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13",id:"\u0e40\u0e23\u0e32\u0e40\u0e02\u0e49\u0e32\u0e43\u0e08\u0e27\u0e48\u0e32\u0e2d\u0e32\u0e08\u0e21\u0e35\u0e2a\u0e16\u0e32\u0e19\u0e01\u0e32\u0e23\u0e13\u0e4c\u0e17\u0e35\u0e48\u0e44\u0e21\u0e48\u0e2a\u0e30\u0e14\u0e27\u0e01\u0e43\u0e19\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49-shell-\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e17\u0e33\u0e01\u0e32\u0e23\u0e23\u0e31\u0e19\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07\u0e42\u0e14\u0e22\u0e15\u0e23\u0e07\u0e1a\u0e19\u0e42\u0e2b\u0e19\u0e14\u0e02\u0e2d\u0e07\u0e04\u0e25\u0e31\u0e2a\u0e40\u0e15\u0e2d\u0e23\u0e4c-k8s-\u0e40\u0e0a\u0e48\u0e19\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e04\u0e38\u0e13\u0e01\u0e33\u0e25\u0e31\u0e07\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e41\u0e1e\u0e25\u0e15\u0e1f\u0e2d\u0e23\u0e4c\u0e21\u0e04\u0e25\u0e32\u0e27\u0e14\u0e4c\u0e2d\u0e31\u0e15\u0e42\u0e19\u0e21\u0e31\u0e15\u0e34\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e1a\u0e23\u0e34\u0e29\u0e31\u0e17\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13",level:4},{value:"3.1.2 \u0e25\u0e2d\u0e07\u0e14\u0e39\u0e27\u0e48\u0e32 K8s-gatekeeper \u0e17\u0e33\u0e07\u0e32\u0e19\u0e44\u0e14\u0e49\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48",id:"312-\u0e25\u0e2d\u0e07\u0e14\u0e39\u0e27\u0e48\u0e32-k8s-gatekeeper-\u0e17\u0e33\u0e07\u0e32\u0e19\u0e44\u0e14\u0e49\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48",level:3},{value:"4. \u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e40\u0e02\u0e35\u0e22\u0e19\u0e42\u0e21\u0e40\u0e14\u0e25\u0e41\u0e25\u0e30\u0e19\u0e42\u0e22\u0e1a\u0e32\u0e22\u0e14\u0e49\u0e27\u0e22 K8s-gatekeeper",id:"4-\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e40\u0e02\u0e35\u0e22\u0e19\u0e42\u0e21\u0e40\u0e14\u0e25\u0e41\u0e25\u0e30\u0e19\u0e42\u0e22\u0e1a\u0e32\u0e22\u0e14\u0e49\u0e27\u0e22-k8s-gatekeeper",level:2},{value:"4.1 \u0e04\u0e33\u0e19\u0e34\u0e22\u0e32\u0e21\u0e02\u0e2d\u0e07\u0e04\u0e33\u0e02\u0e2d\u0e43\u0e19\u0e42\u0e21\u0e40\u0e14\u0e25",id:"41-\u0e04\u0e33\u0e19\u0e34\u0e22\u0e32\u0e21\u0e02\u0e2d\u0e07\u0e04\u0e33\u0e02\u0e2d\u0e43\u0e19\u0e42\u0e21\u0e40\u0e14\u0e25",level:3},{value:"4.2 Matchers \u0e02\u0e2d\u0e07\u0e42\u0e21\u0e40\u0e14\u0e25",id:"42-matchers-\u0e02\u0e2d\u0e07\u0e42\u0e21\u0e40\u0e14\u0e25",level:3},{value:"4.2.1 \u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19\u0e2a\u0e48\u0e27\u0e19\u0e02\u0e22\u0e32\u0e22",id:"421-\u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19\u0e2a\u0e48\u0e27\u0e19\u0e02\u0e22\u0e32\u0e22",level:3},{value:"4.2.1.1 access",id:"4211-access",level:4},{value:"4.2.1.2 accessWithWildcard",id:"4212-accesswithwildcard",level:4},{value:"4.2.1.3 \u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19\u0e17\u0e35\u0e48\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a\u0e2d\u0e32\u0e23\u0e4c\u0e01\u0e34\u0e27\u0e40\u0e21\u0e19\u0e15\u0e4c\u0e04\u0e27\u0e32\u0e21\u0e22\u0e32\u0e27\u0e41\u0e1b\u0e23\u0e1c\u0e31\u0e19",id:"4213-\u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19\u0e17\u0e35\u0e48\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a\u0e2d\u0e32\u0e23\u0e4c\u0e01\u0e34\u0e27\u0e40\u0e21\u0e19\u0e15\u0e4c\u0e04\u0e27\u0e32\u0e21\u0e22\u0e32\u0e27\u0e41\u0e1b\u0e23\u0e1c\u0e31\u0e19",level:3},{value:"4.2.1.2 \u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19\u0e01\u0e32\u0e23\u0e41\u0e1b\u0e25\u0e07\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25",id:"4212-\u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19\u0e01\u0e32\u0e23\u0e41\u0e1b\u0e25\u0e07\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25",level:4},{value:"5. \u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e02\u0e31\u0e49\u0e19\u0e2a\u0e39\u0e07",id:"5-\u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e02\u0e31\u0e49\u0e19\u0e2a\u0e39\u0e07",level:2},{value:"5.1 \u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07",id:"51-\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07",level:3},{value:"5.1.1 \u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07\u0e17\u0e35\u0e48\u0e25\u0e07\u0e19\u0e32\u0e21\u0e40\u0e2d\u0e07",id:"511-\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07\u0e17\u0e35\u0e48\u0e25\u0e07\u0e19\u0e32\u0e21\u0e40\u0e2d\u0e07",level:4},{value:"\u0e16\u0e49\u0e32\u0e04\u0e38\u0e13\u0e43\u0e0a\u0e49 helm, \u0e01\u0e32\u0e23\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e41\u0e1b\u0e25\u0e07\u0e17\u0e35\u0e48\u0e04\u0e25\u0e49\u0e32\u0e22\u0e01\u0e31\u0e19\u0e08\u0e33\u0e40\u0e1b\u0e47\u0e19\u0e15\u0e49\u0e2d\u0e07\u0e16\u0e39\u0e01\u0e19\u0e33\u0e44\u0e1b\u0e43\u0e0a\u0e49\u0e01\u0e31\u0e1a\u0e41\u0e1c\u0e19\u0e20\u0e39\u0e21\u0e34 helm",id:"\u0e16\u0e49\u0e32\u0e04\u0e38\u0e13\u0e43\u0e0a\u0e49-helm-\u0e01\u0e32\u0e23\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e41\u0e1b\u0e25\u0e07\u0e17\u0e35\u0e48\u0e04\u0e25\u0e49\u0e32\u0e22\u0e01\u0e31\u0e19\u0e08\u0e33\u0e40\u0e1b\u0e47\u0e19\u0e15\u0e49\u0e2d\u0e07\u0e16\u0e39\u0e01\u0e19\u0e33\u0e44\u0e1b\u0e43\u0e0a\u0e49\u0e01\u0e31\u0e1a\u0e41\u0e1c\u0e19\u0e20\u0e39\u0e21\u0e34-helm",level:4}];function t(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.h2,{id:"1-\u0e20\u0e32\u0e1e\u0e23\u0e27\u0e21--\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a-casbin-k8s-gatekeeper",children:"1. \u0e20\u0e32\u0e1e\u0e23\u0e27\u0e21 & \u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a Casbin K8s-Gatekeeper"}),"\n",(0,l.jsx)(s.p,{children:"Casbin K8s-GateKeeper \u0e40\u0e1b\u0e47\u0e19 Kubernetes admission webhook \u0e17\u0e35\u0e48\u0e23\u0e27\u0e21 Casbin \u0e40\u0e02\u0e49\u0e32\u0e01\u0e31\u0e1a\u0e40\u0e04\u0e23\u0e37\u0e48\u0e2d\u0e07\u0e21\u0e37\u0e2d\u0e04\u0e27\u0e1a\u0e04\u0e38\u0e21\u0e01\u0e32\u0e23\u0e40\u0e02\u0e49\u0e32\u0e16\u0e36\u0e07 \u0e42\u0e14\u0e22\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49 Casbin K8s-GateKeeper \u0e04\u0e38\u0e13\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e01\u0e33\u0e2b\u0e19\u0e14\u0e01\u0e0e\u0e17\u0e35\u0e48\u0e22\u0e37\u0e14\u0e2b\u0e22\u0e38\u0e48\u0e19\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15\u0e2b\u0e23\u0e37\u0e2d\u0e02\u0e31\u0e14\u0e02\u0e27\u0e32\u0e07\u0e01\u0e32\u0e23\u0e14\u0e33\u0e40\u0e19\u0e34\u0e19\u0e01\u0e32\u0e23\u0e43\u0e14 \u0e46 \u0e1a\u0e19\u0e17\u0e23\u0e31\u0e1e\u0e22\u0e32\u0e01\u0e23 K8s \u0e42\u0e14\u0e22\u0e44\u0e21\u0e48\u0e15\u0e49\u0e2d\u0e07\u0e40\u0e02\u0e35\u0e22\u0e19\u0e42\u0e04\u0e49\u0e14\u0e43\u0e14 \u0e46 \u0e40\u0e1e\u0e35\u0e22\u0e07\u0e41\u0e04\u0e48\u0e1a\u0e23\u0e23\u0e17\u0e31\u0e14\u0e2a\u0e31\u0e48\u0e07\u0e01\u0e32\u0e23\u0e17\u0e35\u0e48\u0e40\u0e1b\u0e47\u0e19 declarative configurations \u0e02\u0e2d\u0e07 Casbin models \u0e41\u0e25\u0e30 policies \u0e0b\u0e36\u0e48\u0e07\u0e40\u0e1b\u0e47\u0e19\u0e2a\u0e48\u0e27\u0e19\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e02\u0e2d\u0e07\u0e20\u0e32\u0e29\u0e32 ACL (Access Control List) \u0e02\u0e2d\u0e07 Casbin"}),"\n",(0,l.jsxs)(s.p,{children:["Casbin K8s-GateKeeper \u0e16\u0e39\u0e01\u0e1e\u0e31\u0e12\u0e19\u0e32\u0e41\u0e25\u0e30\u0e14\u0e39\u0e41\u0e25\u0e42\u0e14\u0e22\u0e0a\u0e38\u0e21\u0e0a\u0e19 Casbin \u0e17\u0e35\u0e48\u0e40\u0e01\u0e47\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e02\u0e2d\u0e07\u0e42\u0e1b\u0e23\u0e40\u0e08\u0e47\u0e01\u0e15\u0e4c\u0e19\u0e35\u0e49\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e02\u0e49\u0e32\u0e16\u0e36\u0e07\u0e44\u0e14\u0e49\u0e17\u0e35\u0e48\u0e19\u0e35\u0e48: ",(0,l.jsx)(s.a,{href:"https://github.com/casbin/k8s-gatekeeper",children:"https://github.com/casbin/k8s-gatekeeper"})]}),"\n",(0,l.jsx)(s.h3,{id:"01-\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e07\u0e48\u0e32\u0e22-\u0e46",children:"0.1 \u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e07\u0e48\u0e32\u0e22 \u0e46"}),"\n",(0,l.jsx)(s.p,{children:'\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e40\u0e0a\u0e48\u0e19 \u0e04\u0e38\u0e13\u0e44\u0e21\u0e48\u0e08\u0e33\u0e40\u0e1b\u0e47\u0e19\u0e15\u0e49\u0e2d\u0e07\u0e40\u0e02\u0e35\u0e22\u0e19\u0e42\u0e04\u0e49\u0e14\u0e43\u0e14 \u0e46 \u0e41\u0e15\u0e48\u0e43\u0e0a\u0e49\u0e1a\u0e23\u0e23\u0e17\u0e31\u0e14\u0e01\u0e32\u0e23\u0e01\u0e33\u0e2b\u0e19\u0e14\u0e04\u0e48\u0e32\u0e15\u0e48\u0e2d\u0e44\u0e1b\u0e19\u0e35\u0e49\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e17\u0e33\u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19\u0e19\u0e35\u0e49: "\u0e2b\u0e49\u0e32\u0e21\u0e43\u0e0a\u0e49 images \u0e17\u0e35\u0e48\u0e21\u0e35 tags \u0e17\u0e35\u0e48\u0e23\u0e30\u0e1a\u0e38\u0e44\u0e27\u0e49\u0e43\u0e19 deployments \u0e43\u0e14 \u0e46":'}),"\n",(0,l.jsx)(s.p,{children:"Model:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-ini",children:'[request_definition]\nr =  obj\n\n[policy_definition]\np =  obj,eft\n\n[policy_effect]\ne = !some(where (p.eft == deny))\n\n[matchers]\nm = r.obj.Request.Namespace == "default" && r.obj.Request.Resource.Resource =="deployments" && \\\ncontain(split(accessWithWildcard(${OBJECT}.Spec.Template.Spec.Containers , "*", "Image"),":",1) , p.obj)\n'})}),"\n",(0,l.jsx)(s.p,{children:"And Policy:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-csv",children:'p, "1.14.1",deny\n'})}),"\n",(0,l.jsx)(s.p,{children:"\u0e40\u0e2b\u0e25\u0e48\u0e32\u0e19\u0e35\u0e49\u0e40\u0e1b\u0e47\u0e19\u0e20\u0e32\u0e29\u0e32 ACL \u0e02\u0e2d\u0e07 Casbin \u0e17\u0e31\u0e48\u0e27\u0e44\u0e1b \u0e2a\u0e21\u0e21\u0e15\u0e34\u0e27\u0e48\u0e32\u0e04\u0e38\u0e13\u0e44\u0e14\u0e49\u0e2d\u0e48\u0e32\u0e19\u0e1a\u0e17\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a\u0e1e\u0e27\u0e01\u0e40\u0e02\u0e32\u0e41\u0e25\u0e49\u0e27 \u0e21\u0e31\u0e19\u0e08\u0e30\u0e40\u0e02\u0e49\u0e32\u0e43\u0e08\u0e44\u0e14\u0e49\u0e07\u0e48\u0e32\u0e22\u0e21\u0e32\u0e01"}),"\n",(0,l.jsx)(s.p,{children:"Casbin K8s-Gatekeeper \u0e21\u0e35\u0e02\u0e49\u0e2d\u0e14\u0e35\u0e14\u0e31\u0e07\u0e15\u0e48\u0e2d\u0e44\u0e1b\u0e19\u0e35\u0e49:"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e07\u0e48\u0e32\u0e22 \u0e01\u0e32\u0e23\u0e40\u0e02\u0e35\u0e22\u0e19\u0e1a\u0e23\u0e23\u0e17\u0e31\u0e14 ACL \u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e1a\u0e23\u0e23\u0e17\u0e31\u0e14\u0e14\u0e35\u0e01\u0e27\u0e48\u0e32\u0e01\u0e32\u0e23\u0e40\u0e02\u0e35\u0e22\u0e19\u0e42\u0e04\u0e49\u0e14\u0e21\u0e32\u0e01\u0e21\u0e32\u0e22"}),"\n",(0,l.jsx)(s.li,{children:"\u0e21\u0e31\u0e19\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15\u0e43\u0e2b\u0e49\u0e2d\u0e31\u0e1b\u0e40\u0e14\u0e15\u0e01\u0e32\u0e23\u0e01\u0e33\u0e2b\u0e19\u0e14\u0e04\u0e48\u0e32\u0e44\u0e14\u0e49\u0e17\u0e31\u0e19\u0e17\u0e35 \u0e04\u0e38\u0e13\u0e44\u0e21\u0e48\u0e08\u0e33\u0e40\u0e1b\u0e47\u0e19\u0e15\u0e49\u0e2d\u0e07\u0e1b\u0e34\u0e14\u0e1b\u0e25\u0e31\u0e4a\u0e01\u0e2d\u0e34\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e41\u0e01\u0e49\u0e44\u0e02\u0e01\u0e32\u0e23\u0e01\u0e33\u0e2b\u0e19\u0e14\u0e04\u0e48\u0e32"}),"\n",(0,l.jsxs)(s.li,{children:["\u0e21\u0e31\u0e19\u0e22\u0e37\u0e14\u0e2b\u0e22\u0e38\u0e48\u0e19 \u0e01\u0e0e\u0e17\u0e35\u0e48\u0e44\u0e21\u0e48\u0e08\u0e33\u0e01\u0e31\u0e14\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e17\u0e33\u0e44\u0e14\u0e49\u0e1a\u0e19\u0e17\u0e23\u0e31\u0e1e\u0e22\u0e32\u0e01\u0e23 K8s \u0e43\u0e14 \u0e46 \u0e0b\u0e36\u0e48\u0e07\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e2a\u0e33\u0e23\u0e27\u0e08\u0e44\u0e14\u0e49\u0e14\u0e49\u0e27\u0e22 ",(0,l.jsx)(s.code,{children:"kubectl gatekeeper"})]}),"\n",(0,l.jsx)(s.li,{children:"\u0e21\u0e31\u0e19\u0e17\u0e33\u0e43\u0e2b\u0e49\u0e01\u0e32\u0e23\u0e14\u0e33\u0e40\u0e19\u0e34\u0e19\u0e01\u0e32\u0e23\u0e02\u0e2d\u0e07 K8s admission webhook \u0e0b\u0e36\u0e48\u0e07\u0e0b\u0e31\u0e1a\u0e0b\u0e49\u0e2d\u0e19\u0e21\u0e32\u0e01 \u0e07\u0e48\u0e32\u0e22\u0e02\u0e36\u0e49\u0e19 \u0e04\u0e38\u0e13\u0e44\u0e21\u0e48\u0e08\u0e33\u0e40\u0e1b\u0e47\u0e19\u0e15\u0e49\u0e2d\u0e07\u0e23\u0e39\u0e49\u0e27\u0e48\u0e32 K8s admission webhook \u0e04\u0e37\u0e2d\u0e2d\u0e30\u0e44\u0e23\u0e2b\u0e23\u0e37\u0e2d\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e40\u0e02\u0e35\u0e22\u0e19\u0e42\u0e04\u0e49\u0e14\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e21\u0e31\u0e19 \u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14\u0e17\u0e35\u0e48\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e17\u0e33\u0e04\u0e37\u0e2d\u0e23\u0e39\u0e49\u0e17\u0e23\u0e31\u0e1e\u0e22\u0e32\u0e01\u0e23\u0e17\u0e35\u0e48\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e08\u0e33\u0e01\u0e31\u0e14\u0e41\u0e25\u0e30\u0e08\u0e32\u0e01\u0e19\u0e31\u0e49\u0e19\u0e40\u0e02\u0e35\u0e22\u0e19 Casbin ACL \u0e17\u0e38\u0e01\u0e04\u0e19\u0e23\u0e39\u0e49\u0e27\u0e48\u0e32 K8s \u0e21\u0e35\u0e04\u0e27\u0e32\u0e21\u0e0b\u0e31\u0e1a\u0e0b\u0e49\u0e2d\u0e19 \u0e41\u0e15\u0e48\u0e42\u0e14\u0e22\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49 Casbin K8s-Gatekeeper \u0e04\u0e38\u0e13\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e1b\u0e23\u0e30\u0e2b\u0e22\u0e31\u0e14\u0e40\u0e27\u0e25\u0e32\u0e44\u0e14\u0e49"}),"\n",(0,l.jsx)(s.li,{children:"\u0e21\u0e31\u0e19\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e14\u0e39\u0e41\u0e25\u0e42\u0e14\u0e22\u0e0a\u0e38\u0e21\u0e0a\u0e19 Casbin \u0e15\u0e34\u0e14\u0e15\u0e48\u0e2d\u0e40\u0e23\u0e32\u0e44\u0e14\u0e49\u0e40\u0e2a\u0e21\u0e2d\u0e2b\u0e32\u0e01\u0e04\u0e38\u0e13\u0e21\u0e35\u0e04\u0e27\u0e32\u0e21\u0e2a\u0e31\u0e1a\u0e2a\u0e19\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a\u0e1b\u0e25\u0e31\u0e4a\u0e01\u0e2d\u0e34\u0e19\u0e19\u0e35\u0e49\u0e2b\u0e23\u0e37\u0e2d\u0e2b\u0e32\u0e01\u0e04\u0e38\u0e13\u0e1e\u0e1a\u0e1b\u0e31\u0e0d\u0e2b\u0e32\u0e43\u0e14 \u0e46 \u0e40\u0e21\u0e37\u0e48\u0e2d\u0e25\u0e2d\u0e07\u0e43\u0e0a\u0e49"}),"\n"]}),"\n",(0,l.jsx)(s.h3,{id:"11-casbin-k8s-gatekeeper-\u0e17\u0e33\u0e07\u0e32\u0e19\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e44\u0e23",children:"1.1 Casbin K8s-Gatekeeper \u0e17\u0e33\u0e07\u0e32\u0e19\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e44\u0e23?"}),"\n",(0,l.jsxs)(s.p,{children:["K8s-Gatekeeper \u0e40\u0e1b\u0e47\u0e19 admission webhook \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a K8s \u0e17\u0e35\u0e48\u0e43\u0e0a\u0e49 ",(0,l.jsx)(s.a,{href:"/docs/overview",children:"Casbin"})," \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e43\u0e0a\u0e49\u0e01\u0e0e\u0e01\u0e32\u0e23\u0e04\u0e27\u0e1a\u0e04\u0e38\u0e21\u0e01\u0e32\u0e23\u0e40\u0e02\u0e49\u0e32\u0e16\u0e36\u0e07\u0e17\u0e35\u0e48\u0e01\u0e33\u0e2b\u0e19\u0e14\u0e42\u0e14\u0e22\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e0a\u0e48\u0e27\u0e22\u0e1b\u0e49\u0e2d\u0e07\u0e01\u0e31\u0e19\u0e01\u0e32\u0e23\u0e14\u0e33\u0e40\u0e19\u0e34\u0e19\u0e01\u0e32\u0e23\u0e43\u0e14 \u0e46 \u0e1a\u0e19 K8s \u0e17\u0e35\u0e48\u0e1c\u0e39\u0e49\u0e14\u0e39\u0e41\u0e25\u0e23\u0e30\u0e1a\u0e1a\u0e44\u0e21\u0e48\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23"]}),"\n",(0,l.jsxs)(s.p,{children:["Casbin \u0e40\u0e1b\u0e47\u0e19\u0e44\u0e25\u0e1a\u0e23\u0e32\u0e23\u0e35\u0e04\u0e27\u0e1a\u0e04\u0e38\u0e21\u0e01\u0e32\u0e23\u0e40\u0e02\u0e49\u0e32\u0e16\u0e36\u0e07\u0e41\u0e1a\u0e1a\u0e40\u0e1b\u0e34\u0e14\u0e17\u0e35\u0e48\u0e17\u0e23\u0e07\u0e1e\u0e25\u0e31\u0e07\u0e41\u0e25\u0e30\u0e21\u0e35\u0e1b\u0e23\u0e30\u0e2a\u0e34\u0e17\u0e18\u0e34\u0e20\u0e32\u0e1e \u0e21\u0e31\u0e19\u0e43\u0e2b\u0e49\u0e01\u0e32\u0e23\u0e2a\u0e19\u0e31\u0e1a\u0e2a\u0e19\u0e38\u0e19\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e1a\u0e31\u0e07\u0e04\u0e31\u0e1a\u0e43\u0e0a\u0e49\u0e01\u0e32\u0e23\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15\u0e15\u0e32\u0e21\u0e42\u0e21\u0e40\u0e14\u0e25\u0e01\u0e32\u0e23\u0e04\u0e27\u0e1a\u0e04\u0e38\u0e21\u0e01\u0e32\u0e23\u0e40\u0e02\u0e49\u0e32\u0e16\u0e36\u0e07\u0e17\u0e35\u0e48\u0e2b\u0e25\u0e32\u0e01\u0e2b\u0e25\u0e32\u0e22 \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a Casbin \u0e14\u0e39\u0e17\u0e35\u0e48 ",(0,l.jsx)(s.a,{href:"/docs/overview",children:"\u0e20\u0e32\u0e1e\u0e23\u0e27\u0e21"})]}),"\n",(0,l.jsxs)(s.p,{children:["Admission webhooks \u0e43\u0e19 K8s \u0e40\u0e1b\u0e47\u0e19 HTTP callbacks \u0e17\u0e35\u0e48\u0e23\u0e31\u0e1a 'admission requests' \u0e41\u0e25\u0e30\u0e17\u0e33\u0e2d\u0e30\u0e44\u0e23\u0e1a\u0e32\u0e07\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e01\u0e31\u0e1a\u0e1e\u0e27\u0e01\u0e40\u0e02\u0e32 \u0e42\u0e14\u0e22\u0e40\u0e09\u0e1e\u0e32\u0e30\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e22\u0e34\u0e48\u0e07 K8s-Gatekeeper \u0e40\u0e1b\u0e47\u0e19\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e1e\u0e34\u0e40\u0e28\u0e29\u0e02\u0e2d\u0e07 admission webhook: 'ValidatingAdmissionWebhook' \u0e0b\u0e36\u0e48\u0e07\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e15\u0e31\u0e14\u0e2a\u0e34\u0e19\u0e43\u0e08\u0e27\u0e48\u0e32\u0e08\u0e30\u0e22\u0e2d\u0e21\u0e23\u0e31\u0e1a\u0e2b\u0e23\u0e37\u0e2d\u0e1b\u0e0f\u0e34\u0e40\u0e2a\u0e18\u0e04\u0e33\u0e02\u0e2d\u0e19\u0e35\u0e49\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48 \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e04\u0e33\u0e02\u0e2d\u0e01\u0e32\u0e23\u0e23\u0e31\u0e1a\u0e40\u0e02\u0e49\u0e32 \u0e1e\u0e27\u0e01\u0e40\u0e02\u0e32\u0e40\u0e1b\u0e47\u0e19 HTTP requests \u0e17\u0e35\u0e48\u0e2d\u0e18\u0e34\u0e1a\u0e32\u0e22\u0e01\u0e32\u0e23\u0e14\u0e33\u0e40\u0e19\u0e34\u0e19\u0e01\u0e32\u0e23\u0e1a\u0e19\u0e17\u0e23\u0e31\u0e1e\u0e22\u0e32\u0e01\u0e23\u0e17\u0e35\u0e48\u0e23\u0e30\u0e1a\u0e38\u0e02\u0e2d\u0e07 K8s (\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e40\u0e0a\u0e48\u0e19 \u0e01\u0e32\u0e23\u0e2a\u0e23\u0e49\u0e32\u0e07/\u0e25\u0e1a deployment) \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a admission webhooks \u0e14\u0e39\u0e17\u0e35\u0e48 ",(0,l.jsx)(s.a,{href:"https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#what-are-admission-webhooks",children:"\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e40\u0e1b\u0e47\u0e19\u0e17\u0e32\u0e07\u0e01\u0e32\u0e23\u0e02\u0e2d\u0e07 K8s"})]}),"\n",(0,l.jsx)(s.h3,{id:"12-\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e17\u0e35\u0e48\u0e41\u0e2a\u0e14\u0e07\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e17\u0e33\u0e07\u0e32\u0e19",children:"1.2 \u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e17\u0e35\u0e48\u0e41\u0e2a\u0e14\u0e07\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e17\u0e33\u0e07\u0e32\u0e19"}),"\n",(0,l.jsx)(s.p,{children:"\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e40\u0e0a\u0e48\u0e19 \u0e40\u0e21\u0e37\u0e48\u0e2d\u0e21\u0e35\u0e04\u0e19\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e2a\u0e23\u0e49\u0e32\u0e07 deployment \u0e17\u0e35\u0e48\u0e21\u0e35 pod \u0e17\u0e35\u0e48\u0e23\u0e31\u0e19 nginx (\u0e42\u0e14\u0e22\u0e43\u0e0a\u0e49 kubectl \u0e2b\u0e23\u0e37\u0e2d K8s clients) K8s \u0e08\u0e30\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e04\u0e33\u0e02\u0e2d\u0e01\u0e32\u0e23\u0e23\u0e31\u0e1a\u0e40\u0e02\u0e49\u0e32 \u0e0b\u0e36\u0e48\u0e07 (\u0e16\u0e49\u0e32\u0e41\u0e1b\u0e25\u0e40\u0e1b\u0e47\u0e19\u0e23\u0e39\u0e1b\u0e41\u0e1a\u0e1a YAML) \u0e2d\u0e32\u0e08\u0e40\u0e1b\u0e47\u0e19\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e19\u0e35\u0e49:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-yaml",children:"apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx-deployment\nspec:\n  selector:\n    matchLabels:\n      app: nginx\n  replicas: 1\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx:1.14.1\n        ports:\n        - containerPort: 80\n"})}),"\n",(0,l.jsxs)(s.p,{children:["\u0e04\u0e33\u0e02\u0e2d\u0e19\u0e35\u0e49\u0e08\u0e30\u0e1c\u0e48\u0e32\u0e19\u0e01\u0e23\u0e30\u0e1a\u0e27\u0e19\u0e01\u0e32\u0e23\u0e02\u0e2d\u0e07\u0e17\u0e38\u0e01 middleware \u0e17\u0e35\u0e48\u0e41\u0e2a\u0e14\u0e07\u0e43\u0e19\u0e23\u0e39\u0e1b\u0e20\u0e32\u0e1e \u0e23\u0e27\u0e21\u0e16\u0e36\u0e07 K8s-Gatekeeper \u0e02\u0e2d\u0e07\u0e40\u0e23\u0e32 K8s-Gatekeeper \u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e15\u0e23\u0e27\u0e08\u0e08\u0e31\u0e1a\u0e17\u0e38\u0e01 Casbin enforcers \u0e17\u0e35\u0e48\u0e40\u0e01\u0e47\u0e1a\u0e44\u0e27\u0e49\u0e43\u0e19 etcd \u0e02\u0e2d\u0e07 K8s \u0e0b\u0e36\u0e48\u0e07\u0e16\u0e39\u0e01\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e41\u0e25\u0e30\u0e14\u0e39\u0e41\u0e25\u0e42\u0e14\u0e22\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49 (\u0e1c\u0e48\u0e32\u0e19 ",(0,l.jsx)(s.code,{children:"kubectl"})," \u0e2b\u0e23\u0e37\u0e2d Go client \u0e17\u0e35\u0e48\u0e40\u0e23\u0e32\u0e43\u0e2b\u0e49\u0e1a\u0e23\u0e34\u0e01\u0e32\u0e23) \u0e41\u0e15\u0e48\u0e25\u0e30 enforcer \u0e1b\u0e23\u0e30\u0e01\u0e2d\u0e1a\u0e14\u0e49\u0e27\u0e22 Casbin model \u0e41\u0e25\u0e30 Casbin policy \u0e04\u0e33\u0e02\u0e2d\u0e01\u0e32\u0e23\u0e23\u0e31\u0e1a\u0e40\u0e02\u0e49\u0e32\u0e08\u0e30\u0e16\u0e39\u0e01\u0e1b\u0e23\u0e30\u0e21\u0e27\u0e25\u0e1c\u0e25\u0e42\u0e14\u0e22\u0e17\u0e38\u0e01 enforcer \u0e17\u0e35\u0e25\u0e30\u0e15\u0e31\u0e27 \u0e41\u0e25\u0e30\u0e40\u0e1e\u0e35\u0e22\u0e07\u0e41\u0e04\u0e48\u0e1c\u0e48\u0e32\u0e19\u0e17\u0e38\u0e01 enforcers \u0e04\u0e33\u0e02\u0e2d\u0e08\u0e36\u0e07\u0e08\u0e30\u0e16\u0e39\u0e01\u0e22\u0e2d\u0e21\u0e23\u0e31\u0e1a\u0e42\u0e14\u0e22 K8s-Gatekeeper \u0e19\u0e35\u0e49"]}),"\n",(0,l.jsxs)(s.p,{children:["(\u0e2b\u0e32\u0e01\u0e04\u0e38\u0e13\u0e44\u0e21\u0e48\u0e40\u0e02\u0e49\u0e32\u0e43\u0e08\u0e27\u0e48\u0e32 Casbin enforcer, model \u0e2b\u0e23\u0e37\u0e2d policy \u0e04\u0e37\u0e2d\u0e2d\u0e30\u0e44\u0e23 \u0e14\u0e39\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23\u0e19\u0e35\u0e49: ",(0,l.jsx)(s.a,{href:"/docs/get-started",children:"\u0e40\u0e23\u0e34\u0e48\u0e21\u0e15\u0e49\u0e19"}),")"]}),"\n",(0,l.jsx)(s.p,{children:"\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e40\u0e0a\u0e48\u0e19 \u0e14\u0e49\u0e27\u0e22\u0e40\u0e2b\u0e15\u0e38\u0e1c\u0e25\u0e1a\u0e32\u0e07\u0e2d\u0e22\u0e48\u0e32\u0e07 \u0e1c\u0e39\u0e49\u0e14\u0e39\u0e41\u0e25\u0e23\u0e30\u0e1a\u0e1a\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e2b\u0e49\u0e32\u0e21\u0e01\u0e32\u0e23\u0e1b\u0e23\u0e32\u0e01\u0e0f\u0e02\u0e2d\u0e07 image 'nginx:1.14.1' \u0e43\u0e19\u0e02\u0e13\u0e30\u0e17\u0e35\u0e48\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15 'nginx:1.3.1' \u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e2a\u0e23\u0e49\u0e32\u0e07 enforcer \u0e17\u0e35\u0e48\u0e21\u0e35\u0e01\u0e0e\u0e41\u0e25\u0e30\u0e19\u0e42\u0e22\u0e1a\u0e32\u0e22\u0e15\u0e48\u0e2d\u0e44\u0e1b\u0e19\u0e35\u0e49\u0e44\u0e14\u0e49 (\u0e40\u0e23\u0e32\u0e08\u0e30\u0e2d\u0e18\u0e34\u0e1a\u0e32\u0e22\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e2a\u0e23\u0e49\u0e32\u0e07 enforcer \u0e27\u0e48\u0e32\u0e42\u0e21\u0e40\u0e14\u0e25\u0e41\u0e25\u0e30\u0e19\u0e42\u0e22\u0e1a\u0e32\u0e22\u0e40\u0e2b\u0e25\u0e48\u0e32\u0e19\u0e35\u0e49\u0e04\u0e37\u0e2d\u0e2d\u0e30\u0e44\u0e23 \u0e41\u0e25\u0e30\u0e27\u0e34\u0e18\u0e35\u0e40\u0e02\u0e35\u0e22\u0e19\u0e1e\u0e27\u0e01\u0e40\u0e02\u0e32\u0e43\u0e19\u0e1a\u0e17\u0e15\u0e48\u0e2d\u0e44\u0e1b)"}),"\n",(0,l.jsx)(s.p,{children:"Model:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-ini",children:'[request_definition]\nr =  obj\n\n[policy_definition]\np =  obj,eft\n\n[policy_effect]\ne = !some(where (p.eft == deny))\n\n[matchers]\nm = r.obj.Request.Namespace == "default" && r.obj.Request.Resource.Resource =="deployments" && \\\naccess(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, "Image") == p.obj\n\n'})}),"\n",(0,l.jsx)(s.p,{children:"Policy:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-csv",children:'p, "nginx:1.13.1",allow\np, "nginx:1.14.1",deny\n'})}),"\n",(0,l.jsx)(s.p,{children:"\u0e42\u0e14\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e23\u0e49\u0e32\u0e07 enforcer \u0e17\u0e35\u0e48\u0e21\u0e35\u0e42\u0e21\u0e40\u0e14\u0e25\u0e41\u0e25\u0e30\u0e19\u0e42\u0e22\u0e1a\u0e32\u0e22\u0e14\u0e49\u0e32\u0e19\u0e1a\u0e19 \u0e04\u0e33\u0e02\u0e2d\u0e01\u0e32\u0e23\u0e23\u0e31\u0e1a\u0e40\u0e02\u0e49\u0e32\u0e01\u0e48\u0e2d\u0e19\u0e2b\u0e19\u0e49\u0e32\u0e19\u0e35\u0e49\u0e08\u0e30\u0e16\u0e39\u0e01\u0e1b\u0e0f\u0e34\u0e40\u0e2a\u0e18\u0e42\u0e14\u0e22 enforcer \u0e19\u0e35\u0e49 \u0e0b\u0e36\u0e48\u0e07\u0e2b\u0e21\u0e32\u0e22\u0e04\u0e27\u0e32\u0e21\u0e27\u0e48\u0e32 K8s \u0e08\u0e30\u0e44\u0e21\u0e48\u0e2a\u0e23\u0e49\u0e32\u0e07 deployment \u0e19\u0e35\u0e49"}),"\n",(0,l.jsx)(s.h2,{id:"2-\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07-k8s-gatekeeper",children:"2 \u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07 K8s-gatekeeper"}),"\n",(0,l.jsx)(s.p,{children:"\u0e21\u0e35\u0e2a\u0e32\u0e21\u0e27\u0e34\u0e18\u0e35\u0e17\u0e35\u0e48\u0e21\u0e35\u0e43\u0e2b\u0e49\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07 K8s-gatekeeper: External webhook, Internal webhook \u0e41\u0e25\u0e30 Helm"}),"\n",(0,l.jsx)(s.admonition,{type:"note",children:(0,l.jsxs)(s.p,{children:["\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38: \u0e27\u0e34\u0e18\u0e35\u0e40\u0e2b\u0e25\u0e48\u0e32\u0e19\u0e35\u0e49\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e43\u0e2b\u0e49\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e25\u0e2d\u0e07\u0e43\u0e0a\u0e49 K8s-gatekeeper \u0e40\u0e17\u0e48\u0e32\u0e19\u0e31\u0e49\u0e19\u0e41\u0e25\u0e30\u0e44\u0e21\u0e48\u0e1b\u0e25\u0e2d\u0e14\u0e20\u0e31\u0e22 \u0e2b\u0e32\u0e01\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e43\u0e19\u0e2a\u0e20\u0e32\u0e1e\u0e41\u0e27\u0e14\u0e25\u0e49\u0e2d\u0e21\u0e01\u0e32\u0e23\u0e1c\u0e25\u0e34\u0e15 \u0e42\u0e1b\u0e23\u0e14\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e27\u0e48\u0e32\u0e04\u0e38\u0e13\u0e44\u0e14\u0e49\u0e2d\u0e48\u0e32\u0e19 ",(0,l.jsx)(s.a,{href:"#5-advanced-settings",children:"\u0e1a\u0e17\u0e17\u0e35\u0e48 5. \u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e02\u0e31\u0e49\u0e19\u0e2a\u0e39\u0e07"})," \u0e41\u0e25\u0e30\u0e17\u0e33\u0e01\u0e32\u0e23\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e41\u0e1b\u0e25\u0e07\u0e17\u0e35\u0e48\u0e08\u0e33\u0e40\u0e1b\u0e47\u0e19\u0e01\u0e48\u0e2d\u0e19\u0e01\u0e32\u0e23\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07 2.1 Internal webhook"]})}),"\n",(0,l.jsx)(s.h3,{id:"211-\u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e17\u0e35\u0e48-1-\u0e2a\u0e23\u0e49\u0e32\u0e07-image",children:"2.1.1 \u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e17\u0e35\u0e48 1: \u0e2a\u0e23\u0e49\u0e32\u0e07 image"}),"\n",(0,l.jsx)(s.h4,{id:"211-step-1-build-the-image",children:"2.1.1 Step 1: Build the image"}),"\n",(0,l.jsx)(s.p,{children:"\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23 webhook \u0e20\u0e32\u0e22\u0e43\u0e19, webhook \u0e19\u0e31\u0e49\u0e19\u0e08\u0e30\u0e16\u0e39\u0e01\u0e19\u0e33\u0e21\u0e32\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e40\u0e1b\u0e47\u0e19\u0e1a\u0e23\u0e34\u0e01\u0e32\u0e23\u0e20\u0e32\u0e22\u0e43\u0e19 Kubernetes \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e1a\u0e23\u0e34\u0e01\u0e32\u0e23\u0e41\u0e25\u0e30\u0e01\u0e32\u0e23\u0e1b\u0e23\u0e31\u0e1a\u0e43\u0e0a\u0e49\u0e17\u0e35\u0e48\u0e08\u0e33\u0e40\u0e1b\u0e47\u0e19, \u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e20\u0e32\u0e1e\u0e02\u0e2d\u0e07 K8s-gatekeeper \u0e04\u0e38\u0e13\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e20\u0e32\u0e1e\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e40\u0e2d\u0e07\u0e44\u0e14\u0e49\u0e42\u0e14\u0e22\u0e01\u0e32\u0e23\u0e23\u0e31\u0e19\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07\u0e15\u0e48\u0e2d\u0e44\u0e1b\u0e19\u0e35\u0e49:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-shell",children:"docker build --target webhook -t k8s-gatekeeper .\n"})}),"\n",(0,l.jsxs)(s.p,{children:["\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07\u0e19\u0e35\u0e49\u0e08\u0e30\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e20\u0e32\u0e1e\u0e43\u0e19\u0e40\u0e04\u0e23\u0e37\u0e48\u0e2d\u0e07\u0e17\u0e49\u0e2d\u0e07\u0e16\u0e34\u0e48\u0e19\u0e0a\u0e37\u0e48\u0e2d 'k8s-gatekeeper",":latest","'"]}),"\n",(0,l.jsx)(s.admonition,{type:"note",children:(0,l.jsxs)(s.p,{children:["\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38: \u0e2b\u0e32\u0e01\u0e04\u0e38\u0e13\u0e01\u0e33\u0e25\u0e31\u0e07\u0e43\u0e0a\u0e49 minikube, \u0e01\u0e23\u0e38\u0e13\u0e32\u0e17\u0e33\u0e01\u0e32\u0e23\u0e23\u0e31\u0e19 ",(0,l.jsx)(s.code,{children:"eval $(minikube -p minikube docker-env)"})," \u0e01\u0e48\u0e2d\u0e19\u0e17\u0e35\u0e48\u0e08\u0e30\u0e23\u0e31\u0e19 'docker build'"]})}),"\n",(0,l.jsx)(s.h4,{id:"212-\u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e17\u0e35\u0e48-2-\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e1a\u0e23\u0e34\u0e01\u0e32\u0e23\u0e41\u0e25\u0e30\u0e01\u0e32\u0e23\u0e1b\u0e23\u0e31\u0e1a\u0e43\u0e0a\u0e49\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a-k8s-gatekeeper",children:"2.1.2 \u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e17\u0e35\u0e48 2: \u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e1a\u0e23\u0e34\u0e01\u0e32\u0e23\u0e41\u0e25\u0e30\u0e01\u0e32\u0e23\u0e1b\u0e23\u0e31\u0e1a\u0e43\u0e0a\u0e49\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a K8s-gatekeeper"}),"\n",(0,l.jsx)(s.p,{children:"\u0e23\u0e31\u0e19\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07\u0e15\u0e48\u0e2d\u0e44\u0e1b\u0e19\u0e35\u0e49:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-shell",children:"kubectl apply -f config/rbac.yaml\nkubectl apply -f config/webhook_deployment.yaml \nkubectl apply -f config/webhook_internal.yaml \n"})}),"\n",(0,l.jsxs)(s.p,{children:["\u0e2a\u0e34\u0e48\u0e07\u0e19\u0e35\u0e49\u0e08\u0e30\u0e40\u0e23\u0e34\u0e48\u0e21\u0e01\u0e32\u0e23\u0e17\u0e33\u0e07\u0e32\u0e19\u0e02\u0e2d\u0e07 K8s-gatekeeper, \u0e41\u0e25\u0e30\u0e04\u0e38\u0e13\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e44\u0e14\u0e49\u0e42\u0e14\u0e22\u0e01\u0e32\u0e23\u0e23\u0e31\u0e19 ",(0,l.jsx)(s.code,{children:"kubectl get pods"})]}),"\n",(0,l.jsx)(s.h4,{id:"213-\u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e17\u0e35\u0e48-3-\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e17\u0e23\u0e31\u0e1e\u0e22\u0e32\u0e01\u0e23-crd-\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a-k8s-gatekeeper",children:"2.1.3 \u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e17\u0e35\u0e48 3: \u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e17\u0e23\u0e31\u0e1e\u0e22\u0e32\u0e01\u0e23 CRD \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a K8s-gatekeeper"}),"\n",(0,l.jsx)(s.p,{children:"\u0e23\u0e31\u0e19\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07\u0e15\u0e48\u0e2d\u0e44\u0e1b\u0e19\u0e35\u0e49:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-shell",children:"kubectl apply -f config/auth.casbin.org_casbinmodels.yaml \nkubectl apply -f config/auth.casbin.org_casbinpolicies.yaml\n"})}),"\n",(0,l.jsx)(s.h3,{id:"22-\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23-webhook-\u0e20\u0e32\u0e22\u0e19\u0e2d\u0e01",children:"2.2 \u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23 webhook \u0e20\u0e32\u0e22\u0e19\u0e2d\u0e01"}),"\n",(0,l.jsxs)(s.p,{children:["\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23 webhook \u0e20\u0e32\u0e22\u0e19\u0e2d\u0e01, K8s-gatekeeper \u0e08\u0e30\u0e17\u0e33\u0e07\u0e32\u0e19\u0e19\u0e2d\u0e01 Kubernetes, \u0e41\u0e25\u0e30 Kubernetes \u0e08\u0e30\u0e40\u0e02\u0e49\u0e32\u0e16\u0e36\u0e07 K8s-gatekeeper \u0e40\u0e2b\u0e21\u0e37\u0e2d\u0e19\u0e01\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e40\u0e02\u0e49\u0e32\u0e16\u0e36\u0e07\u0e40\u0e27\u0e47\u0e1a\u0e44\u0e0b\u0e15\u0e4c\u0e17\u0e31\u0e48\u0e27\u0e44\u0e1b Kubernetes \u0e21\u0e35\u0e02\u0e49\u0e2d\u0e01\u0e33\u0e2b\u0e19\u0e14\u0e17\u0e35\u0e48\u0e08\u0e33\u0e40\u0e1b\u0e47\u0e19\u0e27\u0e48\u0e32 webhook \u0e17\u0e35\u0e48\u0e43\u0e2b\u0e49\u0e01\u0e32\u0e23\u0e22\u0e2d\u0e21\u0e23\u0e31\u0e1a\u0e15\u0e49\u0e2d\u0e07\u0e40\u0e1b\u0e47\u0e19 HTTPS \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e27\u0e31\u0e15\u0e16\u0e38\u0e1b\u0e23\u0e30\u0e2a\u0e07\u0e04\u0e4c\u0e43\u0e19\u0e01\u0e32\u0e23\u0e17\u0e14\u0e25\u0e2d\u0e07\u0e43\u0e0a\u0e49 K8s-gatekeeper, \u0e40\u0e23\u0e32\u0e44\u0e14\u0e49\u0e08\u0e31\u0e14\u0e40\u0e15\u0e23\u0e35\u0e22\u0e21\u0e0a\u0e38\u0e14\u0e02\u0e2d\u0e07\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07\u0e41\u0e25\u0e30\u0e01\u0e38\u0e0d\u0e41\u0e08\u0e2a\u0e48\u0e27\u0e19\u0e15\u0e31\u0e27 (\u0e41\u0e21\u0e49\u0e27\u0e48\u0e32\u0e08\u0e30\u0e44\u0e21\u0e48\u0e1b\u0e25\u0e2d\u0e14\u0e20\u0e31\u0e22) \u0e2b\u0e32\u0e01\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e40\u0e2d\u0e07, \u0e01\u0e23\u0e38\u0e13\u0e32\u0e14\u0e39\u0e17\u0e35\u0e48 ",(0,l.jsx)(s.a,{href:"#5-advanced-settings",children:"\u0e1a\u0e17\u0e17\u0e35\u0e48 5. \u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e02\u0e31\u0e49\u0e19\u0e2a\u0e39\u0e07"})," \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e04\u0e33\u0e41\u0e19\u0e30\u0e19\u0e33\u0e43\u0e19\u0e01\u0e32\u0e23\u0e1b\u0e23\u0e31\u0e1a\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07\u0e41\u0e25\u0e30\u0e01\u0e38\u0e0d\u0e41\u0e08\u0e2a\u0e48\u0e27\u0e19\u0e15\u0e31\u0e27 \u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07\u0e17\u0e35\u0e48\u0e40\u0e23\u0e32\u0e08\u0e31\u0e14\u0e40\u0e15\u0e23\u0e35\u0e22\u0e21\u0e21\u0e32\u0e19\u0e31\u0e49\u0e19\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e2d\u0e2d\u0e01\u0e43\u0e2b\u0e49\u0e01\u0e31\u0e1a 'webhook.domain.local'"]}),"\n",(0,l.jsx)(s.p,{children:"\u0e14\u0e31\u0e07\u0e19\u0e31\u0e49\u0e19, \u0e41\u0e01\u0e49\u0e44\u0e02\u0e42\u0e2e\u0e2a\u0e15\u0e4c (\u0e40\u0e0a\u0e48\u0e19, /etc/hosts) \u0e41\u0e25\u0e30\u0e0a\u0e35\u0e49 'webhook.domain.local' \u0e44\u0e1b\u0e22\u0e31\u0e07\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48 IP \u0e17\u0e35\u0e48 K8s-gatekeeper \u0e01\u0e33\u0e25\u0e31\u0e07\u0e17\u0e33\u0e07\u0e32\u0e19\u0e2d\u0e22\u0e39\u0e48 \u0e08\u0e32\u0e01\u0e19\u0e31\u0e49\u0e19\u0e17\u0e33\u0e01\u0e32\u0e23\u0e23\u0e31\u0e19\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07\u0e15\u0e48\u0e2d\u0e44\u0e1b\u0e19\u0e35\u0e49:"}),"\n",(0,l.jsx)(s.p,{children:"2.3 \u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07 K8s-gatekeeper \u0e1c\u0e48\u0e32\u0e19 Helm"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-shell",children:"go mod tidy\ngo mod vendor\ngo run cmd/webhook/main.go\nkubectl apply -f config/auth.casbin.org_casbinmodels.yaml \nkubectl apply -f config/auth.casbin.org_casbinpolicies.yaml\nkubectl apply -f config/webhook_external.yaml \n"})}),"\n",(0,l.jsx)(s.h3,{id:"231-\u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e17\u0e35\u0e48-1-\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e20\u0e32\u0e1e",children:"2.3.1 \u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e17\u0e35\u0e48 1: \u0e2a\u0e23\u0e49\u0e32\u0e07\u0e20\u0e32\u0e1e"}),"\n",(0,l.jsxs)(s.h4,{id:"\u0e01\u0e23\u0e38\u0e13\u0e32\u0e14\u0e39\u0e17\u0e35\u0e48-\u0e1a\u0e17\u0e17\u0e35\u0e48-211",children:["\u0e01\u0e23\u0e38\u0e13\u0e32\u0e14\u0e39\u0e17\u0e35\u0e48 ",(0,l.jsx)(s.a,{href:"#211-step-1-build-the-image",children:"\u0e1a\u0e17\u0e17\u0e35\u0e48 2.1.1"})]}),"\n",(0,l.jsx)(s.p,{children:"2.3.2 \u0e01\u0e32\u0e23\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07 Helm"}),"\n",(0,l.jsxs)(s.h4,{id:"\u0e23\u0e31\u0e19\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07-helm-install-k8sgatekeeper-k8sgatekeeper",children:["\u0e23\u0e31\u0e19\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07 ",(0,l.jsx)(s.code,{children:"helm install k8sgatekeeper ./k8sgatekeeper"})]}),"\n",(0,l.jsxs)(s.ol,{start:"3",children:["\n",(0,l.jsx)(s.li,{}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"\u0e17\u0e14\u0e25\u0e2d\u0e07\u0e43\u0e0a\u0e49-k8s-gatekeeper-31-\u0e2a\u0e23\u0e49\u0e32\u0e07-casbin-model-\u0e41\u0e25\u0e30-policy",children:"\u0e17\u0e14\u0e25\u0e2d\u0e07\u0e43\u0e0a\u0e49 K8s-gatekeeper 3.1 \u0e2a\u0e23\u0e49\u0e32\u0e07 Casbin Model \u0e41\u0e25\u0e30 Policy"}),"\n",(0,l.jsx)(s.h3,{id:"\u0e04\u0e38\u0e13\u0e21\u0e35\u0e2a\u0e2d\u0e07\u0e27\u0e34\u0e18\u0e35\u0e43\u0e19\u0e01\u0e32\u0e23\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e42\u0e21\u0e40\u0e14\u0e25\u0e41\u0e25\u0e30\u0e19\u0e42\u0e22\u0e1a\u0e32\u0e22-\u0e1c\u0e48\u0e32\u0e19-kubectl-\u0e2b\u0e23\u0e37\u0e2d\u0e1c\u0e48\u0e32\u0e19-go-client-\u0e17\u0e35\u0e48\u0e40\u0e23\u0e32\u0e08\u0e31\u0e14\u0e40\u0e15\u0e23\u0e35\u0e22\u0e21\u0e44\u0e27\u0e49",children:"\u0e04\u0e38\u0e13\u0e21\u0e35\u0e2a\u0e2d\u0e07\u0e27\u0e34\u0e18\u0e35\u0e43\u0e19\u0e01\u0e32\u0e23\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e42\u0e21\u0e40\u0e14\u0e25\u0e41\u0e25\u0e30\u0e19\u0e42\u0e22\u0e1a\u0e32\u0e22: \u0e1c\u0e48\u0e32\u0e19 kubectl \u0e2b\u0e23\u0e37\u0e2d\u0e1c\u0e48\u0e32\u0e19 go-client \u0e17\u0e35\u0e48\u0e40\u0e23\u0e32\u0e08\u0e31\u0e14\u0e40\u0e15\u0e23\u0e35\u0e22\u0e21\u0e44\u0e27\u0e49"}),"\n",(0,l.jsx)(s.p,{children:"3.1.1 \u0e2a\u0e23\u0e49\u0e32\u0e07/\u0e2d\u0e31\u0e1b\u0e40\u0e14\u0e15 Casbin Model \u0e41\u0e25\u0e30 Policy \u0e1c\u0e48\u0e32\u0e19 kubectl"}),"\n",(0,l.jsx)(s.h4,{id:"\u0e43\u0e19-k8s-gatekeeper-casbin-model-\u0e16\u0e39\u0e01\u0e40\u0e01\u0e47\u0e1a\u0e44\u0e27\u0e49\u0e43\u0e19\u0e17\u0e23\u0e31\u0e1e\u0e22\u0e32\u0e01\u0e23-crd-\u0e17\u0e35\u0e48\u0e40\u0e23\u0e35\u0e22\u0e01\u0e27\u0e48\u0e32-casbinmodel",children:"\u0e43\u0e19 K8s-gatekeeper, Casbin model \u0e16\u0e39\u0e01\u0e40\u0e01\u0e47\u0e1a\u0e44\u0e27\u0e49\u0e43\u0e19\u0e17\u0e23\u0e31\u0e1e\u0e22\u0e32\u0e01\u0e23 CRD \u0e17\u0e35\u0e48\u0e40\u0e23\u0e35\u0e22\u0e01\u0e27\u0e48\u0e32 'CasbinModel'"}),"\n",(0,l.jsxs)(s.p,{children:["\u0e04\u0e33\u0e08\u0e33\u0e01\u0e31\u0e14\u0e04\u0e27\u0e32\u0e21\u0e02\u0e2d\u0e07\u0e21\u0e31\u0e19\u0e15\u0e31\u0e49\u0e07\u0e2d\u0e22\u0e39\u0e48\u0e43\u0e19 ",(0,l.jsx)(s.code,{children:"config/auth.casbin.org_casbinmodels.yaml"})," \u0e21\u0e35\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e43\u0e19 ",(0,l.jsx)(s.code,{children:"example/allowed_repo/model.yaml"})]}),"\n",(0,l.jsx)(s.p,{children:"\u0e43\u0e2b\u0e49\u0e04\u0e27\u0e32\u0e21\u0e2a\u0e19\u0e43\u0e08\u0e01\u0e31\u0e1a\u0e1f\u0e34\u0e25\u0e14\u0e4c\u0e15\u0e48\u0e2d\u0e44\u0e1b\u0e19\u0e35\u0e49: metadata.name: \u0e0a\u0e37\u0e48\u0e2d\u0e02\u0e2d\u0e07\u0e42\u0e21\u0e40\u0e14\u0e25"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"\u0e0a\u0e37\u0e48\u0e2d\u0e19\u0e35\u0e49\u0e15\u0e49\u0e2d\u0e07\u0e15\u0e23\u0e07\u0e01\u0e31\u0e1a\u0e0a\u0e37\u0e48\u0e2d\u0e02\u0e2d\u0e07\u0e2d\u0e47\u0e2d\u0e1a\u0e40\u0e08\u0e01\u0e15\u0e4c CasbinPolicy \u0e17\u0e35\u0e48\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e02\u0e49\u0e2d\u0e07\u0e01\u0e31\u0e1a\u0e42\u0e21\u0e40\u0e14\u0e25\u0e19\u0e35\u0e49, \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e43\u0e2b\u0e49 K8s-gatekeeper \u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e08\u0e31\u0e1a\u0e04\u0e39\u0e48\u0e1e\u0e27\u0e01\u0e40\u0e02\u0e32\u0e41\u0e25\u0e30\u0e2a\u0e23\u0e49\u0e32\u0e07 enforcer spec.enable: \u0e2b\u0e32\u0e01\u0e1f\u0e34\u0e25\u0e14\u0e4c\u0e19\u0e35\u0e49\u0e16\u0e39\u0e01\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e40\u0e1b\u0e47\u0e19 'false', \u0e42\u0e21\u0e40\u0e14\u0e25\u0e19\u0e35\u0e49 (\u0e23\u0e27\u0e21\u0e16\u0e36\u0e07\u0e2d\u0e47\u0e2d\u0e1a\u0e40\u0e08\u0e01\u0e15\u0e4c CasbinPolicy \u0e17\u0e35\u0e48\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e02\u0e49\u0e2d\u0e07\u0e01\u0e31\u0e1a\u0e42\u0e21\u0e40\u0e14\u0e25\u0e19\u0e35\u0e49) \u0e08\u0e30\u0e16\u0e39\u0e01\u0e25\u0e30\u0e40\u0e25\u0e22"}),"\n",(0,l.jsx)(s.li,{children:"spec.modelText: \u0e2a\u0e15\u0e23\u0e34\u0e07\u0e17\u0e35\u0e48\u0e21\u0e35\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e02\u0e2d\u0e07\u0e42\u0e21\u0e40\u0e14\u0e25 Casbin"}),"\n",(0,l.jsxs)(s.li,{children:["Casbin Policy \u0e16\u0e39\u0e01\u0e40\u0e01\u0e47\u0e1a\u0e44\u0e27\u0e49\u0e43\u0e19\u0e17\u0e23\u0e31\u0e1e\u0e22\u0e32\u0e01\u0e23 CRD \u0e2d\u0e37\u0e48\u0e19\u0e17\u0e35\u0e48\u0e40\u0e23\u0e35\u0e22\u0e01\u0e27\u0e48\u0e32 'CasbinPolicy', \u0e0b\u0e36\u0e48\u0e07\u0e04\u0e33\u0e08\u0e33\u0e01\u0e31\u0e14\u0e04\u0e27\u0e32\u0e21\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e1e\u0e1a\u0e44\u0e14\u0e49\u0e43\u0e19 ",(0,l.jsx)(s.code,{children:"config/auth.casbin.org_casbinpolicies.yaml"})]}),"\n"]}),"\n",(0,l.jsxs)(s.p,{children:["\u0e21\u0e35\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e43\u0e19 ",(0,l.jsx)(s.code,{children:"example/allowed_repo/policy.yaml"})]}),"\n",(0,l.jsx)(s.p,{children:"\u0e43\u0e2b\u0e49\u0e04\u0e27\u0e32\u0e21\u0e2a\u0e19\u0e43\u0e08\u0e01\u0e31\u0e1a\u0e1f\u0e34\u0e25\u0e14\u0e4c\u0e15\u0e48\u0e2d\u0e44\u0e1b\u0e19\u0e35\u0e49: metadata.name: \u0e0a\u0e37\u0e48\u0e2d\u0e02\u0e2d\u0e07\u0e19\u0e42\u0e22\u0e1a\u0e32\u0e22"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"\u0e0a\u0e37\u0e48\u0e2d\u0e19\u0e35\u0e49\u0e15\u0e49\u0e2d\u0e07\u0e15\u0e23\u0e07\u0e01\u0e31\u0e1a\u0e0a\u0e37\u0e48\u0e2d\u0e02\u0e2d\u0e07\u0e2d\u0e47\u0e2d\u0e1a\u0e40\u0e08\u0e01\u0e15\u0e4c CasbinModel \u0e17\u0e35\u0e48\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e02\u0e49\u0e2d\u0e07\u0e01\u0e31\u0e1a\u0e19\u0e42\u0e22\u0e1a\u0e32\u0e22\u0e19\u0e35\u0e49, \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e43\u0e2b\u0e49 K8s-gatekeeper \u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e08\u0e31\u0e1a\u0e04\u0e39\u0e48\u0e1e\u0e27\u0e01\u0e40\u0e02\u0e32\u0e41\u0e25\u0e30\u0e2a\u0e23\u0e49\u0e32\u0e07 enforcer spec.policyItem: \u0e2a\u0e15\u0e23\u0e34\u0e07\u0e17\u0e35\u0e48\u0e21\u0e35\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e02\u0e2d\u0e07\u0e19\u0e42\u0e22\u0e1a\u0e32\u0e22 Casbin"}),"\n",(0,l.jsx)(s.li,{children:"\u0e2b\u0e25\u0e31\u0e07\u0e08\u0e32\u0e01\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e44\u0e1f\u0e25\u0e4c CasbinModel \u0e41\u0e25\u0e30 CasbinPolicy \u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e40\u0e2d\u0e07\u0e41\u0e25\u0e49\u0e27, \u0e43\u0e0a\u0e49\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07\u0e15\u0e48\u0e2d\u0e44\u0e1b\u0e19\u0e35\u0e49\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e1e\u0e27\u0e01\u0e40\u0e02\u0e32:"}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e04\u0e39\u0e48\u0e02\u0e2d\u0e07 CasbinModel \u0e41\u0e25\u0e30 CasbinPolicy \u0e16\u0e39\u0e01\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e02\u0e36\u0e49\u0e19, K8s-gatekeeper \u0e08\u0e30\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e15\u0e23\u0e27\u0e08\u0e08\u0e31\u0e1a\u0e44\u0e14\u0e49\u0e20\u0e32\u0e22\u0e43\u0e19 5 \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-shell",children:"kubectl apply -f <filename>\n"})}),"\n",(0,l.jsx)(s.p,{children:"3.1.2 \u0e2a\u0e23\u0e49\u0e32\u0e07/\u0e2d\u0e31\u0e1b\u0e40\u0e14\u0e15 Casbin Model \u0e41\u0e25\u0e30 Policy \u0e1c\u0e48\u0e32\u0e19 go-client \u0e17\u0e35\u0e48\u0e40\u0e23\u0e32\u0e08\u0e31\u0e14\u0e40\u0e15\u0e23\u0e35\u0e22\u0e21\u0e44\u0e27\u0e49"}),"\n",(0,l.jsx)(s.h4,{id:"\u0e40\u0e23\u0e32\u0e40\u0e02\u0e49\u0e32\u0e43\u0e08\u0e27\u0e48\u0e32\u0e2d\u0e32\u0e08\u0e21\u0e35\u0e2a\u0e16\u0e32\u0e19\u0e01\u0e32\u0e23\u0e13\u0e4c\u0e17\u0e35\u0e48\u0e44\u0e21\u0e48\u0e2a\u0e30\u0e14\u0e27\u0e01\u0e43\u0e19\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49-shell-\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e17\u0e33\u0e01\u0e32\u0e23\u0e23\u0e31\u0e19\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07\u0e42\u0e14\u0e22\u0e15\u0e23\u0e07\u0e1a\u0e19\u0e42\u0e2b\u0e19\u0e14\u0e02\u0e2d\u0e07\u0e04\u0e25\u0e31\u0e2a\u0e40\u0e15\u0e2d\u0e23\u0e4c-k8s-\u0e40\u0e0a\u0e48\u0e19\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e04\u0e38\u0e13\u0e01\u0e33\u0e25\u0e31\u0e07\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e41\u0e1e\u0e25\u0e15\u0e1f\u0e2d\u0e23\u0e4c\u0e21\u0e04\u0e25\u0e32\u0e27\u0e14\u0e4c\u0e2d\u0e31\u0e15\u0e42\u0e19\u0e21\u0e31\u0e15\u0e34\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e1a\u0e23\u0e34\u0e29\u0e31\u0e17\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13",children:"\u0e40\u0e23\u0e32\u0e40\u0e02\u0e49\u0e32\u0e43\u0e08\u0e27\u0e48\u0e32\u0e2d\u0e32\u0e08\u0e21\u0e35\u0e2a\u0e16\u0e32\u0e19\u0e01\u0e32\u0e23\u0e13\u0e4c\u0e17\u0e35\u0e48\u0e44\u0e21\u0e48\u0e2a\u0e30\u0e14\u0e27\u0e01\u0e43\u0e19\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49 shell \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e17\u0e33\u0e01\u0e32\u0e23\u0e23\u0e31\u0e19\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07\u0e42\u0e14\u0e22\u0e15\u0e23\u0e07\u0e1a\u0e19\u0e42\u0e2b\u0e19\u0e14\u0e02\u0e2d\u0e07\u0e04\u0e25\u0e31\u0e2a\u0e40\u0e15\u0e2d\u0e23\u0e4c K8s, \u0e40\u0e0a\u0e48\u0e19\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e04\u0e38\u0e13\u0e01\u0e33\u0e25\u0e31\u0e07\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e41\u0e1e\u0e25\u0e15\u0e1f\u0e2d\u0e23\u0e4c\u0e21\u0e04\u0e25\u0e32\u0e27\u0e14\u0e4c\u0e2d\u0e31\u0e15\u0e42\u0e19\u0e21\u0e31\u0e15\u0e34\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e1a\u0e23\u0e34\u0e29\u0e31\u0e17\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13"}),"\n",(0,l.jsxs)(s.p,{children:["\u0e14\u0e49\u0e27\u0e22\u0e40\u0e2b\u0e15\u0e38\u0e19\u0e35\u0e49, \u0e40\u0e23\u0e32\u0e44\u0e14\u0e49\u0e1e\u0e31\u0e12\u0e19\u0e32 go-client \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e41\u0e25\u0e30\u0e1a\u0e33\u0e23\u0e38\u0e07\u0e23\u0e31\u0e01\u0e29\u0e32 CasbinModel \u0e41\u0e25\u0e30 CasbinPolicy \u0e44\u0e25\u0e1a\u0e23\u0e32\u0e23\u0e35 go-client \u0e15\u0e31\u0e49\u0e07\u0e2d\u0e22\u0e39\u0e48\u0e43\u0e19 ",(0,l.jsx)(s.code,{children:"pkg/client"})]}),"\n",(0,l.jsxs)(s.p,{children:["\u0e43\u0e19 ",(0,l.jsx)(s.code,{children:"client.go"}),", \u0e40\u0e23\u0e32\u0e08\u0e31\u0e14\u0e40\u0e15\u0e23\u0e35\u0e22\u0e21\u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e04\u0e25\u0e32\u0e22\u0e40\u0e2d\u0e19\u0e15\u0e4c"]}),"\n",(0,l.jsxs)(s.p,{children:["In ",(0,l.jsx)(s.code,{children:"client.go"}),", we provide a function to create a client."]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-go",children:"func NewK8sGateKeeperClient(externalClient bool) (*K8sGateKeeperClient, error) \n"})}),"\n",(0,l.jsxs)(s.p,{children:["\u0e1e\u0e32\u0e23\u0e32\u0e21\u0e34\u0e40\u0e15\u0e2d\u0e23\u0e4c ",(0,l.jsx)(s.code,{children:"externalClient"})," \u0e01\u0e33\u0e2b\u0e19\u0e14\u0e27\u0e48\u0e32 K8s-gatekeeper \u0e01\u0e33\u0e25\u0e31\u0e07\u0e17\u0e33\u0e07\u0e32\u0e19\u0e20\u0e32\u0e22\u0e43\u0e19\u0e04\u0e25\u0e31\u0e2a\u0e40\u0e15\u0e2d\u0e23\u0e4c K8s \u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48"]}),"\n",(0,l.jsxs)(s.p,{children:["\u0e43\u0e19 ",(0,l.jsx)(s.code,{children:"model.go"}),", \u0e40\u0e23\u0e32\u0e21\u0e35\u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19\u0e15\u0e48\u0e32\u0e07\u0e46 \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e2a\u0e23\u0e49\u0e32\u0e07, \u0e25\u0e1a \u0e41\u0e25\u0e30\u0e41\u0e01\u0e49\u0e44\u0e02 CasbinModel \u0e04\u0e38\u0e13\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e2b\u0e32\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 interfaces \u0e40\u0e2b\u0e25\u0e48\u0e32\u0e19\u0e35\u0e49\u0e44\u0e14\u0e49\u0e43\u0e19 ",(0,l.jsx)(s.code,{children:"model_test.go"})]}),"\n",(0,l.jsxs)(s.p,{children:["\u0e43\u0e19 ",(0,l.jsx)(s.code,{children:"policy.go"}),", \u0e40\u0e23\u0e32\u0e21\u0e35\u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19\u0e15\u0e48\u0e32\u0e07\u0e46 \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e2a\u0e23\u0e49\u0e32\u0e07, \u0e25\u0e1a \u0e41\u0e25\u0e30\u0e41\u0e01\u0e49\u0e44\u0e02 CasbiPolicy \u0e04\u0e38\u0e13\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e2b\u0e32\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 interfaces \u0e40\u0e2b\u0e25\u0e48\u0e32\u0e19\u0e35\u0e49\u0e44\u0e14\u0e49\u0e43\u0e19 ",(0,l.jsx)(s.code,{children:"policy_test.go"})]}),"\n",(0,l.jsx)(s.h3,{id:"312-\u0e25\u0e2d\u0e07\u0e14\u0e39\u0e27\u0e48\u0e32-k8s-gatekeeper-\u0e17\u0e33\u0e07\u0e32\u0e19\u0e44\u0e14\u0e49\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48",children:"3.1.2 \u0e25\u0e2d\u0e07\u0e14\u0e39\u0e27\u0e48\u0e32 K8s-gatekeeper \u0e17\u0e33\u0e07\u0e32\u0e19\u0e44\u0e14\u0e49\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48"}),"\n",(0,l.jsxs)(s.p,{children:["\u0e2a\u0e21\u0e21\u0e15\u0e34\u0e27\u0e48\u0e32\u0e04\u0e38\u0e13\u0e44\u0e14\u0e49\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e42\u0e21\u0e40\u0e14\u0e25\u0e41\u0e25\u0e30\u0e19\u0e42\u0e22\u0e1a\u0e32\u0e22\u0e17\u0e35\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07\u0e41\u0e25\u0e49\u0e27\u0e43\u0e19 ",(0,l.jsx)(s.code,{children:"example/allowed_repo"})," \u0e15\u0e2d\u0e19\u0e19\u0e35\u0e49\u0e25\u0e2d\u0e07\u0e43\u0e0a\u0e49\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07\u0e15\u0e48\u0e2d\u0e44\u0e1b\u0e19\u0e35\u0e49:"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-shell",children:"kubectl apply -f example/allowed_repo/testcase/reject_1.yaml\n"})}),"\n",(0,l.jsxs)(s.p,{children:["\u0e04\u0e38\u0e13\u0e04\u0e27\u0e23\u0e1e\u0e1a\u0e27\u0e48\u0e32 K8s \u0e08\u0e30\u0e1b\u0e0f\u0e34\u0e40\u0e2a\u0e18\u0e04\u0e33\u0e02\u0e2d\u0e19\u0e35\u0e49\u0e41\u0e25\u0e30\u0e23\u0e30\u0e1a\u0e38\u0e27\u0e48\u0e32 webhook \u0e40\u0e1b\u0e47\u0e19\u0e40\u0e2b\u0e15\u0e38\u0e1c\u0e25\u0e17\u0e35\u0e48\u0e04\u0e33\u0e02\u0e2d\u0e19\u0e35\u0e49\u0e16\u0e39\u0e01\u0e1b\u0e0f\u0e34\u0e40\u0e2a\u0e18 \u0e2d\u0e22\u0e48\u0e32\u0e07\u0e44\u0e23\u0e01\u0e47\u0e15\u0e32\u0e21 \u0e40\u0e21\u0e37\u0e48\u0e2d\u0e04\u0e38\u0e13\u0e25\u0e2d\u0e07 apply ",(0,l.jsx)(s.code,{children:"example/allowed_repo/testcase/approve_2.yaml"}),", \u0e21\u0e31\u0e19\u0e08\u0e30\u0e16\u0e39\u0e01\u0e22\u0e2d\u0e21\u0e23\u0e31\u0e1a"]}),"\n",(0,l.jsx)(s.h2,{id:"4-\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e40\u0e02\u0e35\u0e22\u0e19\u0e42\u0e21\u0e40\u0e14\u0e25\u0e41\u0e25\u0e30\u0e19\u0e42\u0e22\u0e1a\u0e32\u0e22\u0e14\u0e49\u0e27\u0e22-k8s-gatekeeper",children:"4. \u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e40\u0e02\u0e35\u0e22\u0e19\u0e42\u0e21\u0e40\u0e14\u0e25\u0e41\u0e25\u0e30\u0e19\u0e42\u0e22\u0e1a\u0e32\u0e22\u0e14\u0e49\u0e27\u0e22 K8s-gatekeeper"}),"\n",(0,l.jsxs)(s.p,{children:["\u0e02\u0e31\u0e49\u0e19\u0e41\u0e23\u0e01\u0e40\u0e25\u0e22 \u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e43\u0e2b\u0e49\u0e41\u0e19\u0e48\u0e43\u0e08\u0e27\u0e48\u0e32\u0e04\u0e38\u0e13\u0e04\u0e38\u0e49\u0e19\u0e40\u0e04\u0e22\u0e01\u0e31\u0e1a\u0e44\u0e27\u0e22\u0e32\u0e01\u0e23\u0e13\u0e4c\u0e1e\u0e37\u0e49\u0e19\u0e10\u0e32\u0e19\u0e02\u0e2d\u0e07 Casbin Models \u0e41\u0e25\u0e30 Policies \u0e2b\u0e32\u0e01\u0e04\u0e38\u0e13\u0e22\u0e31\u0e07\u0e44\u0e21\u0e48\u0e04\u0e38\u0e49\u0e19\u0e40\u0e04\u0e22 \u0e42\u0e1b\u0e23\u0e14\u0e2d\u0e48\u0e32\u0e19\u0e2a\u0e48\u0e27\u0e19 ",(0,l.jsx)(s.a,{href:"/docs/get-started",children:"Get Started"})," \u0e01\u0e48\u0e2d\u0e19 \u0e43\u0e19\u0e1a\u0e17\u0e19\u0e35\u0e49 \u0e40\u0e23\u0e32\u0e2a\u0e21\u0e21\u0e15\u0e34\u0e27\u0e48\u0e32\u0e04\u0e38\u0e13\u0e40\u0e02\u0e49\u0e32\u0e43\u0e08\u0e41\u0e25\u0e49\u0e27\u0e27\u0e48\u0e32 Casbin Models \u0e41\u0e25\u0e30 Policies \u0e04\u0e37\u0e2d\u0e2d\u0e30\u0e44\u0e23"]}),"\n",(0,l.jsx)(s.h3,{id:"41-\u0e04\u0e33\u0e19\u0e34\u0e22\u0e32\u0e21\u0e02\u0e2d\u0e07\u0e04\u0e33\u0e02\u0e2d\u0e43\u0e19\u0e42\u0e21\u0e40\u0e14\u0e25",children:"4.1 \u0e04\u0e33\u0e19\u0e34\u0e22\u0e32\u0e21\u0e02\u0e2d\u0e07\u0e04\u0e33\u0e02\u0e2d\u0e43\u0e19\u0e42\u0e21\u0e40\u0e14\u0e25"}),"\n",(0,l.jsx)(s.p,{children:"\u0e40\u0e21\u0e37\u0e48\u0e2d K8s-gatekeeper \u0e01\u0e33\u0e25\u0e31\u0e07\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15\u0e04\u0e33\u0e02\u0e2d \u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e17\u0e35\u0e48\u0e1b\u0e49\u0e2d\u0e19\u0e40\u0e02\u0e49\u0e32\u0e21\u0e32\u0e08\u0e30\u0e40\u0e1b\u0e47\u0e19\u0e2d\u0e2d\u0e1a\u0e40\u0e08\u0e01\u0e15\u0e4c\u0e40\u0e2a\u0e21\u0e2d: \u0e2d\u0e2d\u0e1a\u0e40\u0e08\u0e01\u0e15\u0e4c Go \u0e02\u0e2d\u0e07\u0e04\u0e33\u0e02\u0e2d Admission \u0e19\u0e31\u0e48\u0e19\u0e2b\u0e21\u0e32\u0e22\u0e04\u0e27\u0e32\u0e21\u0e27\u0e48\u0e32 enforcer \u0e08\u0e30\u0e16\u0e39\u0e01\u0e43\u0e0a\u0e49\u0e40\u0e2a\u0e21\u0e2d\u0e40\u0e0a\u0e48\u0e19\u0e19\u0e35\u0e49:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-go",children:"ok, err := enforcer.Enforce(admission)\n"})}),"\n",(0,l.jsxs)(s.p,{children:["\u0e17\u0e35\u0e48 ",(0,l.jsx)(s.code,{children:"admission"})," \u0e40\u0e1b\u0e47\u0e19\u0e2d\u0e2d\u0e1a\u0e40\u0e08\u0e01\u0e15\u0e4c ",(0,l.jsx)(s.code,{children:"AdmissionReview"})," \u0e17\u0e35\u0e48\u0e01\u0e33\u0e2b\u0e19\u0e14\u0e42\u0e14\u0e22 go api \u0e2d\u0e22\u0e48\u0e32\u0e07\u0e40\u0e1b\u0e47\u0e19\u0e17\u0e32\u0e07\u0e01\u0e32\u0e23\u0e02\u0e2d\u0e07 K8s \u0e04\u0e37\u0e2d ",(0,l.jsx)(s.code,{children:'"k8s.io/api/admission/v1"'})," \u0e04\u0e38\u0e13\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e2b\u0e32\u0e04\u0e33\u0e19\u0e34\u0e22\u0e32\u0e21\u0e02\u0e2d\u0e07\u0e42\u0e04\u0e23\u0e07\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e19\u0e35\u0e49\u0e44\u0e14\u0e49\u0e43\u0e19 repository \u0e19\u0e35\u0e49: ",(0,l.jsx)(s.a,{href:"https://github.com/kubernetes/api/blob/master/admission/v1/types.go",children:"https://github.com/kubernetes/api/blob/master/admission/v1/types.go"})," \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21 \u0e04\u0e38\u0e13\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e2d\u0e49\u0e32\u0e07\u0e2d\u0e34\u0e07\u0e44\u0e14\u0e49\u0e17\u0e35\u0e48 ",(0,l.jsx)(s.a,{href:"https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#webhook-request-and-response",children:"https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#webhook-request-and-response"})]}),"\n",(0,l.jsxs)(s.p,{children:["\u0e14\u0e31\u0e07\u0e19\u0e31\u0e49\u0e19 \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e42\u0e21\u0e40\u0e14\u0e25\u0e43\u0e14\u0e46 \u0e17\u0e35\u0e48\u0e43\u0e0a\u0e49\u0e42\u0e14\u0e22 K8s-gatekeeper \u0e04\u0e33\u0e19\u0e34\u0e22\u0e32\u0e21\u0e02\u0e2d\u0e07 ",(0,l.jsx)(s.code,{children:"request_definition"})," \u0e04\u0e27\u0e23\u0e40\u0e1b\u0e47\u0e19\u0e40\u0e0a\u0e48\u0e19\u0e19\u0e35\u0e49\u0e40\u0e2a\u0e21\u0e2d:"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-ini",children:"    [request_definition]\n    r =  obj\n"})}),"\n",(0,l.jsxs)(s.p,{children:["\u0e0a\u0e37\u0e48\u0e2d 'obj' \u0e44\u0e21\u0e48\u0e08\u0e33\u0e40\u0e1b\u0e47\u0e19\u0e15\u0e49\u0e2d\u0e07\u0e43\u0e0a\u0e49 \u0e15\u0e23\u0e32\u0e1a\u0e43\u0e14\u0e17\u0e35\u0e48\u0e0a\u0e37\u0e48\u0e2d\u0e19\u0e31\u0e49\u0e19\u0e2a\u0e2d\u0e14\u0e04\u0e25\u0e49\u0e2d\u0e07\u0e01\u0e31\u0e1a\u0e0a\u0e37\u0e48\u0e2d\u0e17\u0e35\u0e48\u0e43\u0e0a\u0e49\u0e43\u0e19\u0e2a\u0e48\u0e27\u0e19 ",(0,l.jsx)(s.code,{children:"[matchers]"})]}),"\n",(0,l.jsx)(s.h3,{id:"42-matchers-\u0e02\u0e2d\u0e07\u0e42\u0e21\u0e40\u0e14\u0e25",children:"4.2 Matchers \u0e02\u0e2d\u0e07\u0e42\u0e21\u0e40\u0e14\u0e25"}),"\n",(0,l.jsx)(s.p,{children:"\u0e04\u0e38\u0e13\u0e04\u0e27\u0e23\u0e43\u0e0a\u0e49\u0e04\u0e38\u0e13\u0e2a\u0e21\u0e1a\u0e31\u0e15\u0e34 ABAC \u0e02\u0e2d\u0e07 Casbin \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e40\u0e02\u0e35\u0e22\u0e19\u0e01\u0e0e\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13 \u0e2d\u0e22\u0e48\u0e32\u0e07\u0e44\u0e23\u0e01\u0e47\u0e15\u0e32\u0e21 \u0e15\u0e31\u0e27\u0e1b\u0e23\u0e30\u0e40\u0e21\u0e34\u0e19\u0e19\u0e34\u0e1e\u0e08\u0e19\u0e4c\u0e17\u0e35\u0e48\u0e23\u0e27\u0e21\u0e2d\u0e22\u0e39\u0e48\u0e43\u0e19 Casbin \u0e44\u0e21\u0e48\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e14\u0e31\u0e0a\u0e19\u0e35\u0e43\u0e19\u0e41\u0e1c\u0e19\u0e17\u0e35\u0e48\u0e2b\u0e23\u0e37\u0e2d\u0e2d\u0e32\u0e23\u0e4c\u0e40\u0e23\u0e22\u0e4c (slices) \u0e2b\u0e23\u0e37\u0e2d\u0e01\u0e32\u0e23\u0e02\u0e22\u0e32\u0e22\u0e2d\u0e32\u0e23\u0e4c\u0e40\u0e23\u0e22\u0e4c \u0e14\u0e31\u0e07\u0e19\u0e31\u0e49\u0e19 K8s-gatekeeper \u0e08\u0e36\u0e07\u0e21\u0e35 'Casbin functions' \u0e15\u0e48\u0e32\u0e07\u0e46 \u0e40\u0e1b\u0e47\u0e19\u0e2a\u0e48\u0e27\u0e19\u0e02\u0e22\u0e32\u0e22\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e04\u0e38\u0e13\u0e2a\u0e21\u0e1a\u0e31\u0e15\u0e34\u0e40\u0e2b\u0e25\u0e48\u0e32\u0e19\u0e35\u0e49 \u0e2b\u0e32\u0e01\u0e04\u0e38\u0e13\u0e22\u0e31\u0e07\u0e1e\u0e1a\u0e27\u0e48\u0e32\u0e04\u0e27\u0e32\u0e21\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e15\u0e34\u0e21\u0e40\u0e15\u0e47\u0e21\u0e44\u0e14\u0e49\u0e14\u0e49\u0e27\u0e22\u0e2a\u0e48\u0e27\u0e19\u0e02\u0e22\u0e32\u0e22\u0e40\u0e2b\u0e25\u0e48\u0e32\u0e19\u0e35\u0e49 \u0e2d\u0e22\u0e48\u0e32\u0e25\u0e31\u0e07\u0e40\u0e25\u0e17\u0e35\u0e48\u0e08\u0e30\u0e40\u0e23\u0e34\u0e48\u0e21 issue \u0e2b\u0e23\u0e37\u0e2d\u0e2a\u0e23\u0e49\u0e32\u0e07 pull request"}),"\n",(0,l.jsxs)(s.p,{children:["\u0e2b\u0e32\u0e01\u0e04\u0e38\u0e13\u0e44\u0e21\u0e48\u0e04\u0e38\u0e49\u0e19\u0e40\u0e04\u0e22\u0e01\u0e31\u0e1a Casbin functions \u0e04\u0e38\u0e13\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e2d\u0e49\u0e32\u0e07\u0e2d\u0e34\u0e07\u0e44\u0e14\u0e49\u0e17\u0e35\u0e48 ",(0,l.jsx)(s.a,{href:"/docs/function",children:"Function"})," \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21"]}),"\n",(0,l.jsx)(s.p,{children:"\u0e19\u0e35\u0e48\u0e04\u0e37\u0e2d\u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19\u0e2a\u0e48\u0e27\u0e19\u0e02\u0e22\u0e32\u0e22:"}),"\n",(0,l.jsx)(s.h3,{id:"421-\u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19\u0e2a\u0e48\u0e27\u0e19\u0e02\u0e22\u0e32\u0e22",children:"4.2.1 \u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19\u0e2a\u0e48\u0e27\u0e19\u0e02\u0e22\u0e32\u0e22"}),"\n",(0,l.jsx)(s.h4,{id:"4211-access",children:"4.2.1.1 access"}),"\n",(0,l.jsxs)(s.p,{children:["Access \u0e43\u0e0a\u0e49\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e41\u0e01\u0e49\u0e1b\u0e31\u0e0d\u0e2b\u0e32\u0e17\u0e35\u0e48 Casbin \u0e44\u0e21\u0e48\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e14\u0e31\u0e0a\u0e19\u0e35\u0e43\u0e19\u0e41\u0e1c\u0e19\u0e17\u0e35\u0e48\u0e2b\u0e23\u0e37\u0e2d\u0e2d\u0e32\u0e23\u0e4c\u0e40\u0e23\u0e22\u0e4c \u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07 ",(0,l.jsx)(s.code,{children:"example/allowed_repo/model.yaml"})," \u0e41\u0e2a\u0e14\u0e07\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e02\u0e2d\u0e07\u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19\u0e19\u0e35\u0e49:"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-ini",children:'[matchers]\nm = r.obj.Request.Namespace == "default" && r.obj.Request.Resource.Resource =="deployments" && \\\naccess(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, "Image") == p.obj\n'})}),"\n",(0,l.jsxs)(s.p,{children:["\u0e43\u0e19 matcher \u0e19\u0e35\u0e49 ",(0,l.jsx)(s.code,{children:'access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, "Image")'})," \u0e40\u0e17\u0e35\u0e22\u0e1a\u0e40\u0e17\u0e48\u0e32\u0e01\u0e31\u0e1a ",(0,l.jsx)(s.code,{children:"r.obj.Request.Object.Object.Spec.Template.Spec.Containers[0].Image"})," \u0e17\u0e35\u0e48 ",(0,l.jsx)(s.code,{children:"r.obj.Request.Object.Object.Spec.Template.Spec.Containers"})," \u0e40\u0e1b\u0e47\u0e19 slice"]}),"\n",(0,l.jsxs)(s.p,{children:["Access \u0e22\u0e31\u0e07\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e23\u0e35\u0e22\u0e01\u0e43\u0e0a\u0e49\u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19\u0e07\u0e48\u0e32\u0e22\u0e46 \u0e17\u0e35\u0e48\u0e44\u0e21\u0e48\u0e21\u0e35\u0e1e\u0e32\u0e23\u0e32\u0e21\u0e34\u0e40\u0e15\u0e2d\u0e23\u0e4c\u0e41\u0e25\u0e30\u0e04\u0e37\u0e19\u0e04\u0e48\u0e32\u0e40\u0e1e\u0e35\u0e22\u0e07\u0e04\u0e48\u0e32\u0e40\u0e14\u0e35\u0e22\u0e27 \u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07 ",(0,l.jsx)(s.code,{children:"example/container_resource_limit/model.yaml"})," \u0e41\u0e2a\u0e14\u0e07\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e19\u0e35\u0e49:"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-ini",children:'[matchers]\n  m = r.obj.Request.Namespace == "default" && r.obj.Request.Resource.Resource =="deployments" && \\\n  parseFloat(access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, "Resources","Limits","cpu","Value")) >= parseFloat(p.cpu) && \\\n  parseFloat(access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, "Resources","Limits","memory","Value")) >= parseFloat(p.memory)\n'})}),"\n",(0,l.jsxs)(s.p,{children:["\u0e43\u0e19 matcher \u0e19\u0e35\u0e49 ",(0,l.jsx)(s.code,{children:'access(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , 0, "Resources","Limits","cpu","Value")'})," \u0e40\u0e17\u0e35\u0e22\u0e1a\u0e40\u0e17\u0e48\u0e32\u0e01\u0e31\u0e1a ",(0,l.jsx)(s.code,{children:'r.obj.Request.Object.Object.Spec.Template.Spec.Containers[0].Resources.Limits["cpu"].Value()'})," \u0e17\u0e35\u0e48 ",(0,l.jsx)(s.code,{children:"r.obj.Request.Object.Object.Spec.Template.Spec.Containers[0].Resources.Limits"})," \u0e40\u0e1b\u0e47\u0e19\u0e41\u0e1c\u0e19\u0e17\u0e35\u0e48 \u0e41\u0e25\u0e30 ",(0,l.jsx)(s.code,{children:"Value()"})," \u0e40\u0e1b\u0e47\u0e19\u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19\u0e07\u0e48\u0e32\u0e22\u0e46 \u0e17\u0e35\u0e48\u0e44\u0e21\u0e48\u0e21\u0e35\u0e1e\u0e32\u0e23\u0e32\u0e21\u0e34\u0e40\u0e15\u0e2d\u0e23\u0e4c\u0e41\u0e25\u0e30\u0e04\u0e37\u0e19\u0e04\u0e48\u0e32\u0e40\u0e1e\u0e35\u0e22\u0e07\u0e04\u0e48\u0e32\u0e40\u0e14\u0e35\u0e22\u0e27"]}),"\n",(0,l.jsx)(s.h4,{id:"4212-accesswithwildcard",children:"4.2.1.2 accessWithWildcard"}),"\n",(0,l.jsxs)(s.p,{children:['\u0e1a\u0e32\u0e07\u0e04\u0e23\u0e31\u0e49\u0e07 \u0e04\u0e38\u0e13\u0e2d\u0e32\u0e08\u0e21\u0e35\u0e04\u0e27\u0e32\u0e21\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e0a\u0e48\u0e19\u0e19\u0e35\u0e49: \u0e17\u0e38\u0e01\u0e2d\u0e07\u0e04\u0e4c\u0e1b\u0e23\u0e30\u0e01\u0e2d\u0e1a\u0e43\u0e19\u0e2d\u0e32\u0e23\u0e4c\u0e40\u0e23\u0e22\u0e4c\u0e15\u0e49\u0e2d\u0e07\u0e21\u0e35\u0e04\u0e33\u0e19\u0e33\u0e2b\u0e19\u0e49\u0e32 "aaa" \u0e2d\u0e22\u0e48\u0e32\u0e07\u0e44\u0e23\u0e01\u0e47\u0e15\u0e32\u0e21 Casbin \u0e44\u0e21\u0e48\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a\u0e25\u0e39\u0e1b ',(0,l.jsx)(s.code,{children:"for"})," \u0e14\u0e49\u0e27\u0e22 ",(0,l.jsx)(s.code,{children:"accessWithWildcard"}),' \u0e41\u0e25\u0e30\u0e04\u0e38\u0e13\u0e2a\u0e21\u0e1a\u0e31\u0e15\u0e34 "\u0e01\u0e32\u0e23\u0e02\u0e22\u0e32\u0e22\u0e41\u0e1c\u0e19\u0e17\u0e35\u0e48/slice" \u0e04\u0e38\u0e13\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e04\u0e27\u0e32\u0e21\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e0a\u0e48\u0e19\u0e19\u0e35\u0e49\u0e44\u0e14\u0e49\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e07\u0e48\u0e32\u0e22\u0e14\u0e32\u0e22']}),"\n",(0,l.jsxs)(s.p,{children:["\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e40\u0e0a\u0e48\u0e19 \u0e2a\u0e21\u0e21\u0e15\u0e34\u0e27\u0e48\u0e32 ",(0,l.jsx)(s.code,{children:"a.b.c"})," \u0e40\u0e1b\u0e47\u0e19\u0e2d\u0e32\u0e23\u0e4c\u0e40\u0e23\u0e22\u0e4c ",(0,l.jsx)(s.code,{children:"[aaa,bbb,ccc,ddd,eee]"}),", \u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c\u0e02\u0e2d\u0e07 ",(0,l.jsx)(s.code,{children:'accessWithWildcard(a,"b","c","*")'})," \u0e08\u0e30\u0e40\u0e1b\u0e47\u0e19 slice ",(0,l.jsx)(s.code,{children:"[aaa,bbb,ccc,ddd,eee]"})," \u0e42\u0e14\u0e22\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49 wildcard ",(0,l.jsx)(s.code,{children:"*"}),", slice \u0e08\u0e30\u0e16\u0e39\u0e01\u0e02\u0e22\u0e32\u0e22"]}),"\n",(0,l.jsxs)(s.p,{children:["\u0e43\u0e19\u0e17\u0e33\u0e19\u0e2d\u0e07\u0e40\u0e14\u0e35\u0e22\u0e27\u0e01\u0e31\u0e19 wildcard \u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e43\u0e0a\u0e49\u0e44\u0e14\u0e49\u0e21\u0e32\u0e01\u0e01\u0e27\u0e48\u0e32\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e04\u0e23\u0e31\u0e49\u0e07 \u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e40\u0e0a\u0e48\u0e19 \u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c\u0e02\u0e2d\u0e07 ",(0,l.jsx)(s.code,{children:'accessWithWildcard(a,"b","c","*","*")'})," \u0e08\u0e30\u0e40\u0e1b\u0e47\u0e19 ",(0,l.jsx)(s.code,{children:"[a.b.c[0][0], a.b.c[0][1], ..., a.b.c[1][0], a.b.c[1][1], ...]"})]}),"\n",(0,l.jsx)(s.h3,{id:"4213-\u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19\u0e17\u0e35\u0e48\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a\u0e2d\u0e32\u0e23\u0e4c\u0e01\u0e34\u0e27\u0e40\u0e21\u0e19\u0e15\u0e4c\u0e04\u0e27\u0e32\u0e21\u0e22\u0e32\u0e27\u0e41\u0e1b\u0e23\u0e1c\u0e31\u0e19",children:"4.2.1.3 \u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19\u0e17\u0e35\u0e48\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a\u0e2d\u0e32\u0e23\u0e4c\u0e01\u0e34\u0e27\u0e40\u0e21\u0e19\u0e15\u0e4c\u0e04\u0e27\u0e32\u0e21\u0e22\u0e32\u0e27\u0e41\u0e1b\u0e23\u0e1c\u0e31\u0e19"}),"\n",(0,l.jsx)(s.p,{children:"\u0e43\u0e19\u0e15\u0e31\u0e27\u0e1b\u0e23\u0e30\u0e40\u0e21\u0e34\u0e19\u0e19\u0e34\u0e1e\u0e08\u0e19\u0e4c\u0e02\u0e2d\u0e07 Casbin \u0e40\u0e21\u0e37\u0e48\u0e2d\u0e1e\u0e32\u0e23\u0e32\u0e21\u0e34\u0e40\u0e15\u0e2d\u0e23\u0e4c\u0e40\u0e1b\u0e47\u0e19\u0e2d\u0e32\u0e23\u0e4c\u0e40\u0e23\u0e22\u0e4c \u0e21\u0e31\u0e19\u0e08\u0e30\u0e16\u0e39\u0e01\u0e02\u0e22\u0e32\u0e22\u0e2d\u0e31\u0e15\u0e42\u0e19\u0e21\u0e31\u0e15\u0e34\u0e40\u0e1b\u0e47\u0e19\u0e2d\u0e32\u0e23\u0e4c\u0e01\u0e34\u0e27\u0e40\u0e21\u0e19\u0e15\u0e4c\u0e04\u0e27\u0e32\u0e21\u0e22\u0e32\u0e27\u0e41\u0e1b\u0e23\u0e1c\u0e31\u0e19 \u0e42\u0e14\u0e22\u0e43\u0e0a\u0e49\u0e04\u0e38\u0e13\u0e2a\u0e21\u0e1a\u0e31\u0e15\u0e34\u0e19\u0e35\u0e49\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e02\u0e22\u0e32\u0e22\u0e2d\u0e32\u0e23\u0e4c\u0e40\u0e23\u0e22\u0e4c/slice/\u0e41\u0e1c\u0e19\u0e17\u0e35\u0e48 \u0e40\u0e23\u0e32\u0e22\u0e31\u0e07\u0e44\u0e14\u0e49\u0e23\u0e27\u0e21\u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19\u0e2b\u0e25\u0e32\u0e22\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e17\u0e35\u0e48\u0e22\u0e2d\u0e21\u0e23\u0e31\u0e1a\u0e2d\u0e32\u0e23\u0e4c\u0e40\u0e23\u0e22\u0e4c/slice \u0e40\u0e1b\u0e47\u0e19\u0e1e\u0e32\u0e23\u0e32\u0e21\u0e34\u0e40\u0e15\u0e2d\u0e23\u0e4c:"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"contain(): \u0e22\u0e2d\u0e21\u0e23\u0e31\u0e1a\u0e1e\u0e32\u0e23\u0e32\u0e21\u0e34\u0e40\u0e15\u0e2d\u0e23\u0e4c\u0e2b\u0e25\u0e32\u0e22\u0e15\u0e31\u0e27\u0e41\u0e25\u0e30\u0e04\u0e37\u0e19\u0e04\u0e48\u0e32\u0e27\u0e48\u0e32\u0e1e\u0e32\u0e23\u0e32\u0e21\u0e34\u0e40\u0e15\u0e2d\u0e23\u0e4c\u0e43\u0e14\u0e46 (\u0e22\u0e01\u0e40\u0e27\u0e49\u0e19\u0e1e\u0e32\u0e23\u0e32\u0e21\u0e34\u0e40\u0e15\u0e2d\u0e23\u0e4c\u0e2a\u0e38\u0e14\u0e17\u0e49\u0e32\u0e22) \u0e40\u0e17\u0e48\u0e32\u0e01\u0e31\u0e1a\u0e1e\u0e32\u0e23\u0e32\u0e21\u0e34\u0e40\u0e15\u0e2d\u0e23\u0e4c\u0e2a\u0e38\u0e14\u0e17\u0e49\u0e32\u0e22\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48"}),"\n",(0,l.jsx)(s.li,{children:"split(a,b,c...,sep,index): \u0e04\u0e37\u0e19\u0e04\u0e48\u0e32\u0e2a\u0e48\u0e27\u0e19\u0e17\u0e35\u0e48\u0e21\u0e35 ['splits(a,sep)[index]', 'splits(b,sep)[index]', 'splits(a,sep)[index]', ...]"}),"\n",(0,l.jsx)(s.li,{children:"len(): \u0e04\u0e37\u0e19\u0e04\u0e48\u0e32\u0e04\u0e27\u0e32\u0e21\u0e22\u0e32\u0e27\u0e02\u0e2d\u0e07\u0e2d\u0e32\u0e23\u0e4c\u0e01\u0e34\u0e27\u0e40\u0e21\u0e19\u0e15\u0e4c\u0e17\u0e35\u0e48\u0e21\u0e35\u0e04\u0e27\u0e32\u0e21\u0e22\u0e32\u0e27\u0e44\u0e21\u0e48\u0e41\u0e19\u0e48\u0e19\u0e2d\u0e19"}),"\n",(0,l.jsx)(s.li,{children:"matchRegex(a,b,c...,regex): \u0e04\u0e37\u0e19\u0e04\u0e48\u0e32\u0e27\u0e48\u0e32\u0e1e\u0e32\u0e23\u0e32\u0e21\u0e34\u0e40\u0e15\u0e2d\u0e23\u0e4c\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14\u0e17\u0e35\u0e48\u0e01\u0e33\u0e2b\u0e19\u0e14 ('a', 'b', 'c', ...) \u0e15\u0e23\u0e07\u0e01\u0e31\u0e1a regex \u0e17\u0e35\u0e48\u0e01\u0e33\u0e2b\u0e19\u0e14"}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"\u0e19\u0e35\u0e48\u0e04\u0e37\u0e2d\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e43\u0e19 'example/disallowed_tag/model.yaml':"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-ini",children:'    [matchers]\n    m = r.obj.Request.Namespace == "default" && r.obj.Request.Resource.Resource =="deployments" && \\\n    contain(split(accessWithWildcard(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , "*", "Image"),":",1) , p.obj)\n'})}),"\n",(0,l.jsxs)(s.p,{children:["\u0e2a\u0e21\u0e21\u0e15\u0e34\u0e27\u0e48\u0e32 'accessWithWildcard(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , \"",(0,l.jsxs)(s.em,{children:['", "Image")\' \u0e04\u0e37\u0e19\u0e04\u0e48\u0e32 [\'a',":b","', 'c",":d","', 'e",":f","', 'g",":h","'], \u0e40\u0e1e\u0e23\u0e32\u0e30 splits \u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a\u0e2d\u0e32\u0e23\u0e4c\u0e01\u0e34\u0e27\u0e40\u0e21\u0e19\u0e15\u0e4c\u0e17\u0e35\u0e48\u0e21\u0e35\u0e04\u0e27\u0e32\u0e21\u0e22\u0e32\u0e27\u0e44\u0e21\u0e48\u0e41\u0e19\u0e48\u0e19\u0e2d\u0e19\u0e41\u0e25\u0e30\u0e17\u0e33\u0e01\u0e32\u0e23\u0e41\u0e1a\u0e48\u0e07\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e43\u0e19\u0e41\u0e15\u0e48\u0e25\u0e30\u0e2d\u0e07\u0e04\u0e4c\u0e1b\u0e23\u0e30\u0e01\u0e2d\u0e1a, \u0e2d\u0e07\u0e04\u0e4c\u0e1b\u0e23\u0e30\u0e01\u0e2d\u0e1a\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48\u0e17\u0e35\u0e48\u0e14\u0e31\u0e0a\u0e19\u0e35 1 \u0e08\u0e30\u0e16\u0e39\u0e01\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e41\u0e25\u0e30\u0e04\u0e37\u0e19\u0e04\u0e48\u0e32\u0e01\u0e25\u0e31\u0e1a\u0e21\u0e32 \u0e14\u0e31\u0e07\u0e19\u0e31\u0e49\u0e19, 'split(accessWithWildcard(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , \""]}),"\", \"Image\"),\":\",1)' \u0e04\u0e37\u0e19\u0e04\u0e48\u0e32 ['b','d','f','h'] \u0e41\u0e25\u0e30 'contain(split(accessWithWildcard(r.obj.Request.Object.Object.Spec.Template.Spec.Containers , \"*\", \"Image\"),\":\",1) , p.obj)' \u0e04\u0e37\u0e19\u0e04\u0e48\u0e32\u0e27\u0e48\u0e32 'p.obj' \u0e21\u0e35\u0e2d\u0e22\u0e39\u0e48\u0e43\u0e19 ['b','d','f','h'] \u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48"]}),"\n",(0,l.jsx)(s.h4,{id:"4212-\u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19\u0e01\u0e32\u0e23\u0e41\u0e1b\u0e25\u0e07\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25",children:"4.2.1.2 \u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19\u0e01\u0e32\u0e23\u0e41\u0e1b\u0e25\u0e07\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"ParseFloat(): \u0e41\u0e1b\u0e25\u0e07\u0e08\u0e33\u0e19\u0e27\u0e19\u0e40\u0e15\u0e47\u0e21\u0e40\u0e1b\u0e47\u0e19\u0e08\u0e33\u0e19\u0e27\u0e19\u0e17\u0e28\u0e19\u0e34\u0e22\u0e21 (\u0e19\u0e35\u0e48\u0e40\u0e1b\u0e47\u0e19\u0e2a\u0e34\u0e48\u0e07\u0e08\u0e33\u0e40\u0e1b\u0e47\u0e19\u0e40\u0e1e\u0e23\u0e32\u0e30\u0e15\u0e49\u0e2d\u0e07\u0e41\u0e1b\u0e25\u0e07\u0e17\u0e38\u0e01\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02\u0e17\u0e35\u0e48\u0e43\u0e0a\u0e49\u0e43\u0e19\u0e01\u0e32\u0e23\u0e40\u0e1b\u0e23\u0e35\u0e22\u0e1a\u0e40\u0e17\u0e35\u0e22\u0e1a\u0e40\u0e1b\u0e47\u0e19\u0e08\u0e33\u0e19\u0e27\u0e19\u0e17\u0e28\u0e19\u0e34\u0e22\u0e21)"}),"\n",(0,l.jsx)(s.li,{children:"ToString(): \u0e41\u0e1b\u0e25\u0e07\u0e2d\u0e2d\u0e1a\u0e40\u0e08\u0e47\u0e01\u0e15\u0e4c\u0e40\u0e1b\u0e47\u0e19\u0e2a\u0e15\u0e23\u0e34\u0e07 \u0e2d\u0e2d\u0e1a\u0e40\u0e08\u0e47\u0e01\u0e15\u0e4c\u0e19\u0e35\u0e49\u0e15\u0e49\u0e2d\u0e07\u0e21\u0e35\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e1e\u0e37\u0e49\u0e19\u0e10\u0e32\u0e19\u0e40\u0e1b\u0e47\u0e19\u0e2a\u0e15\u0e23\u0e34\u0e07 (\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e40\u0e0a\u0e48\u0e19, \u0e2d\u0e2d\u0e1a\u0e40\u0e08\u0e47\u0e01\u0e15\u0e4c\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17 'XXX' \u0e40\u0e21\u0e37\u0e48\u0e2d\u0e21\u0e35\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07 'type XXX string')"}),"\n",(0,l.jsx)(s.li,{children:"IsNil(): \u0e04\u0e37\u0e19\u0e04\u0e48\u0e32\u0e27\u0e48\u0e32\u0e1e\u0e32\u0e23\u0e32\u0e21\u0e34\u0e40\u0e15\u0e2d\u0e23\u0e4c\u0e40\u0e1b\u0e47\u0e19 nil \u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48"}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"5-\u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e02\u0e31\u0e49\u0e19\u0e2a\u0e39\u0e07",children:"5. \u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e02\u0e31\u0e49\u0e19\u0e2a\u0e39\u0e07"}),"\n",(0,l.jsx)(s.h3,{id:"51-\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07",children:"5.1 \u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07"}),"\n",(0,l.jsx)(s.p,{children:"\u0e43\u0e19 Kubernetes (k8s), \u0e08\u0e33\u0e40\u0e1b\u0e47\u0e19\u0e17\u0e35\u0e48 webhook \u0e04\u0e27\u0e23\u0e43\u0e0a\u0e49 HTTPS \u0e21\u0e35\u0e2a\u0e2d\u0e07\u0e27\u0e34\u0e18\u0e35\u0e43\u0e19\u0e01\u0e32\u0e23\u0e17\u0e33\u0e40\u0e0a\u0e48\u0e19\u0e19\u0e35\u0e49:"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"\u0e43\u0e0a\u0e49\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07\u0e17\u0e35\u0e48\u0e25\u0e07\u0e19\u0e32\u0e21\u0e40\u0e2d\u0e07 (\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e43\u0e19\u0e17\u0e35\u0e48\u0e40\u0e01\u0e47\u0e1a\u0e19\u0e35\u0e49\u0e43\u0e0a\u0e49\u0e27\u0e34\u0e18\u0e35\u0e19\u0e35\u0e49)"}),"\n",(0,l.jsx)(s.li,{children:"\u0e43\u0e0a\u0e49\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07\u0e1b\u0e01\u0e15\u0e34"}),"\n"]}),"\n",(0,l.jsx)(s.h4,{id:"511-\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07\u0e17\u0e35\u0e48\u0e25\u0e07\u0e19\u0e32\u0e21\u0e40\u0e2d\u0e07",children:"5.1.1 \u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07\u0e17\u0e35\u0e48\u0e25\u0e07\u0e19\u0e32\u0e21\u0e40\u0e2d\u0e07"}),"\n",(0,l.jsx)(s.p,{children:"\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07\u0e17\u0e35\u0e48\u0e25\u0e07\u0e19\u0e32\u0e21\u0e40\u0e2d\u0e07\u0e2b\u0e21\u0e32\u0e22\u0e04\u0e27\u0e32\u0e21\u0e27\u0e48\u0e32 Certificate Authority (CA) \u0e17\u0e35\u0e48\u0e2d\u0e2d\u0e01\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07\u0e44\u0e21\u0e48\u0e43\u0e0a\u0e48\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e43\u0e19 CA \u0e17\u0e35\u0e48\u0e23\u0e39\u0e49\u0e08\u0e31\u0e01\u0e01\u0e31\u0e19\u0e14\u0e35 \u0e14\u0e31\u0e07\u0e19\u0e31\u0e49\u0e19, \u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e41\u0e08\u0e49\u0e07\u0e43\u0e2b\u0e49 k8s \u0e17\u0e23\u0e32\u0e1a\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a CA \u0e19\u0e35\u0e49"}),"\n",(0,l.jsx)(s.p,{children:"\u0e1b\u0e31\u0e08\u0e08\u0e38\u0e1a\u0e31\u0e19, \u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e43\u0e19\u0e17\u0e35\u0e48\u0e40\u0e01\u0e47\u0e1a\u0e19\u0e35\u0e49\u0e43\u0e0a\u0e49 CA \u0e17\u0e35\u0e48\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e40\u0e2d\u0e07, \u0e0b\u0e36\u0e48\u0e07\u0e21\u0e35\u0e01\u0e38\u0e0d\u0e41\u0e08\u0e2a\u0e48\u0e27\u0e19\u0e15\u0e31\u0e27\u0e41\u0e25\u0e30\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07\u0e08\u0e31\u0e14\u0e40\u0e01\u0e47\u0e1a\u0e2d\u0e22\u0e39\u0e48\u0e43\u0e19 'config/certificate/ca.crt' \u0e41\u0e25\u0e30 'config/certificate/ca.key' \u0e15\u0e32\u0e21\u0e25\u0e33\u0e14\u0e31\u0e1a \u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a webhook \u0e04\u0e37\u0e2d 'config/certificate/server.crt', \u0e0b\u0e36\u0e48\u0e07\u0e2d\u0e2d\u0e01\u0e42\u0e14\u0e22 CA \u0e17\u0e35\u0e48\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e40\u0e2d\u0e07 \u0e42\u0e14\u0e40\u0e21\u0e19\u0e02\u0e2d\u0e07\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07\u0e19\u0e35\u0e49\u0e04\u0e37\u0e2d 'webhook.domain.local' (\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a webhook \u0e20\u0e32\u0e22\u0e19\u0e2d\u0e01) \u0e41\u0e25\u0e30 'casbin-webhook-svc.default.svc' (\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a webhook \u0e20\u0e32\u0e22\u0e43\u0e19)"}),"\n",(0,l.jsx)(s.p,{children:"\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a CA \u0e16\u0e39\u0e01\u0e2a\u0e48\u0e07\u0e44\u0e1b\u0e22\u0e31\u0e07 k8s \u0e1c\u0e48\u0e32\u0e19\u0e44\u0e1f\u0e25\u0e4c\u0e01\u0e32\u0e23\u0e01\u0e33\u0e2b\u0e19\u0e14\u0e04\u0e48\u0e32 webhook \u0e17\u0e31\u0e49\u0e07 'config/webhook_external.yaml' \u0e41\u0e25\u0e30 'config/webhook_internal.yaml' \u0e21\u0e35\u0e1f\u0e34\u0e25\u0e14\u0e4c\u0e17\u0e35\u0e48\u0e40\u0e23\u0e35\u0e22\u0e01\u0e27\u0e48\u0e32 'CABundle', \u0e0b\u0e36\u0e48\u0e07\u0e21\u0e35\u0e2a\u0e15\u0e23\u0e34\u0e07\u0e17\u0e35\u0e48\u0e40\u0e02\u0e49\u0e32\u0e23\u0e2b\u0e31\u0e2a base64 \u0e02\u0e2d\u0e07\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07\u0e02\u0e2d\u0e07 CA"}),"\n",(0,l.jsx)(s.p,{children:"\u0e43\u0e19\u0e01\u0e23\u0e13\u0e35\u0e17\u0e35\u0e48\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07/\u0e42\u0e14\u0e40\u0e21\u0e19 (\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e40\u0e0a\u0e48\u0e19, \u0e16\u0e49\u0e32\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e27\u0e32\u0e07 webhook \u0e19\u0e35\u0e49\u0e25\u0e07\u0e43\u0e19\u0e40\u0e19\u0e21\u0e2a\u0e40\u0e1b\u0e0b\u0e2d\u0e37\u0e48\u0e19\u0e02\u0e2d\u0e07 k8s \u0e43\u0e19\u0e02\u0e13\u0e30\u0e17\u0e35\u0e48\u0e43\u0e0a\u0e49 webhook \u0e20\u0e32\u0e22\u0e43\u0e19, \u0e2b\u0e23\u0e37\u0e2d\u0e16\u0e49\u0e32\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e42\u0e14\u0e40\u0e21\u0e19\u0e43\u0e19\u0e02\u0e13\u0e30\u0e17\u0e35\u0e48\u0e43\u0e0a\u0e49 webhook \u0e20\u0e32\u0e22\u0e19\u0e2d\u0e01), \u0e04\u0e27\u0e23\u0e1b\u0e0f\u0e34\u0e1a\u0e31\u0e15\u0e34\u0e15\u0e32\u0e21\u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e15\u0e48\u0e2d\u0e44\u0e1b\u0e19\u0e35\u0e49:"}),"\n",(0,l.jsxs)(s.ol,{children:["\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\u0e2a\u0e23\u0e49\u0e32\u0e07 CA \u0e43\u0e2b\u0e21\u0e48:"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e01\u0e38\u0e0d\u0e41\u0e08\u0e2a\u0e48\u0e27\u0e19\u0e15\u0e31\u0e27\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a CA \u0e1b\u0e25\u0e2d\u0e21:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-shell",children:"openssl genrsa -des3 -out ca.key 2048\n"})}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\u0e25\u0e1a\u0e01\u0e32\u0e23\u0e1b\u0e49\u0e2d\u0e07\u0e01\u0e31\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e02\u0e2d\u0e07\u0e01\u0e38\u0e0d\u0e41\u0e08\u0e2a\u0e48\u0e27\u0e19\u0e15\u0e31\u0e27:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-shell",children:"openssl rsa -in ca.key -out ca.key\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e01\u0e38\u0e0d\u0e41\u0e08\u0e2a\u0e48\u0e27\u0e19\u0e15\u0e31\u0e27\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e40\u0e0b\u0e34\u0e23\u0e4c\u0e1f\u0e40\u0e27\u0e2d\u0e23\u0e4c webhook:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-shell",children:"openssl genrsa -des3 -out server.key 2048\nopenssl rsa -in server.key -out server.key\n"})}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\u0e43\u0e0a\u0e49 CA \u0e17\u0e35\u0e48\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e40\u0e2d\u0e07\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e25\u0e07\u0e19\u0e32\u0e21\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a webhook:"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\u0e04\u0e31\u0e14\u0e25\u0e2d\u0e01\u0e44\u0e1f\u0e25\u0e4c\u0e01\u0e32\u0e23\u0e01\u0e33\u0e2b\u0e19\u0e14\u0e04\u0e48\u0e32 openssl \u0e02\u0e2d\u0e07\u0e23\u0e30\u0e1a\u0e1a\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e0a\u0e31\u0e48\u0e27\u0e04\u0e23\u0e32\u0e27 \u0e04\u0e38\u0e13\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e2b\u0e32\u0e15\u0e33\u0e41\u0e2b\u0e19\u0e48\u0e07\u0e02\u0e2d\u0e07\u0e44\u0e1f\u0e25\u0e4c\u0e01\u0e32\u0e23\u0e01\u0e33\u0e2b\u0e19\u0e14\u0e04\u0e48\u0e32\u0e44\u0e14\u0e49\u0e42\u0e14\u0e22\u0e01\u0e32\u0e23\u0e23\u0e31\u0e19 'openssl version -a', \u0e42\u0e14\u0e22\u0e1b\u0e01\u0e15\u0e34\u0e40\u0e23\u0e35\u0e22\u0e01\u0e27\u0e48\u0e32 'openssl.cnf'"}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\u0e43\u0e19\u0e44\u0e1f\u0e25\u0e4c\u0e01\u0e32\u0e23\u0e01\u0e33\u0e2b\u0e19\u0e14\u0e04\u0e48\u0e32:"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e22\u0e48\u0e2d\u0e2b\u0e19\u0e49\u0e32 '[req]' \u0e41\u0e25\u0e30\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e1a\u0e23\u0e23\u0e17\u0e31\u0e14\u0e15\u0e48\u0e2d\u0e44\u0e1b\u0e19\u0e35\u0e49: 'req_extensions = v3_req'"}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e22\u0e48\u0e2d\u0e2b\u0e19\u0e49\u0e32 '[v3_req]' \u0e41\u0e25\u0e30\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e1a\u0e23\u0e23\u0e17\u0e31\u0e14\u0e15\u0e48\u0e2d\u0e44\u0e1b\u0e19\u0e35\u0e49: 'subjectAltName = @alt_names'"}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e1a\u0e23\u0e23\u0e17\u0e31\u0e14\u0e15\u0e48\u0e2d\u0e44\u0e1b\u0e19\u0e35\u0e49\u0e25\u0e07\u0e43\u0e19\u0e44\u0e1f\u0e25\u0e4c:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-ini",children:"[alt_names]\nDNS.2=<The domain you want>\n"})}),"\n",(0,l.jsx)(s.p,{children:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38: \u0e41\u0e17\u0e19\u0e17\u0e35\u0e48 'casbin-webhook-svc.default.svc' \u0e14\u0e49\u0e27\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e1a\u0e23\u0e34\u0e01\u0e32\u0e23\u0e08\u0e23\u0e34\u0e07\u0e02\u0e2d\u0e07\u0e1a\u0e23\u0e34\u0e01\u0e32\u0e23\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e40\u0e2d\u0e07\u0e2b\u0e32\u0e01\u0e04\u0e38\u0e13\u0e15\u0e31\u0e14\u0e2a\u0e34\u0e19\u0e43\u0e08\u0e17\u0e35\u0e48\u0e08\u0e30\u0e41\u0e01\u0e49\u0e44\u0e02\u0e0a\u0e37\u0e48\u0e2d\u0e1a\u0e23\u0e34\u0e01\u0e32\u0e23"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\u0e43\u0e0a\u0e49\u0e44\u0e1f\u0e25\u0e4c\u0e01\u0e32\u0e23\u0e01\u0e33\u0e2b\u0e19\u0e14\u0e04\u0e48\u0e32\u0e17\u0e35\u0e48\u0e41\u0e01\u0e49\u0e44\u0e02\u0e41\u0e25\u0e49\u0e27\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e44\u0e1f\u0e25\u0e4c\u0e04\u0e33\u0e02\u0e2d\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-shell",children:"openssl req -new -nodes -keyout server.key -out server.csr -config openssl.cnf\n"})}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\u0e43\u0e0a\u0e49 CA \u0e17\u0e35\u0e48\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e40\u0e2d\u0e07\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e15\u0e2d\u0e1a\u0e2a\u0e19\u0e2d\u0e07\u0e15\u0e48\u0e2d\u0e04\u0e33\u0e02\u0e2d\u0e41\u0e25\u0e30\u0e25\u0e07\u0e19\u0e32\u0e21\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-shell",children:"openssl x509 -req -days 3650 -in server.csr -out server.crt -CA ca.crt -CAkey ca.key -CAcreateserial -extensions v3_req -extensions SAN -extfile openssl.cnf\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\u0e41\u0e17\u0e19\u0e17\u0e35\u0e48\u0e1f\u0e34\u0e25\u0e14\u0e4c 'CABundle': \u0e17\u0e31\u0e49\u0e07 'config/webhook_external.yaml' \u0e41\u0e25\u0e30 'config/webhook_internal.yaml' \u0e21\u0e35\u0e1f\u0e34\u0e25\u0e14\u0e4c\u0e17\u0e35\u0e48\u0e40\u0e23\u0e35\u0e22\u0e01\u0e27\u0e48\u0e32 'CABundle', \u0e0b\u0e36\u0e48\u0e07\u0e21\u0e35\u0e2a\u0e15\u0e23\u0e34\u0e07\u0e17\u0e35\u0e48\u0e40\u0e02\u0e49\u0e32\u0e23\u0e2b\u0e31\u0e2a base64 \u0e02\u0e2d\u0e07\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07\u0e02\u0e2d\u0e07 CA"}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\u0e2d\u0e31\u0e1b\u0e40\u0e14\u0e15\u0e1f\u0e34\u0e25\u0e14\u0e4c\u0e19\u0e35\u0e49\u0e14\u0e49\u0e27\u0e22\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07\u0e43\u0e2b\u0e21\u0e48"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(s.h4,{id:"\u0e16\u0e49\u0e32\u0e04\u0e38\u0e13\u0e43\u0e0a\u0e49-helm-\u0e01\u0e32\u0e23\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e41\u0e1b\u0e25\u0e07\u0e17\u0e35\u0e48\u0e04\u0e25\u0e49\u0e32\u0e22\u0e01\u0e31\u0e19\u0e08\u0e33\u0e40\u0e1b\u0e47\u0e19\u0e15\u0e49\u0e2d\u0e07\u0e16\u0e39\u0e01\u0e19\u0e33\u0e44\u0e1b\u0e43\u0e0a\u0e49\u0e01\u0e31\u0e1a\u0e41\u0e1c\u0e19\u0e20\u0e39\u0e21\u0e34-helm",children:"\u0e16\u0e49\u0e32\u0e04\u0e38\u0e13\u0e43\u0e0a\u0e49 helm, \u0e01\u0e32\u0e23\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e41\u0e1b\u0e25\u0e07\u0e17\u0e35\u0e48\u0e04\u0e25\u0e49\u0e32\u0e22\u0e01\u0e31\u0e19\u0e08\u0e33\u0e40\u0e1b\u0e47\u0e19\u0e15\u0e49\u0e2d\u0e07\u0e16\u0e39\u0e01\u0e19\u0e33\u0e44\u0e1b\u0e43\u0e0a\u0e49\u0e01\u0e31\u0e1a\u0e41\u0e1c\u0e19\u0e20\u0e39\u0e21\u0e34 helm"}),"\n",(0,l.jsx)(s.p,{children:"5.1.2 \u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07\u0e17\u0e35\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07\u0e15\u0e32\u0e21\u0e01\u0e0e\u0e2b\u0e21\u0e32\u0e22 \u0e16\u0e49\u0e32\u0e04\u0e38\u0e13\u0e43\u0e0a\u0e49\u0e43\u0e1a\u0e23\u0e31\u0e1a\u0e23\u0e2d\u0e07\u0e17\u0e35\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07\u0e15\u0e32\u0e21\u0e01\u0e0e\u0e2b\u0e21\u0e32\u0e22, \u0e04\u0e38\u0e13\u0e44\u0e21\u0e48\u0e08\u0e33\u0e40\u0e1b\u0e47\u0e19\u0e15\u0e49\u0e2d\u0e07\u0e17\u0e33\u0e15\u0e32\u0e21\u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14\u0e40\u0e2b\u0e25\u0e48\u0e32\u0e19\u0e35\u0e49"})]})}function h(e={}){const{wrapper:s}={...(0,c.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(t,{...e})}):t(e)}},8453(e,s,n){n.d(s,{R:()=>r,x:()=>a});var i=n(6540);const l={},c=i.createContext(l);function r(e){const s=i.useContext(c);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),i.createElement(c.Provider,{value:s},e.children)}}}]);