"use strict";(self.webpackChunkcasbin_website_v2=self.webpackChunkcasbin_website_v2||[]).push([[4543],{3905:function(e,t,n){n.d(t,{Zo:function(){return g},kt:function(){return d}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=r.createContext({}),p=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},g=function(e){var t=p(e.components);return r.createElement(u.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,u=e.parentName,g=i(e,["components","mdxType","originalType","parentName"]),c=p(n),d=a,m=c["".concat(u,".").concat(d)]||c[d]||s[d]||l;return n?r.createElement(m,o(o({ref:t},g),{},{components:n})):r.createElement(m,o({ref:t},g))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,o=new Array(l);o[0]=c;var i={};for(var u in t)hasOwnProperty.call(t,u)&&(i[u]=t[u]);i.originalType=e,i.mdxType="string"==typeof e?e:a,o[1]=i;for(var p=2;p<l;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},5162:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(7294),a=n(6010),l="tabItem_Ymn6";function o(e){var t=e.children,n=e.hidden,o=e.className;return r.createElement("div",{role:"tabpanel",className:(0,a.Z)(l,o),hidden:n},t)}},5488:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(3117),a=n(7294),l=n(6010),o=n(2389),i=n(7392),u=n(7094),p=n(2466),g="tabList__CuJ",s="tabItem_LNqP";function c(e){var t,n,o=e.lazy,c=e.block,d=e.defaultValue,m=e.values,f=e.groupId,b=e.className,h=a.Children.map(e.children,(function(e){if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),k=null!=m?m:h.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),N=(0,i.l)(k,(function(e,t){return e.value===t.value}));if(N.length>0)throw new Error('Docusaurus error: Duplicate values "'+N.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var v=null===d?d:null!=(t=null!=d?d:null==(n=h.find((function(e){return e.props.default})))?void 0:n.props.value)?t:h[0].props.value;if(null!==v&&!k.some((function(e){return e.value===v})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+v+'" but none of its children has the corresponding value. Available values are: '+k.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var y=(0,u.U)(),w=y.tabGroupChoices,E=y.setTabGroupChoices,L=(0,a.useState)(v),S=L[0],P=L[1],C=[],x=(0,p.o5)().blockElementScrollPositionUntilNextRender;if(null!=f){var O=w[f];null!=O&&O!==S&&k.some((function(e){return e.value===O}))&&P(O)}var T=function(e){var t=e.currentTarget,n=C.indexOf(t),r=k[n].value;r!==S&&(x(t),P(r),null!=f&&E(f,String(r)))},z=function(e){var t,n=null;switch(e.key){case"ArrowRight":var r,a=C.indexOf(e.currentTarget)+1;n=null!=(r=C[a])?r:C[0];break;case"ArrowLeft":var l,o=C.indexOf(e.currentTarget)-1;n=null!=(l=C[o])?l:C[C.length-1]}null==(t=n)||t.focus()};return a.createElement("div",{className:(0,l.Z)("tabs-container",g)},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":c},b)},k.map((function(e){var t=e.value,n=e.label,o=e.attributes;return a.createElement("li",(0,r.Z)({role:"tab",tabIndex:S===t?0:-1,"aria-selected":S===t,key:t,ref:function(e){return C.push(e)},onKeyDown:z,onFocus:T,onClick:T},o,{className:(0,l.Z)("tabs__item",s,null==o?void 0:o.className,{"tabs__item--active":S===t})}),null!=n?n:t)}))),o?(0,a.cloneElement)(h.filter((function(e){return e.props.value===S}))[0],{className:"margin-top--md"}):a.createElement("div",{className:"margin-top--md"},h.map((function(e,t){return(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==S})}))))}function d(e){var t=(0,o.Z)();return a.createElement(c,(0,r.Z)({key:String(t)},e))}},6989:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return g},default:function(){return f},frontMatter:function(){return p},metadata:function(){return s},toc:function(){return d}});var r=n(3117),a=n(102),l=(n(7294),n(3905)),o=n(5488),i=n(5162),u=["components"],p={id:"log-error",title:"\u65e5\u5fd7 & \u9519\u8bef\u5904\u7406"},g=void 0,s={unversionedId:"log-error",id:"log-error",title:"\u65e5\u5fd7 & \u9519\u8bef\u5904\u7406",description:"Logging",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/LogError.mdx",sourceDirName:".",slug:"/log-error",permalink:"/zh/docs/log-error",draft:!1,editUrl:"https://github.com/casbin/casbin-website-v2/edit/master/docs/LogError.mdx",tags:[],version:"current",frontMatter:{id:"log-error",title:"\u65e5\u5fd7 & \u9519\u8bef\u5904\u7406"},sidebar:"docs",previous:{title:"Casbin\u670d\u52a1",permalink:"/zh/docs/service"},next:{title:"\u524d\u7aef\u4f7f\u7528",permalink:"/zh/docs/frontend"}},c={},d=[{value:"Logging",id:"logging",level:2},{value:"\u5bf9\u4e0d\u540c\u7684\u6267\u884c\u5668\u4f7f\u7528\u4e0d\u540c\u7684\u8bb0\u5f55\u5668",id:"\u5bf9\u4e0d\u540c\u7684\u6267\u884c\u5668\u4f7f\u7528\u4e0d\u540c\u7684\u8bb0\u5f55\u5668",level:3},{value:"Supported loggers",id:"supported-loggers",level:4},{value:"\u5982\u4f55\u7f16\u5199\u4e00\u4e2a\u8bb0\u5f55\u5668",id:"\u5982\u4f55\u7f16\u5199\u4e00\u4e2a\u8bb0\u5f55\u5668",level:4},{value:"\u9519\u8bef\u5904\u7406",id:"\u9519\u8bef\u5904\u7406",level:2}],m={toc:d};function f(e){var t=e.components,n=(0,a.Z)(e,u);return(0,l.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"logging"},"Logging"),(0,l.kt)("p",null,"Casbin uses the built-in ",(0,l.kt)("inlineCode",{parentName:"p"},"log")," to print logs to console by default like:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-log"},"2017/07/15 19:43:56 [Request: alice, data1, read ---\x3e true]\n")),(0,l.kt)("p",null,"The logging is not enabled by default. You can toggle it via ",(0,l.kt)("inlineCode",{parentName:"p"},"Enforcer.EnableLog()")," or the last parameter of ",(0,l.kt)("inlineCode",{parentName:"p"},"NewEnforcer()"),"."),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"We already support logging the model, enforce request, role, policy in Golang. You can define your own log for logging Casbin.\nIf you are using Python, pycasbin leverages the default Python logging mechanism. The pycasbin package makes a call to logging.getLogger() to set the logger. No special logging configuration is needed other than initializing the logger in the parent application. If no logging is intitilized within the parent application you will not see any log messages from pycasbin. "))),(0,l.kt)("h3",{id:"\u5bf9\u4e0d\u540c\u7684\u6267\u884c\u5668\u4f7f\u7528\u4e0d\u540c\u7684\u8bb0\u5f55\u5668"},"\u5bf9\u4e0d\u540c\u7684\u6267\u884c\u5668\u4f7f\u7528\u4e0d\u540c\u7684\u8bb0\u5f55\u5668"),(0,l.kt)("p",null,"Every enforcer could have its own logger to log info, and it could be changed at run-time."),(0,l.kt)("p",null,"And you could use a proper logger via the last paramter of ",(0,l.kt)("inlineCode",{parentName:"p"},"NewEnforcer()"),", if you using this way to initialize your enforcer, you needn't use the enabled parameter, cause the priority of the enabled field in logger is higher."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'// \u8bbe\u7f6e\u9ed8\u8ba4\u8bb0\u5f55\u5668\u4f5c\u4e3a\u6267\u884c\u5668e1\u7684\u8bb0\u5f55\u5668\u3002\n//\u6b64\u64cd\u4f5c\u4e5f\u53ef\u4ee5\u88ab\u89c6\u4e3a\u5728\u8fd0\u884c\u65f6\u66f4\u6539e1\u7684\u8bb0\u5f55\u5668\u3002\ne1.SetLogger(&Log.DefaultLogger{})\n\n// \u8bbe\u7f6e\u53e6\u4e00\u4e2a\u8bb0\u5f55\u5668\u4f5c\u4e3a\u6267\u884c\u5668e2\u7684\u65e5\u5fd7\u8bb0\u5f55\u5668\u3002\ne2.SetLogger(&YouOwnLogger)\n\n// \u521d\u59cb\u5316\u6267\u884c\u5668e3\u65f6\u8bbe\u7f6e\u60a8\u7684\u8bb0\u5f55\u5668\u3002\ne3, _ := casbin.NewEnforcer("examples/rbac_model.conf", a, logger)\n')),(0,l.kt)("h4",{id:"supported-loggers"},"Supported loggers"),(0,l.kt)("p",null,"We provide some loggers to help you log information."),(0,l.kt)(o.Z,{mdxType:"Tabs"},(0,l.kt)(i.Z,{value:"Go",label:"Go",default:!0,mdxType:"TabItem"},(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Logger"),(0,l.kt)("th",{parentName:"tr",align:null},"Author"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://github.com/casbin/casbin/blob/master/log/default_logger.go"},"Defatule logger (built-in)")),(0,l.kt)("td",{parentName:"tr",align:null},"Casbin"),(0,l.kt)("td",{parentName:"tr",align:null},"The default logger using golang log.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://github.com/casbin/zap-logger"},"Zap logger")),(0,l.kt)("td",{parentName:"tr",align:null},"Casbin"),(0,l.kt)("td",{parentName:"tr",align:null},"Using ",(0,l.kt)("a",{parentName:"td",href:"https://github.com/uber-go/zap"},"zap"),", provide json encoded log and you could customize more with your own zap-logger."))))),(0,l.kt)(i.Z,{value:"PHP",label:"PHP",mdxType:"TabItem"},(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Logger"),(0,l.kt)("th",{parentName:"tr",align:null},"\u4f5c\u8005"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://github.com/php-casbin/psr3-bridge"},"psr3-bridge logger")),(0,l.kt)("td",{parentName:"tr",align:null},"Casbin"),(0,l.kt)("td",{parentName:"tr",align:null},"Provides a ",(0,l.kt)("a",{parentName:"td",href:"https://www.php-fig.org/psr/psr-3/"},"PSR-3")," compliant bridge.")))))),(0,l.kt)("h4",{id:"\u5982\u4f55\u7f16\u5199\u4e00\u4e2a\u8bb0\u5f55\u5668"},"\u5982\u4f55\u7f16\u5199\u4e00\u4e2a\u8bb0\u5f55\u5668"),(0,l.kt)("p",null,"\u60a8\u7684\u8bb0\u5f55\u5668\u5e94\u8be5\u5b9e\u73b0 ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/casbin/casbin/blob/master/log/logger.go#L20"},"Logger")," \u63a5\u53e3\u3002"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Method"),(0,l.kt)("th",{parentName:"tr",align:null},"\u5b9e\u73b0\u8981\u7d20"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"EnableLog()"),(0,l.kt)("td",{parentName:"tr",align:null},"mandatory"),(0,l.kt)("td",{parentName:"tr",align:null},"Control whether print the message.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"IsEnabled()"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5fc5\u987b"),(0,l.kt)("td",{parentName:"tr",align:null},"Show the current logger's enabled status.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"LogModel()"),(0,l.kt)("td",{parentName:"tr",align:null},"mandatory"),(0,l.kt)("td",{parentName:"tr",align:null},"Log info related to model.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"LogEnforce()"),(0,l.kt)("td",{parentName:"tr",align:null},"mandatory"),(0,l.kt)("td",{parentName:"tr",align:null},"Log info related to enforce.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"LogRole()"),(0,l.kt)("td",{parentName:"tr",align:null},"mandatory"),(0,l.kt)("td",{parentName:"tr",align:null},"Log info related to role.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"LogPolicy()"),(0,l.kt)("td",{parentName:"tr",align:null},"mandatory"),(0,l.kt)("td",{parentName:"tr",align:null},"Log info related to policy.")))),(0,l.kt)("p",null,"\u60a8\u53ef\u4ee5\u5c06\u60a8\u7684\u81ea\u5b9a\u4e49 ",(0,l.kt)("inlineCode",{parentName:"p"},"\u8bb0\u5f55\u5668")," \u4f20\u7ed9 ",(0,l.kt)("inlineCode",{parentName:"p"},"Enforcer.SetLogger()"),"\u51fd\u6570\u3002"),(0,l.kt)("p",null,"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u5982\u4f55\u81ea\u5b9a\u4e49Golang\u65e5\u5fd7\u7684\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'import (\n    "fmt"\n    "log"\n    "strings"\n)\n\n// DefaultLogger is the implementation for a Logger using golang log.\ntype DefaultLogger struct {\n    enabled bool\n}\n\nfunc (l *DefaultLogger) EnableLog(enable bool) {\n    l.enabled = enable\n}\n\nfunc (l *DefaultLogger) IsEnabled() bool {\n    return l.enabled\n}\n\nfunc (l *DefaultLogger) LogModel(model [][]string) {\n    if !l.enabled {\n        return\n    }\n    var str strings.Builder\n    str.WriteString("Model: ")\n    for _, v := range model {\n        str.WriteString(fmt.Sprintf("%v\\n", v))\n    }\n\n    log.Println(str.String())\n}\n\nfunc (l *DefaultLogger) LogEnforce(matcher string, request []interface{}, result bool, explains [][]string) {\n    if !l.enabled {\n        return\n    }\n\n    var reqStr strings.Builder\n    reqStr.WriteString("Request: ")\n    for i, rval := range request {\n        if i != len(request)-1 {\n            reqStr.WriteString(fmt.Sprintf("%v, ", rval))\n        } else {\n            reqStr.WriteString(fmt.Sprintf("%v", rval))\n        }\n    }\n    reqStr.WriteString(fmt.Sprintf(" ---\x3e %t\\n", result))\n\n    reqStr.WriteString("Hit Policy: ")\n    for i, pval := range explains {\n        if i != len(explains)-1 {\n            reqStr.WriteString(fmt.Sprintf("%v, ", pval))\n        } else {\n            reqStr.WriteString(fmt.Sprintf("%v \\n", pval))\n        }\n    }\n\n    log.Println(reqStr.String())\n}\n\nfunc (l *DefaultLogger) LogPolicy(policy map[string][][]string) {\n    if !l.enabled {\n        return\n    }\n\n    var str strings.Builder\n    str.WriteString("Policy: ")\n    for k, v := range policy {\n        str.WriteString(fmt.Sprintf("%s : %v\\n", k, v))\n    }\n\n    log.Println(str.String())\n}\n\nfunc (l *DefaultLogger) LogRole(roles []string) {\n    if !l.enabled {\n        return\n    }\n\n    log.Println("Roles: ", roles)\n}\n\n')),(0,l.kt)("h2",{id:"\u9519\u8bef\u5904\u7406"},"\u9519\u8bef\u5904\u7406"),(0,l.kt)("p",null,"\u5f53\u60a8\u4f7f\u7528Casbin\u65f6\u53ef\u80fd\u4f1a\u7531\u4e8e\u4ee5\u4e0b\u539f\u56e0\u53d1\u751f\u9519\u8bef\u6216\u6050\u614c\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Invalid syntax in model file (.conf)."),(0,l.kt)("li",{parentName:"ol"},"\u7b56\u7565\u6587\u4ef6(.csv)\u4e2d\u8bed\u6cd5\u6709\u8bef\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u6765adapter\u7684\u81ea\u5b9a\u4e49\u9519\u8bef\u4fe1\u606f\uff08\u8b6c\u5982\u8fde\u63a5MySQL\u5931\u8d25\uff09\u3002"),(0,l.kt)("li",{parentName:"ol"},"Casbin\u7684bug\u3002")),(0,l.kt)("p",null,"\u60a8\u53ef\u80fd\u9700\u8981\u4e94\u4e2a\u4e3b\u8981\u529f\u80fd\u6765\u5904\u7406\u9519\u8bef\u6216\u6050\u614c\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Function"),(0,l.kt)("th",{parentName:"tr",align:null},"Behavior on error"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://godoc.org/github.com/casbin/casbin#NewEnforcer"},"NewEnforcer()")),(0,l.kt)("td",{parentName:"tr",align:null},"Return error")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://godoc.org/github.com/casbin/casbin#Enforcer.LoadModel"},"LoadModel()")),(0,l.kt)("td",{parentName:"tr",align:null},"Return error")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://godoc.org/github.com/casbin/casbin#Enforcer.LoadPolicy"},"LoadPolicy()")),(0,l.kt)("td",{parentName:"tr",align:null},"Return error")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://godoc.org/github.com/casbin/casbin#Enforcer.SavePolicy"},"SavePolicy()")),(0,l.kt)("td",{parentName:"tr",align:null},"Return error")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://godoc.org/github.com/casbin/casbin#Enforcer.Enforce"},"Enforce()")),(0,l.kt)("td",{parentName:"tr",align:null},"Return error")))),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),(0,l.kt)("inlineCode",{parentName:"h5"},"NewEnforcer()"),"\u901a\u8fc7\u5185\u90e8\u8c03\u7528",(0,l.kt)("inlineCode",{parentName:"h5"},"LoadModel()")," \u548c",(0,l.kt)("inlineCode",{parentName:"h5"},"LoadPolicy()"),"\u3002 \u6240\u4ee5\u5f53\u60a8\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"h5"},"NewEnforcer()"),"\u51fd\u6570\u65f6\u4e0d\u9700\u8981\u518d\u53bb\u8c03\u7528\u8fd9\u4e24\u4e2a\u51fd\u6570\u3002 :::")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("h2",{parentName:"div",id:"\u542f\u7528--\u7981\u7528"},"\u542f\u7528 & \u7981\u7528"),(0,l.kt)("p",{parentName:"div"},"\u53ef\u4ee5\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"Encer.EnableEnforcece()")," \u51fd\u6570\u7981\u7528\u6267\u884c\u5668\u3002 \u5f53\u5b83\u88ab\u7981\u7528\u65f6\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"Enforcer.Enforce()")," \u5c06\u603b\u662f\u8fd4\u56de ",(0,l.kt)("inlineCode",{parentName:"p"},"true"),"\u3002 \u8bf8\u5982\u6dfb\u52a0\u6216\u5220\u9664\u653f\u7b56\u4e4b\u7c7b\u7684\u5176\u4ed6\u64cd\u4f5c\u5c06\u4e0d\u53d7\u5f71\u54cd\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\uff1a"),(0,l.kt)("pre",{parentName:"div"},(0,l.kt)("code",{parentName:"pre",className:"language-go"},'e := casbin.NewEnforcer("examples/basic_model.conf", "examples/basic_policy.csv")\n\n// Will return false.\n// By default, the enforcer is enabled.\ne.Enforce("non-authorized-user", "data1", "read")\n\n// Disable the enforcer at run-time.\ne.EnableEnforce(false)\n\n// Will return true for any request.\ne.Enforce("non-authorized-user", "data1", "read")\n\n// Enable the enforcer again.\ne.EnableEnforce(true)\n\n// Will return false.\ne.Enforce("non-authorized-user", "data1", "read")\n')))))}f.isMDXComponent=!0}}]);