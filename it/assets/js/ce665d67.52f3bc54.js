"use strict";(self.webpackChunkcasbin_website_v2=self.webpackChunkcasbin_website_v2||[]).push([[1929],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(n),m=i,b=d["".concat(s,".").concat(m)]||d[m]||u[m]||o;return n?a.createElement(b,r(r({ref:t},p),{},{components:n})):a.createElement(b,r({ref:t},p))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,r[1]=l;for(var c=2;c<o;c++)r[c]=n[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7483:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var a=n(7462),i=(n(7294),n(3905));const o={id:"abac",title:"ABAC",description:"ABAC basato su Casbin",keywords:["ABAC","ABAC model"],authors:["hsluoyz"]},r=void 0,l={unversionedId:"abac",id:"abac",title:"ABAC",description:"ABAC basato su Casbin",source:"@site/i18n/it/docusaurus-plugin-content-docs/current/ABAC.mdx",sourceDirName:".",slug:"/abac",permalink:"/it/docs/abac",draft:!1,editUrl:"https://github.com/casbin/casbin-website-v2/edit/master/docs/ABAC.mdx",tags:[],version:"current",frontMatter:{id:"abac",title:"ABAC",description:"ABAC basato su Casbin",keywords:["ABAC","ABAC model"],authors:["hsluoyz"]},sidebar:"docs",previous:{title:"ReBAC",permalink:"/it/docs/rebac"},next:{title:"PBAC",permalink:"/it/docs/pbac"}},s={},c=[{value:"Cos&#39;\xe8 il modello ABAC?",id:"cos\xe8-il-modello-abac",level:2},{value:"Come utilizzare ABAC?",id:"come-utilizzare-abac",level:2},{value:"Scalare il modello per regole ABAC complesse e numerose",id:"scalare-il-modello-per-regole-abac-complesse-e-numerose",level:2}],p={toc:c};function u(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"cos\xe8-il-modello-abac"},"Cos'\xe8 il modello ABAC?"),(0,i.kt)("p",null,"ABAC sta per Attribute-Based Access Control. Ti consente di controllare l'accesso utilizzando gli attributi (propriet\xe0) del soggetto, dell'oggetto o dell'azione invece di utilizzare i valori stringa stessi. Potresti aver sentito parlare di un complesso linguaggio di controllo degli accessi ABAC chiamato XACML. D'altra parte, Casbin's ABAC \xe8 molto pi\xf9 semplice. In Casbin's ABAC, puoi utilizzare strutture o istanze di classe invece di stringhe per gli elementi del modello."),(0,i.kt)("p",null,"Diamo un'occhiata all'esempio ufficiale di ABAC:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ini"},"[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = r.sub == r.obj.Owner\n")),(0,i.kt)("p",null,"Nel matcher, utilizziamo ",(0,i.kt)("inlineCode",{parentName:"p"},"r.obj.Owner")," invece di ",(0,i.kt)("inlineCode",{parentName:"p"},"r.obj"),". Il ",(0,i.kt)("inlineCode",{parentName:"p"},"r.obj")," passato nella funzione ",(0,i.kt)("inlineCode",{parentName:"p"},"Enforce()")," sar\xe0 una struttura o un'istanza di classe piuttosto che una stringa. Casbin utilizzer\xe0 la riflessione per recuperare la variabile membro ",(0,i.kt)("inlineCode",{parentName:"p"},"obj")," in quella struttura o classe per te."),(0,i.kt)("p",null,"Ecco una definizione per la struttura o la classe ",(0,i.kt)("inlineCode",{parentName:"p"},"r.obj"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},"type testResource struct {\n    Name  string\n    Owner string\n}\n")),(0,i.kt)("p",null,"Se desideri passare parametri all'enforcer attraverso JSON, devi abilitare la funzione con ",(0,i.kt)("inlineCode",{parentName:"p"},"e.EnableAcceptJsonRequest(true)"),"."),(0,i.kt)("p",null,"Ad esempio:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'e, _ := NewEnforcer("examples/abac_model.conf")\ne.EnableAcceptJsonRequest(true)\n\ndata1Json := `{ "Name": "data1", "Owner": "bob"}`\n\nok, _ := e.Enforce("alice", data1Json, "read")\n')),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Abilitare la funzione di accettazione dei parametri JSON potrebbe causare un calo delle prestazioni da 1,1 a 1,5 volte.")),(0,i.kt)("h2",{id:"come-utilizzare-abac"},"Come utilizzare ABAC?"),(0,i.kt)("p",null,"Per utilizzare ABAC, \xe8 necessario fare due cose:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Specificare gli attributi nel matcher del modello."),(0,i.kt)("li",{parentName:"ol"},"Passare l'istanza della struttura o della classe per l'elemento come argomento alla funzione ",(0,i.kt)("inlineCode",{parentName:"li"},"Enforce()")," di Casbin.")),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"Attualmente, solo gli elementi della richiesta come ",(0,i.kt)("inlineCode",{parentName:"p"},"r.sub"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"r.obj"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"r.act")," e cos\xec via supportano ABAC. Non \xe8 possibile utilizzarlo su elementi di policy come ",(0,i.kt)("inlineCode",{parentName:"p"},"p.sub")," perch\xe9 non c'\xe8 modo di definire una struttura o una classe nella policy di Casbin.")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Puoi utilizzare pi\xf9 attributi ABAC in un matcher. Ad esempio: ",(0,i.kt)("inlineCode",{parentName:"p"},"m = r.sub.Domain == r.obj.Domain"),".")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Se hai bisogno di utilizzare una virgola in una policy che entra in conflitto con il separatore del CSV, puoi evitare il conflitto racchiudendo la dichiarazione tra virgolette. Ad esempio, ",(0,i.kt)("inlineCode",{parentName:"p"},'"keyMatch("bob", r.sub.Role)"')," non verr\xe0 diviso.")),(0,i.kt)("h2",{id:"scalare-il-modello-per-regole-abac-complesse-e-numerose"},"Scalare il modello per regole ABAC complesse e numerose"),(0,i.kt)("p",null,"L'implementazione sopra descritta del modello ABAC \xe8 semplice nel suo nucleo. Tuttavia, in molti casi, il sistema di autorizzazione richiede un numero complesso e grande di regole ABAC. Per soddisfare questo requisito, si raccomanda di aggiungere le regole nella politica invece che nel modello. Questo pu\xf2 essere fatto introducendo un costrutto funzionale ",(0,i.kt)("inlineCode",{parentName:"p"},"eval()"),". Ecco un esempio:"),(0,i.kt)("p",null,"Questa \xe8 la definizione del file ",(0,i.kt)("inlineCode",{parentName:"p"},"CONF")," utilizzato per definire il modello ABAC."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ini"},"[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub_rule, obj, act\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = eval(p.sub_rule) && r.obj == p.obj && r.act == p.act\n")),(0,i.kt)("p",null,"In questo esempio, ",(0,i.kt)("inlineCode",{parentName:"p"},"p.sub_rule")," \xe8 una struttura o classe (tipo definito dall'utente) che contiene gli attributi necessari da utilizzare nella politica."),(0,i.kt)("p",null,"Questa \xe8 la politica che viene utilizzata contro il modello per ",(0,i.kt)("inlineCode",{parentName:"p"},"Enforcement"),". Ora, puoi utilizzare l'istanza dell'oggetto passata a ",(0,i.kt)("inlineCode",{parentName:"p"},"eval()")," come parametro per definire determinati vincoli ABAC."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csv"},"p, r.sub.Age > 18, /data1, read\np, r.sub.Age < 60, /data2, write\n")))}u.isMDXComponent=!0}}]);