"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[1494],{5511(e,i,n){n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>r,default:()=>m,frontMatter:()=>t,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"model-storage","title":"Model Storage","description":"Archiviazione dei modelli","source":"@site/i18n/it/docusaurus-plugin-content-docs/current/ModelStorage.mdx","sourceDirName":".","slug":"/model-storage","permalink":"/it/docs/model-storage","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/ModelStorage.mdx","tags":[],"version":"current","frontMatter":{"id":"model-storage","title":"Model Storage","description":"Archiviazione dei modelli","keywords":["model storage"],"authors":["hsluoyz"]},"sidebar":"docs","previous":{"title":"Storage","permalink":"/it/docs/category/storage"},"next":{"title":"Policy Storage","permalink":"/it/docs/policy-storage"}}');var a=n(4848),l=n(8453);const t={id:"model-storage",title:"Model Storage",description:"Archiviazione dei modelli",keywords:["model storage"],authors:["hsluoyz"]},r=void 0,c={},d=[{value:"Carica il modello dal file .CONF",id:"carica-il-modello-dal-file-conf",level:2},{value:"Carica il modello dal codice",id:"carica-il-modello-dal-codice",level:2},{value:"Carica il modello da stringa",id:"carica-il-modello-da-stringa",level:2}];function s(e){const i={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.p,{children:"A differenza della policy, il modello pu\xf2 essere solo caricato, non pu\xf2 essere salvato. Crediamo che il modello non sia un componente dinamico e non dovrebbe essere modificato durante il runtime, quindi non abbiamo implementato un'API per salvare il modello nella memoria di archiviazione."}),"\n",(0,a.jsx)(i.p,{children:"Tuttavia, c'\xe8 una buona notizia. Forniamo tre modi equivalenti per caricare un modello, sia staticamente che dinamicamente:"}),"\n",(0,a.jsx)(i.h2,{id:"carica-il-modello-dal-file-conf",children:"Carica il modello dal file .CONF"}),"\n",(0,a.jsx)(i.p,{children:"Questo \xe8 il modo pi\xf9 comune per utilizzare Casbin. \xc8 facile da capire per i principianti e conveniente per condividere quando hai bisogno di aiuto dal team di Casbin."}),"\n",(0,a.jsxs)(i.p,{children:["Il contenuto del file ",(0,a.jsx)(i.code,{children:".CONF"})," ",(0,a.jsx)(i.a,{href:"https://github.com/casbin/casbin/blob/master/examples/rbac_model.conf",children:"examples/rbac_model.conf"})," \xe8 il seguente:"]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-ini",children:"[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act\n\n[role_definition]\ng = _, _\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = g(r.sub, p.sub) && r.obj == p.obj && r.act == p.act\n"})}),"\n",(0,a.jsx)(i.p,{children:"Quindi puoi caricare il file del modello come segue:"}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-go",children:'e := casbin.NewEnforcer("examples/rbac_model.conf", "examples/rbac_policy.csv")\n'})}),"\n",(0,a.jsx)(i.h2,{id:"carica-il-modello-dal-codice",children:"Carica il modello dal codice"}),"\n",(0,a.jsxs)(i.p,{children:["Il modello pu\xf2 essere inizializzato dinamicamente dal codice invece di utilizzare un file ",(0,a.jsx)(i.code,{children:".CONF"}),". Ecco un esempio per il modello RBAC:"]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-go",children:'import (\n    "github.com/casbin/casbin/v2"\n    "github.com/casbin/casbin/v2/model"\n    "github.com/casbin/casbin/v2/persist/file-adapter"\n)\n\n// Initialize the model from Go code.\nm := model.NewModel()\nm.AddDef("r", "r", "sub, obj, act")\nm.AddDef("p", "p", "sub, obj, act")\nm.AddDef("g", "g", "_, _")\nm.AddDef("e", "e", "some(where (p.eft == allow))")\nm.AddDef("m", "m", "g(r.sub, p.sub) && r.obj == p.obj && r.act == p.act")\n\n// Load the policy rules from the .CSV file adapter.\n// Replace it with your adapter to avoid using files.\na := fileadapter.NewAdapter("examples/rbac_policy.csv")\n\n// Create the enforcer.\ne := casbin.NewEnforcer(m, a)\n'})}),"\n",(0,a.jsx)(i.h2,{id:"carica-il-modello-da-stringa",children:"Carica il modello da stringa"}),"\n",(0,a.jsx)(i.p,{children:"In alternativa, puoi caricare l'intero testo del modello da una stringa su pi\xf9 righe. Il vantaggio di questo approccio \xe8 che non \xe8 necessario mantenere un file modello."}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-go",children:'import (\n    "github.com/casbin/casbin/v2"\n    "github.com/casbin/casbin/v2/model"\n)\n\n// Initialize the model from a string.\ntext :=\n`\n[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act\n\n[role_definition]\ng = _, _\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = g(r.sub, p.sub) && r.obj == p.obj && r.act == p.act\n`\nm, _ := model.NewModelFromString(text)\n\n// Load the policy rules from the .CSV file adapter.\n// Replace it with your adapter to avoid using files.\na := fileadapter.NewAdapter("examples/rbac_policy.csv")\n\n// Create the enforcer.\ne := casbin.NewEnforcer(m, a)\n'})})]})}function m(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,a.jsx)(i,{...e,children:(0,a.jsx)(s,{...e})}):s(e)}},8453(e,i,n){n.d(i,{R:()=>t,x:()=>r});var o=n(6540);const a={},l=o.createContext(a);function t(e){const i=o.useContext(l);return o.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),o.createElement(l.Provider,{value:i},e.children)}}}]);