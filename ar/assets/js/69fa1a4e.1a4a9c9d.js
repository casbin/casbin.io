"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[2536],{2599(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>g,frontMatter:()=>a,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"orbac","title":"OrBAC","description":"Organisation-Based Access Control model in Casbin","source":"@site/i18n/ar/docusaurus-plugin-content-docs/current/OrBAC.mdx","sourceDirName":".","slug":"/orbac","permalink":"/ar/docs/orbac","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/OrBAC.mdx","tags":[],"version":"current","frontMatter":{"id":"orbac","title":"OrBAC","description":"Organisation-Based Access Control model in Casbin","keywords":["orbac","organisation-based access control","organizational access control","role abstraction"],"authors":["casbin"]},"sidebar":"docs","previous":{"title":"LBAC","permalink":"/ar/docs/lbac"},"next":{"title":"Priority Model","permalink":"/ar/docs/priority-model"}}');var i=r(4848),s=r(8453);const a={id:"orbac",title:"OrBAC",description:"Organisation-Based Access Control model in Casbin",keywords:["orbac","organisation-based access control","organizational access control","role abstraction"],authors:["casbin"]},t=void 0,c={},l=[{value:"What is OrBAC?",id:"what-is-orbac",level:2},{value:"Model",id:"model",level:2},{value:"Policy Examples",id:"policy-examples",level:2},{value:"Code Example",id:"code-example",level:2},{value:"Benefits",id:"benefits",level:2}];function d(e){const n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"what-is-orbac",children:"What is OrBAC?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"OrBAC (Organisation-Based Access Control)"})," extends RBAC with ",(0,i.jsx)(n.strong,{children:"abstractions"})," and an ",(0,i.jsx)(n.strong,{children:"organization"})," dimension. Policies refer to ",(0,i.jsx)(n.strong,{children:"roles"}),", ",(0,i.jsx)(n.strong,{children:"activities"}),", and ",(0,i.jsx)(n.strong,{children:"views"}),"; concrete users, actions, and objects are mapped to them per organization. That keeps policy stable when entities change."]}),"\n",(0,i.jsx)(n.p,{children:"Three mappings (all scoped by organization):"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Empower"})," \u2014 user \u2192 role"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use"})," \u2014 action \u2192 activity"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Consider"})," \u2014 object \u2192 view"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Permission is granted when the request\u2019s (subject, action, object) maps to a (role, activity, view) that has permission in that org."}),"\n",(0,i.jsx)(n.h2,{id:"model",children:"Model"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ini",children:"[request_definition]\nr = sub, org, obj, act\n\n[policy_definition]\np = role, activity, view, org\n\n[role_definition]\ng = _, _, _\ng2 = _, _, _\ng3 = _, _, _\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = g(r.sub, p.role, r.org) && g2(r.act, p.activity, r.org) && g3(r.obj, p.view, r.org) && r.org == p.org\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"g"})," \u2014 subject has role in org (Empower)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"g2"})," \u2014 action is activity in org (Use)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"g3"})," \u2014 object is in view in org (Consider)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"r.org == p.org"})," \u2014 same organization"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"policy-examples",children:"Policy Examples"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Permission rules"})," specify which roles can perform which activities on which views in each organization:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csv",children:"# Permission: role, activity, view, organization\np, manager, modify, document, org1\np, manager, consult, document, org1\np, employee, consult, document, org1\np, manager, modify, report, org2\np, manager, consult, report, org2\np, employee, consult, report, org2\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Empower rules"})," assign roles to subjects within organizations:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csv",children:"# Empower: subject, role, organization\ng, alice, manager, org1\ng, bob, employee, org1\ng, charlie, manager, org2\ng, david, employee, org2\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Use rules"})," map concrete actions to abstract activities:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csv",children:"# Use: action, activity, organization\ng2, write, modify, org1\ng2, read, consult, org1\ng2, write, modify, org2\ng2, read, consult, org2\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Consider rules"})," map concrete objects to abstract views:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csv",children:"# Consider: object, view, organization\ng3, data1, document, org1\ng3, data2, document, org1\ng3, report1, report, org2\ng3, report2, report, org2\n"})}),"\n",(0,i.jsx)(n.h2,{id:"code-example",children:"Code Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'import "github.com/casbin/casbin/v3"\n\ne, _ := casbin.NewEnforcer("examples/orbac_model.conf", "examples/orbac_policy.csv")\n\n// alice is a manager in org1, can read and write documents\nok, _ := e.Enforce("alice", "org1", "data1", "read")   // true\nok, _ = e.Enforce("alice", "org1", "data1", "write")   // true\n\n// bob is an employee in org1, can only read documents\nok, _ = e.Enforce("bob", "org1", "data1", "read")      // true\nok, _ = e.Enforce("bob", "org1", "data1", "write")     // false\n\n// charlie is a manager in org2, can read and write reports\nok, _ = e.Enforce("charlie", "org2", "report1", "read")   // true\nok, _ = e.Enforce("charlie", "org2", "report1", "write")  // true\n\n// Cross-organization access is denied\nok, _ = e.Enforce("alice", "org2", "report1", "read")  // false\nok, _ = e.Enforce("charlie", "org1", "data1", "read")  // false\n'})}),"\n",(0,i.jsx)(n.h2,{id:"benefits",children:"Benefits"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Abstraction"})," \u2014 Policies use roles, activities, and views; you can change concrete mappings without rewriting policy."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Per-organization"})," \u2014 Each org has its own mappings and permissions; one model covers all."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Scalability"})," \u2014 Fewer, clearer rules in multi-org setups."]}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,n,r){r.d(n,{R:()=>a,x:()=>t});var o=r(6540);const i={},s=o.createContext(i);function a(e){const n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);