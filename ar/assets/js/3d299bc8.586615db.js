"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[5101],{4959(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>p,frontMatter:()=>t,metadata:()=>s,toc:()=>r});const s=JSON.parse('{"id":"pbac","title":"PBAC","description":"Policy-Based Access Control model in Casbin","source":"@site/docs/PBAC.mdx","sourceDirName":".","slug":"/pbac","permalink":"/ar/docs/pbac","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/PBAC.mdx","tags":[],"version":"current","frontMatter":{"id":"pbac","title":"PBAC","description":"Policy-Based Access Control model in Casbin","keywords":["pbac","policy-based access control","dynamic policies","rule-based authorization"],"authors":["casbin"]},"sidebar":"docs","previous":{"title":"ABAC","permalink":"/ar/docs/abac"},"next":{"title":"MAC Overview","permalink":"/ar/docs/mac-overview"}}');var l=i(4848),c=i(8453);const t={id:"pbac",title:"PBAC",description:"Policy-Based Access Control model in Casbin",keywords:["pbac","policy-based access control","dynamic policies","rule-based authorization"],authors:["casbin"]},o=void 0,a={},r=[{value:"What is the PBAC model?",id:"what-is-the-pbac-model",level:2},{value:"PBAC Model Definition",id:"pbac-model-definition",level:2},{value:"Policy and Request Examples",id:"policy-and-request-examples",level:2},{value:"Basic Policy",id:"basic-policy",level:3},{value:"Complex Policy",id:"complex-policy",level:3}];function d(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"what-is-the-pbac-model",children:"What is the PBAC model?"}),"\n",(0,l.jsxs)(n.p,{children:["PBAC (Policy-Based Access Control) is a flexible access control model that evaluates authorization based on rules defined in policies. Unlike static role-based or attribute-based models, PBAC evaluates complex conditions dynamically at runtime using the ",(0,l.jsx)(n.code,{children:"eval()"})," function."]}),"\n",(0,l.jsx)(n.p,{children:"PBAC policies can include:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Dynamic Rules"}),": Expressions evaluated at runtime"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Complex Logic"}),": Boolean operations, comparisons, and attribute-based conditions"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Contextual Information"}),": User attributes, resource properties, and environmental factors"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Business Rules"}),": Domain-specific authorization logic reflecting organizational policies"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"pbac-model-definition",children:"PBAC Model Definition"}),"\n",(0,l.jsx)(n.p,{children:"The PBAC model configuration:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",children:"[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub_rule, obj_rule, act\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = eval(p.sub_rule) && eval(p.obj_rule) && r.act == p.act\n"})}),"\n",(0,l.jsx)(n.p,{children:"Model components:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"p.sub_rule"})," contains the subject rule (for example, ",(0,l.jsx)(n.code,{children:"r.sub.Age >= 18"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"p.obj_rule"})," contains the object rule (for example, ",(0,l.jsx)(n.code,{children:"r.obj.Level >= 1"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"eval()"})," evaluates policy rules dynamically against the request"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"policy-and-request-examples",children:"Policy and Request Examples"}),"\n",(0,l.jsx)(n.h3,{id:"basic-policy",children:"Basic Policy"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Policy:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csv",children:"p, r.sub.Age >= 18, r.obj.Level >= 1, play\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Request Examples:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:'{"Age":25}, {"Level":2}, play    # ALLOWED (Age >= 18 and Level >= 1)\n{"Age":16}, {"Level":2}, play    # DENIED (Age < 18)\n{"Age":20}, {"Level":0}, play    # DENIED (Level < 1)\n{"Age":25}, {"Level":2}, read    # DENIED (action doesn\'t match policy)\n'})}),"\n",(0,l.jsx)(n.h3,{id:"complex-policy",children:"Complex Policy"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Policy:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csv",children:'p, r.sub.Department == "IT" && r.sub.Level >= 3, r.obj.Confidential == false, read\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Request Examples:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:'{"Department":"IT","Level":3}, {"Confidential":false}, read    # ALLOWED\n{"Department":"IT","Level":2}, {"Confidential":false}, read    # DENIED (Level < 3)\n{"Department":"HR","Level":3}, {"Confidential":false}, read    # DENIED (Department != "IT")\n{"Department":"IT","Level":3}, {"Confidential":true}, read     # DENIED (Confidential == true)\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code Example:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:'e, _ := NewEnforcer("examples/pbac_model.conf", "examples/pbac_policy.csv")\n\n// Enable JSON request support\ne.EnableAcceptJsonRequest(true)\n\n// Define subject and object with attributes\nsubject := `{"Department": "IT", "Level": 3}`\nobject := `{"Confidential": false}`\naction := "read"\n\n// Check permission\nok, _ := e.Enforce(subject, object, action)\nif ok {\n    fmt.Println("Permission granted")\n} else {\n    fmt.Println("Permission denied")\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453(e,n,i){i.d(n,{R:()=>t,x:()=>o});var s=i(6540);const l={},c=s.createContext(l);function t(e){const n=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);