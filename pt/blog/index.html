<!doctype html>
<html lang="pt" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Blog | Casbin</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://casbin.org/pt/blog"><meta data-rh="true" property="og:locale" content="pt"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" property="og:locale:alternate" content="ko"><meta data-rh="true" property="og:locale:alternate" content="ru"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="uk"><meta data-rh="true" property="og:locale:alternate" content="th"><meta data-rh="true" property="og:locale:alternate" content="ar"><meta data-rh="true" property="og:locale:alternate" content="id"><meta data-rh="true" property="og:locale:alternate" content="vi"><meta data-rh="true" property="og:locale:alternate" content="it"><meta data-rh="true" property="og:locale:alternate" content="ms"><meta data-rh="true" property="og:locale:alternate" content="tr"><meta data-rh="true" name="docusaurus_locale" content="pt"><meta data-rh="true" name="docsearch:language" content="pt"><meta data-rh="true" name="Casbin" content="An authorization library that supports access control models like ACL, RBAC, ABAC, ReBAC, PBAC, OrBAC, BLP, Biba, LBAC, UCON for Golang, Java, C/C++, Node.js, Javascript, PHP, Laravel, Python, .NET (C#), Delphi, Rust, Ruby, Swift (Objective-C), Lua (OpenResty), Dart (Flutter) and Elixir"><meta data-rh="true" property="og:title" content="Blog | Casbin"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/pt/img/favicon.png"><link data-rh="true" rel="canonical" href="https://casbin.org/pt/blog"><link data-rh="true" rel="alternate" href="https://casbin.org/blog" hreflang="en"><link data-rh="true" rel="alternate" href="https://casbin.org/zh/blog" hreflang="zh"><link data-rh="true" rel="alternate" href="https://casbin.org/ko/blog" hreflang="ko"><link data-rh="true" rel="alternate" href="https://casbin.org/ru/blog" hreflang="ru"><link data-rh="true" rel="alternate" href="https://casbin.org/fr/blog" hreflang="fr"><link data-rh="true" rel="alternate" href="https://casbin.org/de/blog" hreflang="de"><link data-rh="true" rel="alternate" href="https://casbin.org/ja/blog" hreflang="ja"><link data-rh="true" rel="alternate" href="https://casbin.org/es/blog" hreflang="es"><link data-rh="true" rel="alternate" href="https://casbin.org/pt/blog" hreflang="pt"><link data-rh="true" rel="alternate" href="https://casbin.org/uk/blog" hreflang="uk"><link data-rh="true" rel="alternate" href="https://casbin.org/th/blog" hreflang="th"><link data-rh="true" rel="alternate" href="https://casbin.org/ar/blog" hreflang="ar"><link data-rh="true" rel="alternate" href="https://casbin.org/id/blog" hreflang="id"><link data-rh="true" rel="alternate" href="https://casbin.org/vi/blog" hreflang="vi"><link data-rh="true" rel="alternate" href="https://casbin.org/it/blog" hreflang="it"><link data-rh="true" rel="alternate" href="https://casbin.org/ms/blog" hreflang="ms"><link data-rh="true" rel="alternate" href="https://casbin.org/tr/blog" hreflang="tr"><link data-rh="true" rel="alternate" href="https://casbin.org/blog" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://6NBEV8TOFK-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"Blog","@id":"https://casbin.org/pt/blog","mainEntityOfPage":"https://casbin.org/pt/blog","headline":"Blog","description":"Blog","blogPost":[{"@type":"BlogPosting","@id":"https://casbin.org/pt/blog/casbin-2025-ai-agent-era","mainEntityOfPage":"https://casbin.org/pt/blog/casbin-2025-ai-agent-era","url":"https://casbin.org/pt/blog/casbin-2025-ai-agent-era","headline":"Casbin in 2025: Authorization for the AI Agent Era","name":"Casbin in 2025: Authorization for the AI Agent Era","description":"2024 was the year AI agents went from demos to production. With the Model Context Protocol (MCP) gaining adoption from Google, OpenAI, Microsoft, and countless others, we're seeing a fundamental shift in how applications interact with external services. And with that shift comes a whole new set of authorization challenges that we at Casbin have been thinking about.","datePublished":"2025-12-11T00:00:00.000Z","author":{"@type":"Person","name":"Yang Luo","url":"http://github.com/hsluoyz","image":"https://avatars.githubusercontent.com/hsluoyz"},"keywords":[]},{"@type":"BlogPosting","@id":"https://casbin.org/pt/blog/2023/12/08/understanding-casbin-matching-in-detail","mainEntityOfPage":"https://casbin.org/pt/blog/2023/12/08/understanding-casbin-matching-in-detail","url":"https://casbin.org/pt/blog/2023/12/08/understanding-casbin-matching-in-detail","headline":"Understanding How Casbin Matching Works in Detail","name":"Understanding How Casbin Matching Works in Detail","description":"In this post, I will explain the design and implementation of RBAC using the Casbin library. For a SaaS platform dealing with multiple resource hierarchies and roles that inherit permissions from higher levels, Casbin provides a performant alternative to consider.","datePublished":"2023-12-08T00:00:00.000Z","author":{"@type":"Person","name":"Aravinda Kumar","url":"http://github.com/aravindarc","image":"https://avatars.githubusercontent.com/aravindarc"},"keywords":[]},{"@type":"BlogPosting","@id":"https://casbin.org/pt/blog/2021/08/19/apisix-casbin-authorization","mainEntityOfPage":"https://casbin.org/pt/blog/2021/08/19/apisix-casbin-authorization","url":"https://casbin.org/pt/blog/2021/08/19/apisix-casbin-authorization","headline":"Autoriza√ß√£o no APISIX usando Casbin","name":"Autoriza√ß√£o no APISIX usando Casbin","description":"Introdu√ß√£o","datePublished":"2021-08-19T00:00:00.000Z","author":{"@type":"Person","name":"Rushikesh Tote","description":"Membro do Casbin","url":"http://github.com/rushitote","image":"https://avatars.githubusercontent.com/rushitote"},"keywords":[]},{"@type":"BlogPosting","@id":"https://casbin.org/pt/blog/2020/04/21/google-award","mainEntityOfPage":"https://casbin.org/pt/blog/2020/04/21/google-award","url":"https://casbin.org/pt/blog/2020/04/21/google-award","headline":"Yang Luo - Vencedor do Pr√™mio Google Open Source Peer Bonus","name":"Yang Luo - Vencedor do Pr√™mio Google Open Source Peer Bonus","description":"Hoje, temos o prazer de anunciar que o fundador do Casbin, Yang Luo, foi premiado com o \"vencedores do Google Open Source Peer Bonus\" por seu trabalho no Casbin, Npcap e Nmap no 3¬∫ trimestre de 2019.","datePublished":"2020-04-21T00:00:00.000Z","author":{"@type":"Person","name":"Casbin","description":"Conta Oficial","url":"http://github.com/casbin","image":"https://avatars.githubusercontent.com/casbin"},"keywords":[]},{"@type":"BlogPosting","@id":"https://casbin.org/pt/blog/2018/09/23/new-website","mainEntityOfPage":"https://casbin.org/pt/blog/2018/09/23/new-website","url":"https://casbin.org/pt/blog/2018/09/23/new-website","headline":"Reestruturando nossa Documenta√ß√£o","name":"Reestruturando nossa Documenta√ß√£o","description":"Hoje, migramos a documenta√ß√£o do Casbin do Wiki do GitHub para Docs deste site, que √© alimentado pelo Docusaurus. O Docusaurus oferece muitos recursos incr√≠veis como melhores estilos de Markdown, busca de texto completo, versionamento, tradu√ß√£o.","datePublished":"2018-09-23T00:00:00.000Z","author":{"@type":"Person","name":"Yang Luo","description":"Criador do Casbin","url":"http://github.com/hsluoyz","image":"https://avatars.githubusercontent.com/hsluoyz"},"keywords":[]},{"@type":"BlogPosting","@id":"https://casbin.org/pt/blog/2018/08/27/node-casbin","mainEntityOfPage":"https://casbin.org/pt/blog/2018/08/27/node-casbin","url":"https://casbin.org/pt/blog/2018/08/27/node-casbin","headline":"node-Casbin: Novo Membro da Fam√≠lia Casbin","name":"node-Casbin: Novo Membro da Fam√≠lia Casbin","description":"Hoje, n√≥s portamos com sucesso o Casbin para Node.js, que √© nomeado como: node-Casbin.","datePublished":"2018-08-27T00:00:00.000Z","author":{"@type":"Person","name":"Zixuan Liu","description":"Mantenedor do Casbin","url":"http://github.com/nodece","image":"https://avatars.githubusercontent.com/nodece"},"keywords":[]},{"@type":"BlogPosting","@id":"https://casbin.org/pt/blog/2018/08/07/launching-casbin-server","mainEntityOfPage":"https://casbin.org/pt/blog/2018/08/07/launching-casbin-server","url":"https://casbin.org/pt/blog/2018/08/07/launching-casbin-server","headline":"O Casbin Server foi lan√ßado!","name":"O Casbin Server foi lan√ßado!","description":"Alguns de nossos clientes perguntam se o Casbin pode ser usado como um servi√ßo em vez de uma biblioteca. A resposta √© SIM. Hoje, lan√ßamos o projeto Casbin Server como uma solu√ß√£o concreta para Controle de Acesso como um Servi√ßo.","datePublished":"2018-08-07T00:00:00.000Z","author":{"@type":"Person","name":"Helong Zhang","description":"Mantenedor do Casbin","url":"http://github.com/BetaCat0","image":"https://avatars.githubusercontent.com/BetaCat0"},"keywords":[]}]}</script><link rel="alternate" type="application/rss+xml" href="/pt/blog/rss.xml" title="Casbin RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/pt/blog/atom.xml" title="Casbin Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8S2TKCJ27X"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-8S2TKCJ27X",{})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Casbin" href="/pt/opensearch.xml">
<script src="/js/isMainland.js" async></script>
<script src="/js/hotjar.js" async></script>
<script src="/js/probe.js" async></script>
<script src="/js/clarity.js" async></script><link rel="stylesheet" href="/pt/assets/css/styles.e9f28811.css">
<script src="/pt/assets/js/runtime~main.de65abe0.js" defer="defer"></script>
<script src="/pt/assets/js/main.d6f9d7cd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Pular para o conte√∫do principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Pular para o conte√∫do principal</a></div><div class="theme-announcement-bar announcementBar_mb4j" role="banner"><div class="content_knG7 announcementBarContent_xLdY"><a target="_blank" href="https://github.com/casibase/casibase/">üíñ Looking for an open-source LangChain-like AI knowledge database & chat bot with admin UI and multi-model support (ChatGPT, Claude, Llama 3, DeepSeek R1, HuggingFace, etc.) ? Learn more about: Casibase</a></div></div><nav aria-label="Principal" class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Alternar barra de navega√ß√£o" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pt/"><div class="navbar__logo"><img src="/pt/img/casbin.svg" alt="Logo do Meu Site" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/pt/img/casbin.svg" alt="Logo do Meu Site" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Casbin</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/pt/docs/overview">Documenta√ß√£o</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/pt/docs/get-started">Come√ßar</a></li><li><a class="dropdown__link" href="/pt/docs/category/model">Modelo</a></li><li><a class="dropdown__link" href="/pt/docs/category/storage">Armazenamento</a></li><li><a class="dropdown__link" href="/pt/docs/adapters">Adaptadores</a></li><li><a class="dropdown__link" href="/pt/docs/category/api">API</a></li><li><a class="dropdown__link" href="/pt/docs/ide-plugins">Plugins de IDE</a></li><li><a class="dropdown__link" href="/pt/docs/contributing">Comece a Contribuir</a></li></ul></div><a class="navbar__item navbar__link" href="/pt/ecosystem">Ecossistema</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/pt/blog">Blog</a><a class="navbar__item navbar__link" href="/pt/help">Ajuda</a><a class="navbar__item navbar__link" href="/pt/editor">Editor</a><a class="navbar__item navbar__link" href="/pt/gallery">Gallery</a><a href="https://casdoor.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">For Enterprise<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://casdoor.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Hosting Plan (SaaS)<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Portugu√™s</a><ul class="dropdown__menu"><li><a href="/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">‰∏≠Êñá</a></li><li><a href="/ko/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">ÌïúÍµ≠Ïñ¥</a></li><li><a href="/ru/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ru">–†—É—Å—Å–∫–∏–π</a></li><li><a href="/fr/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Fran√ßais</a></li><li><a href="/de/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="/ja/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">Êó•Êú¨Ë™û</a></li><li><a href="/es/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Espa√±ol</a></li><li><a href="/pt/blog" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="pt">Portugu√™s</a></li><li><a href="/uk/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="uk">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</a></li><li><a href="/th/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="th">‡πÑ‡∏ó‡∏¢</a></li><li><a href="/ar/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</a></li><li><a href="/id/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="id">Indonesia</a></li><li><a href="/vi/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="vi">Ti·∫øng Vi·ªát</a></li><li><a href="/it/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="it">Italiano</a></li><li><a href="/ms/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ms">Melayu</a></li><li><a href="/tr/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="tr">T√ºrk√ße</a></li><li class=""><hr style="margin: 0.3rem 0;"></li><li><a href="https://crowdin.com/project/casbin-website" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help Us Translate<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><a href="https://github.com/casbin/casbin" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://discord.gg/S5UjpzGZjN" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-community-discord"></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Pesquisar (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Pesquisar</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Alternar entre modo escuro e modo claro (atualmente system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Navega√ß√£o de posts recentes do blog"><div class="sidebarItemTitle_pO2u margin-bottom--md">Posts recentes</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pt/blog/casbin-2025-ai-agent-era">Casbin in 2025: Authorization for the AI Agent Era</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2023</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pt/blog/2023/12/08/understanding-casbin-matching-in-detail">Understanding How Casbin Matching Works in Detail</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2021</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pt/blog/2021/08/19/apisix-casbin-authorization">Autoriza√ß√£o no APISIX usando Casbin</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2020</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pt/blog/2020/04/21/google-award">Yang Luo - Vencedor do Pr√™mio Google Open Source Peer Bonus</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2018</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pt/blog/2018/09/23/new-website">Reestruturando nossa Documenta√ß√£o</a></li></ul></div></nav></aside><main class="col col--7"><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/pt/blog/casbin-2025-ai-agent-era">Casbin in 2025: Authorization for the AI Agent Era</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-12-11T00:00:00.000Z">11 de dezembro de 2025</time> ¬∑ <!-- -->5 min de leitura</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="http://github.com/hsluoyz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/hsluoyz" alt="Yang Luo"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="http://github.com/hsluoyz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Yang Luo</span></a></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>2024 was the year AI agents went from demos to production. With the Model Context Protocol (MCP) gaining adoption from Google, OpenAI, Microsoft, and countless others, we&#x27;re seeing a fundamental shift in how applications interact with external services. And with that shift comes a whole new set of authorization challenges that we at Casbin have been thinking about.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/pt/blog/tags/casbin">casbin</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/pt/blog/tags/roadmap">roadmap</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/pt/blog/tags/ai">AI</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/pt/blog/tags/mcp">MCP</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/pt/blog/tags/edge-computing">edge-computing</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/pt/blog/tags/llm">LLM</a></li></ul></div><div class="col text--right col--3"><a aria-label="Leia mais sobre Casbin in 2025: Authorization for the AI Agent Era" href="/pt/blog/casbin-2025-ai-agent-era"><b>Read more</b></a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/pt/blog/2023/12/08/understanding-casbin-matching-in-detail">Understanding How Casbin Matching Works in Detail</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-12-08T00:00:00.000Z">8 de dezembro de 2023</time> ¬∑ <!-- -->8 min de leitura</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="http://github.com/aravindarc" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/aravindarc" alt="Aravinda Kumar"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="http://github.com/aravindarc" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Aravinda Kumar</span></a></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>In this post, I will explain the design and implementation of RBAC using the <a href="https://casbin.org/" target="_blank" rel="noopener noreferrer" class="">Casbin</a> library. For a SaaS platform dealing with multiple resource hierarchies and roles that inherit permissions from higher levels, Casbin provides a performant alternative to consider.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="introduction-to-rbac">Introduction to RBAC<a href="#introduction-to-rbac" class="hash-link" aria-label="Link direto para Introduction to RBAC" title="Link direto para Introduction to RBAC" translate="no">‚Äã</a></h2>
<p>RBAC is a method of restricting access to resources based on the roles that individuals hold. To better understand how hierarchical RBAC works, let&#x27;s take a look at Azure&#x27;s RBAC system in the next section and then attempt to implement a similar system.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="understanding-azures-hierarchical-rbac">Understanding Azure&#x27;s Hierarchical RBAC<a href="#understanding-azures-hierarchical-rbac" class="hash-link" aria-label="Link direto para Understanding Azure&#x27;s Hierarchical RBAC" title="Link direto para Understanding Azure&#x27;s Hierarchical RBAC" translate="no">‚Äã</a></h2>
<p><img decoding="async" loading="lazy" src="https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/ready/azure-setup-guide/media/organize-resources/scope-levels.png" alt="Azure Hierarchy" class="img_ev3q"></p>
<p>There is a role called <strong>Owner</strong> for all resources in Azure. Suppose if I have the <strong>Owner</strong> role assigned to me at the
subscription level, that means I am the <strong>Owner</strong> of all the resource groups and resources under that subscription. If I have
<strong>Owner</strong> at the resource group level, then I am the <strong>Owner</strong> of all the resources under that resource group.</p>
<p>This image shows that I have <strong>Owner</strong> access at the subscription level. <img decoding="async" loading="lazy" alt="Subscription Owner" src="/pt/assets/images/subscription-owner-f1a7e1c9c03d7c587ce910ae5e6d8a35.png" width="3456" height="1836" class="img_ev3q"></p>
<p>When I check the IAM of a Resource Group under this Subscription, you can see that I have inherited <strong>Owner</strong> access from the
subscription. <img decoding="async" loading="lazy" alt="RG Owner" src="/pt/assets/images/rg-owner-9c6cd2ae5997a5fba717c445f43130e6.png" width="3456" height="1836" class="img_ev3q"></p>
<p>So, this is how Azure&#x27;s RBAC is hierarchical. Most enterprise software uses hierarchical RBAC because of the hierarchical
nature of the resource levels. In this tutorial, we&#x27;ll try to implement a similar system using Casbin.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="how-does-casbin-work">How Does Casbin Work?<a href="#how-does-casbin-work" class="hash-link" aria-label="Link direto para How Does Casbin Work?" title="Link direto para How Does Casbin Work?" translate="no">‚Äã</a></h2>
<p>Before diving into the implementation, it is important to understand what Casbin is and how it functions at a high level. This understanding is necessary because each Role-Based Access Control (RBAC) system may vary based on specific requirements. By grasping the workings of Casbin, we can effectively fine-tune the model.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="what-is-acl">What is ACL?<a href="#what-is-acl" class="hash-link" aria-label="Link direto para What is ACL?" title="Link direto para What is ACL?" translate="no">‚Äã</a></h2>
<p>ACL stands for Access Control List. It is a method in which users are mapped to actions and actions to resources.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="the-model-definition">The model definition<a href="#the-model-definition" class="hash-link" aria-label="Link direto para The model definition" title="Link direto para The model definition" translate="no">‚Äã</a></h3>
<p>Let&#x27;s consider a simple example of an ACL model.</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[request_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r = sub, act, obj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[policy_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p = sub, act, obj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[policy_effect]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">e = some(where (p.eft == allow))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[matchers]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m = r.sub == p.sub &amp;&amp; r.obj == p.obj &amp;&amp; r.act == p.act</span><br></span></code></pre></div></div>
<ol>
<li class="">
<p>The <strong>request_definition</strong> is the query template of the system. For example, a request <code>alice, write, data1</code> can be
interpreted as &quot;Can subject Alice perform the action &#x27;write&#x27; on object &#x27;data1&#x27;?&quot;.</p>
</li>
<li class="">
<p>The <strong>policy_definition</strong> is the assignment template of the system. For example, by creating a policy <code>alice, write, data1</code>, you are
assigning permission to subject Alice to perform the action &#x27;write&#x27; on object &#x27;data1&#x27;.</p>
</li>
<li class="">
<p>The <strong>policy_effect</strong> defines the effect of the policy.</p>
</li>
<li class="">
<p>In the <strong>matchers</strong> section, the request is matched with the policy using the conditions <code>r.sub == p.sub &amp;&amp; r.obj == p.obj &amp;&amp; r.act == p.act</code>.</p>
</li>
</ol>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="now-lets-test-the-model-on-the-casbin-editor">Now let&#x27;s test the model on the Casbin editor<a href="#now-lets-test-the-model-on-the-casbin-editor" class="hash-link" aria-label="Link direto para Now let&#x27;s test the model on the Casbin editor" title="Link direto para Now let&#x27;s test the model on the Casbin editor" translate="no">‚Äã</a></h3>
<p>Open the <a href="https://casbin.org/editor" target="_blank" rel="noopener noreferrer" class="">editor</a> and paste the above model in the Model editor.</p>
<p>Paste the following in the Policy editor:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> alice</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> read</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> data1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> bob</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> write</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> data2</span><br></span></code></pre></div></div>
<p>and the following in the Request editor:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">alice</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> read</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> data1</span><br></span></code></pre></div></div>
<p>The result will be:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">true</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="visual-representation-of-the-acl-model-policy-and-request-matching">Visual representation of the ACL model, policy, and request matching<a href="#visual-representation-of-the-acl-model-policy-and-request-matching" class="hash-link" aria-label="Link direto para Visual representation of the ACL model, policy, and request matching" title="Link direto para Visual representation of the ACL model, policy, and request matching" translate="no">‚Äã</a></h3>
<p><img decoding="async" loading="lazy" alt="acl" src="/pt/assets/images/acl-704097c47b27a1f2235c82f593af469e.png" width="6968" height="3096" class="img_ev3q"></p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="what-is-rbac">What is RBAC?<a href="#what-is-rbac" class="hash-link" aria-label="Link direto para What is RBAC?" title="Link direto para What is RBAC?" translate="no">‚Äã</a></h2>
<p>RBAC stands for Role-Based Access Control. In RBAC, a user is assigned a role for a resource, and a role can contain arbitrary actions. The request then checks if the user has the permission to perform the action on the resource.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="the-model-definition-1">The model definition<a href="#the-model-definition-1" class="hash-link" aria-label="Link direto para The model definition" title="Link direto para The model definition" translate="no">‚Äã</a></h3>
<p>Let&#x27;s consider a simple example RBAC model:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[request_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r = sub, act, obj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[policy_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p = sub, act, obj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[role_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">g = _, _</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">g2 = _, _</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[policy_effect]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">e = some(where (p.eft == allow))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[matchers]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m = r.sub == p.sub &amp;&amp; g(p.act, r.act) &amp;&amp; r.obj == p.obj</span><br></span></code></pre></div></div>
<ol>
<li class="">The <strong>role_definition</strong> is a graph relation builder that uses a Graph to compare the request object with the policy object.</li>
</ol>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="now-lets-test-the-model-on-casbin-editor">Now let&#x27;s test the model on Casbin editor<a href="#now-lets-test-the-model-on-casbin-editor" class="hash-link" aria-label="Link direto para Now let&#x27;s test the model on Casbin editor" title="Link direto para Now let&#x27;s test the model on Casbin editor" translate="no">‚Äã</a></h3>
<p>Open the <a href="https://casbin.org/editor" target="_blank" rel="noopener noreferrer" class="">editor</a> and paste the above model in the Model editor.</p>
<p>Paste the following in the Policy editor:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> alice</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> data1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> bob</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> data2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> write</span><br></span></code></pre></div></div>
<p>and the following in the Request editor:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">alice</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> read</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> data1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">alice</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> write</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> data1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">bob</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> write</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> data2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">bob</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> read</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> data2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">bob</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> write</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> data1</span><br></span></code></pre></div></div>
<p>The result will be:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">false</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="visual-representation-of-the-rbac-model-policy-and-request-matching">Visual representation of the RBAC model, policy, and request matching<a href="#visual-representation-of-the-rbac-model-policy-and-request-matching" class="hash-link" aria-label="Link direto para Visual representation of the RBAC model, policy, and request matching" title="Link direto para Visual representation of the RBAC model, policy, and request matching" translate="no">‚Äã</a></h3>
<p><img decoding="async" loading="lazy" alt="rbac" src="/pt/assets/images/rbac-4c8e405408b9e4df554f7cd619eae897.png" width="7016" height="2844" class="img_ev3q"></p>
<p>The <strong>g - Role to action mapping</strong> table has a Graph mapping the role to action. This Graph can be coded as a list of edges, as shown in the policy which is a common way of representing a Graph:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> write</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>informa√ß√£o</div><div class="admonitionContent_BuS1"><p><strong>p</strong> indicates a normal policy that can be compared using the <strong>==</strong> operator. <strong>g</strong> is a Graph-based comparison function. You can define multiple Graph comparators by adding a numerical suffix like <strong>g, g2, g3, ...</strong> and so on.</p></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="what-is-hierarchical-rbac">What is Hierarchical RBAC?<a href="#what-is-hierarchical-rbac" class="hash-link" aria-label="Link direto para What is Hierarchical RBAC?" title="Link direto para What is Hierarchical RBAC?" translate="no">‚Äã</a></h2>
<p>In Hierarchical RBAC, there are more than one type of resources and there is an inheritance relationship between the resource types. For example, &quot;subscription&quot; is one type and &quot;resourceGroup&quot; is another type. A sub1 of type <strong>Subscription</strong> can contain multiple resourceGroups (rg1, rg2) of type <strong>ResourceGroup</strong>.</p>
<p>Similar to the resource hierarchy, there will be two types of roles and actions: Subscription roles and actions, and ResourceGroup roles and actions. There is an arbitrary relationship between the Subscription role and ResourceGroup role. For example, consider a Subscription Role <strong>sub-owner</strong>. This role is inherited by a ResourceGroup Role <strong>rg-owner</strong>, which means that if I am assigned the <strong>sub-owner</strong> role on Subscription <strong>sub1</strong>, then I automatically also get the <strong>rg-owner</strong> role on <strong>rg1 and rg2</strong>.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="the-model-definition-2">The model definition<a href="#the-model-definition-2" class="hash-link" aria-label="Link direto para The model definition" title="Link direto para The model definition" translate="no">‚Äã</a></h3>
<p>Let&#x27;s take a simple example of the <strong>Hierarchical RBAC</strong> model:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[request_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r = sub, act, obj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[policy_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p = sub, act, obj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[role_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">g = _, _</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">g2 = _, _</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[policy_effect]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">e = some(where (p.eft == allow))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[matchers]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m = r.sub == p.sub &amp;&amp; g(p.act, r.act) &amp;&amp; g2(p.obj, r.obj)</span><br></span></code></pre></div></div>
<ol>
<li class="">The <strong>role_definition</strong> is a graph relation builder which uses a Graph to compare the request object with the policy object.</li>
</ol>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="now-lets-test-the-model-on-the-casbin-editor-1">Now let&#x27;s test the model on the Casbin editor<a href="#now-lets-test-the-model-on-the-casbin-editor-1" class="hash-link" aria-label="Link direto para Now let&#x27;s test the model on the Casbin editor" title="Link direto para Now let&#x27;s test the model on the Casbin editor" translate="no">‚Äã</a></h3>
<p>Open the <a href="https://casbin.org/editor" target="_blank" rel="noopener noreferrer" class="">editor</a> and paste the above model in the Model editor.</p>
<p>Paste the following in the Policy editor:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> alice</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> bob</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">// subscription role to subscription action mapping</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-write</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">// resourceGroup role to resourceGroup action mapping</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-write</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">// subscription role to resourceGroup role mapping</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-reader</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-owner</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">// subscription resource to resourceGroup resource mapping</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg2</span><br></span></code></pre></div></div>
<p>And paste the following in the Request editor:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">alice</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-read</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg1</span><br></span></code></pre></div></div>
<p>The result will be:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">true</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="visual-representation-of-the-rbac-model-policy-and-request-matching-1">Visual representation of the RBAC model, policy, and request matching<a href="#visual-representation-of-the-rbac-model-policy-and-request-matching-1" class="hash-link" aria-label="Link direto para Visual representation of the RBAC model, policy, and request matching" title="Link direto para Visual representation of the RBAC model, policy, and request matching" translate="no">‚Äã</a></h3>
<p><img decoding="async" loading="lazy" alt="hrbac" src="/pt/assets/images/hrbac-1350d755e04234a34394996344d2b259.png" width="7968" height="4204" class="img_ev3q"></p>
<p>The <strong>g - Role to (Action, Role) Mapping</strong> table has a graph mapping the role to the action, role mapping. This graph can be coded as a list of edges, as shown in the policy, which is a common way of representing a graph:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">// subscription role to subscription action mapping</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-write</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">// resourceGroup role to resourceGroup action mapping</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-write</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">// subscription role to resourceGroup role mapping</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-reader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-reader</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub-owner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg-owner</span><br></span></code></pre></div></div>
<p>The <strong>g2 - Sub to RG Mapping</strong> table has a graph mapping subscription to resourceGroup:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">// subscription resource to resourceGroup resource mapping</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> sub2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> rg2</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="subject-matching-visual-representation">Subject Matching Visual representation<a href="#subject-matching-visual-representation" class="hash-link" aria-label="Link direto para Subject Matching Visual representation" title="Link direto para Subject Matching Visual representation" translate="no">‚Äã</a></h4>
<p><img decoding="async" loading="lazy" alt="hrbac-sub-match" src="/pt/assets/images/hrbac-sub-match-55dffd4e5fadb9773658dc90bacbb091.png" width="8176" height="4336" class="img_ev3q"></p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="action-matching-visual-representation">Action Matching Visual representation<a href="#action-matching-visual-representation" class="hash-link" aria-label="Link direto para Action Matching Visual representation" title="Link direto para Action Matching Visual representation" translate="no">‚Äã</a></h4>
<p><img decoding="async" loading="lazy" alt="hrbac-act-match" src="/pt/assets/images/hrbac-act-match-bbb086158782591771f2df01419dc4b8.png" width="7964" height="4376" class="img_ev3q"></p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="object-matching-visual-representation">Object Matching Visual representation<a href="#object-matching-visual-representation" class="hash-link" aria-label="Link direto para Object Matching Visual representation" title="Link direto para Object Matching Visual representation" translate="no">‚Äã</a></h4>
<p><img decoding="async" loading="lazy" alt="hrbac-obj-match" src="/pt/assets/images/hrbac-obj-match-aad370d5cbfe1020ec108b9242f8d4bd.png" width="7964" height="4296" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>informa√ß√£o</div><div class="admonitionContent_BuS1"><p>When a request is submitted to Casbin, this matching happens for all the policies. If at least one policy matches, then the result of the request is true. If no policy matches the request, then the result is false.</p></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Link direto para Conclusion" title="Link direto para Conclusion" translate="no">‚Äã</a></h2>
<p>In this tutorial, we learned about how different authorization models work and how they can be modeled using Casbin. In the second part of this tutorial, we will implement this in a demo Spring Boot Application and secure the APIs using Casbin.</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/pt/blog/2021/08/19/apisix-casbin-authorization">Autoriza√ß√£o no APISIX usando Casbin</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-08-19T00:00:00.000Z">19 de agosto de 2021</time> ¬∑ <!-- -->6 min de leitura</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="http://github.com/rushitote" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/rushitote" alt="Rushikesh Tote"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="http://github.com/rushitote" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Rushikesh Tote</span></a></div><small class="authorTitle_nd0D" title="Membro do Casbin">Membro do Casbin</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="introdu√ß√£o">Introdu√ß√£o<a href="#introdu√ß√£o" class="hash-link" aria-label="Link direto para Introdu√ß√£o" title="Link direto para Introdu√ß√£o" translate="no">‚Äã</a></h2>
<p><a href="https://apisix.apache.org/" target="_blank" rel="noopener noreferrer" class="">APISIX</a> √© um gateway de API nativo da nuvem de alta performance e escal√°vel baseado em Nginx e etcd. √â um projeto de c√≥digo aberto da Apache Software Foundation. Al√©m disso, o que torna o APISIX t√£o bom √© o suporte de muitos √≥timos plugins integrados que podem ser usados para implementar recursos como autentica√ß√£o, monitoramento, roteamento, etc. E o fato de que os plugins no APISIX s√£o recarregados em tempo real (sem reinicializa√ß√µes) o torna muito din√¢mico.</p>
<p>Mas ao usar o APISIX, podem surgir cen√°rios em que voc√™ queira adicionar l√≥gica de autoriza√ß√£o complexa em sua aplica√ß√£o. √â aqui que o authz-casbin pode ajud√°-lo, authz-casbin √© um plugin do APISIX baseado no <a href="https://github.com/casbin/lua-casbin/" target="_blank" rel="noopener noreferrer" class="">Lua Casbin</a> que permite uma autoriza√ß√£o poderosa baseada em v√°rios modelos de controle de acesso. <a class="" href="/pt/">Casbin</a> √© uma biblioteca de autoriza√ß√£o que suporta modelos de controle de acesso como ACL, RBAC, ABAC. Originalmente escrito em Go, foi portado para muitas linguagens e Lua Casbin √© a implementa√ß√£o em Lua do Casbin. O desenvolvimento do authz-casbin come√ßou quando propusemos um novo plugin para autoriza√ß√£o no reposit√≥rio do APISIX (<a href="https://github.com/apache/apisix/issues/4674" target="_blank" rel="noopener noreferrer" class="">#4674</a>) ao qual os membros principais concordaram. E ap√≥s as revis√µes √∫teis que levaram a algumas mudan√ßas importantes e melhorias, o PR (<a href="https://github.com/apache/apisix/pull/4710" target="_blank" rel="noopener noreferrer" class="">#4710</a>) foi finalmente mesclado.</p>
<p>Neste blog, usaremos o plugin authz-casbin para mostrar como voc√™ pode implementar um modelo de autoriza√ß√£o baseado em Controle de Acesso Baseado em Fun√ß√µes (RBAC) no APISIX.</p>
<p><strong>NOTA</strong>: Voc√™ precisar√° usar algum outro plugin ou fluxo de trabalho personalizado para autenticar o usu√°rio, j√° que o Casbin far√° apenas autoriza√ß√£o e n√£o autentica√ß√£o.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="criando-um-modelo">Criando um modelo<a href="#criando-um-modelo" class="hash-link" aria-label="Link direto para Criando um modelo" title="Link direto para Criando um modelo" translate="no">‚Äã</a></h2>
<p>O plugin usa tr√™s par√¢metros para autorizar qualquer solicita√ß√£o - sujeito, objeto e a√ß√£o. Aqui, sujeito √© o valor do cabe√ßalho do nome de usu√°rio, que poderia ser algo como <code>[username: alice]</code>. Ent√£o, o objeto √© o caminho da URL que est√° sendo acessado e a a√ß√£o √© o m√©todo de solicita√ß√£o usado.</p>
<p>Vamos dizer que queremos criar um modelo com tr√™s recursos nos caminhos - <code>/</code>, <code>/res1</code> e <code>/res2</code>. E queremos ter um modelo assim:</p>
<p><img decoding="async" loading="lazy" alt="imagem" src="/pt/assets/images/model-1c0c2441dd19f8b957744635985283eb.png" width="4520" height="1720" class="img_ev3q"></p>
<p>Isso significaria que todos os usu√°rios (<code>*</code>) como por exemplo <code>jack</code> podem acessar a p√°gina inicial (<code>/</code>). E usu√°rios com permiss√µes de <code>admin</code> como <code>alice</code> e <code>bob</code> podem acessar todas as p√°ginas e recursos (como <code>res1</code> e <code>res2</code>). Al√©m disso, vamos restringir usu√°rios sem quaisquer permiss√µes de admin a usar apenas o m√©todo de solicita√ß√£o <code>GET</code>. Para este cen√°rio, poder√≠amos definir o modelo como:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">request_definition</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">r</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">sub, obj, act</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">policy_definition</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">p</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">sub, obj, act</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">role_definition</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">g</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">_, _</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">policy_effect</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">e</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">some(where (p.eft == allow))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token section punctuation" style="color:#393A34">[</span><span class="token section section-name selector" style="color:#00009f">matchers</span><span class="token section punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">m</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">(g(r.sub, p.sub) || keyMatch(r.sub, p.sub)) &amp;&amp; keyMatch(r.obj, p.obj) &amp;&amp; keyMatch(r.act, p.act)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="criando-uma-pol√≠tica">Criando uma pol√≠tica<a href="#criando-uma-pol√≠tica" class="hash-link" aria-label="Link direto para Criando uma pol√≠tica" title="Link direto para Criando uma pol√≠tica" translate="no">‚Äã</a></h2>
<p>Do cen√°rio acima, a pol√≠tica seria:</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> *</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> /</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> GET</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> admin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> *</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> *</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> alice</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> admin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token value">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> bob</span><span class="token punctuation" style="color:#393A34">,</span><span class="token value"> admin</span><br></span></code></pre></div></div>
<p>O matcher do modelo significa:</p>
<ol>
<li class=""><code>(g(r.sub, p.sub) || keyMatch(r.sub, p.sub))</code>: Ou o sujeito da solicita√ß√£o tem um papel como o sujeito da pol√≠tica ou o sujeito da solicita√ß√£o corresponde ao sujeito da pol√≠tica em <code>keyMatch</code>. <code>keyMatch</code> √© uma fun√ß√£o integrada no Lua Casbin, voc√™ pode dar uma olhada na descri√ß√£o da fun√ß√£o e em mais fun√ß√µes que podem ser √∫teis <a href="https://github.com/casbin/lua-casbin/blob/master/src/util/BuiltInFunctions.lua" target="_blank" rel="noopener noreferrer" class="">aqui</a>.</li>
<li class=""><code>keyMatch(r.obj, p.obj)</code>: O objeto da solicita√ß√£o corresponde ao objeto da pol√≠tica (caminho da URL aqui).</li>
<li class=""><code>keyMatch(r.act, p.act)</code>: A a√ß√£o da solicita√ß√£o corresponde √† a√ß√£o da pol√≠tica (m√©todo de solicita√ß√£o HTTP aqui).</li>
</ol>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="habilitando-o-plugin-em-uma-rota">Habilitando o plugin em uma rota<a href="#habilitando-o-plugin-em-uma-rota" class="hash-link" aria-label="Link direto para Habilitando o plugin em uma rota" title="Link direto para Habilitando o plugin em uma rota" translate="no">‚Äã</a></h2>
<p>Uma vez que voc√™ tenha criado o modelo e a pol√≠tica, voc√™ pode habilit√°-los em uma rota usando a API Admin do APISIX. Para habilit√°-los usando caminhos de arquivos de modelo e pol√≠tica:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl http://127.0.0.1:9080/apisix/admin/routes/1 -H &#x27;X-API-KEY: edd1c9f034335f136f87ad84b625c8f1&#x27; -X PUT -d &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;plugins&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;authz-casbin&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;model_path&quot;: &quot;/path/to/model.conf&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;policy_path&quot;: &quot;/path/to/policy.csv&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;username&quot;: &quot;username&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;upstream&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;nodes&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;127.0.0.1:1980&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;type&quot;: &quot;roundrobin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;uri&quot;: &quot;/*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}&#x27;</span><br></span></code></pre></div></div>
<p>Aqui, o campo de nome de usu√°rio  √© o nome do cabe√ßalho que voc√™ usar√° para passar o sujeito. Por exemplo, se voc√™ for passar o cabe√ßalho de nome de usu√°rio como <code>user: alice</code>, voc√™ usaria <code>&quot;username&quot;: &quot;user&quot;</code>.</p>
<p>Para usar texto de modelo/pol√≠tica em vez de arquivos, voc√™ pode usar os campos <code>model</code> e <code>policy</code> em vez disso:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl http://127.0.0.1:9080/apisix/admin/routes/1 -H &#x27;X-API-KEY: edd1c9f034335f136f87ad84b625c8f1&#x27; -X PUT -d &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;plugins&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;authz-casbin&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;model&quot;: &quot;[request_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            r = sub, obj, act</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [policy_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            p = sub, obj, act</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [role_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            g = _, _</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [policy_effect]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            e = some(where (p.eft == allow))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [matchers]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            m = (g(r.sub, p.sub) || keyMatch(r.sub, p.sub)) &amp;&amp; keyMatch(r.obj, p.obj) &amp;&amp; keyMatch(r.act, p.act)&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;policy&quot;: &quot;p, *, /, GET</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            p, admin, *, *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            g, alice, admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            g, bob, admin&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;username&quot;: &quot;username&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;upstream&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;nodes&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;127.0.0.1:1980&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;type&quot;: &quot;roundrobin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;uri&quot;: &quot;/*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}&#x27;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="habilitando-o-plugin-usando-um-modelopol√≠tica-global">Habilitando o plugin usando um modelo/pol√≠tica global<a href="#habilitando-o-plugin-usando-um-modelopol√≠tica-global" class="hash-link" aria-label="Link direto para Habilitando o plugin usando um modelo/pol√≠tica global" title="Link direto para Habilitando o plugin usando um modelo/pol√≠tica global" translate="no">‚Äã</a></h2>
<p>Pode haver situa√ß√µes em que voc√™ queira usar uma √∫nica configura√ß√£o de modelo e pol√≠tica em v√°rias rotas. Voc√™ pode fazer isso primeiro enviando uma solicita√ß√£o <code>PUT</code> para adicionar a configura√ß√£o de modelo e pol√≠tica aos metadados do plugin por:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl http://127.0.0.1:9080/apisix/admin/plugin_metadata/authz-casbin -H &#x27;X-API-KEY: edd1c9f034335f136f87ad84b625c8f1&#x27; -i -X PUT -d &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;model&quot;: &quot;[request_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r = sub, obj, act</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[policy_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p = sub, obj, act</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[role_definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">g = _, _</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[policy_effect]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">e = some(where (p.eft == allow))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[matchers]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m = (g(r.sub, p.sub) || keyMatch(r.sub, p.sub)) &amp;&amp; keyMatch(r.obj, p.obj) &amp;&amp; keyMatch(r.act, p.act)&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;policy&quot;: &quot;p, *, /, GET</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p, admin, *, *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">g, alice, admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">g, bob, admin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}&#x27;</span><br></span></code></pre></div></div>
<p>E ent√£o para habilitar a mesma configura√ß√£o em alguma rota, envie uma solicita√ß√£o usando a API Admin:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl http://127.0.0.1:9080/apisix/admin/routes/1 -H &#x27;X-API-KEY: edd1c9f034335f136f87ad84b625c8f1&#x27; -X PUT -d &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;plugins&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;authz-casbin&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;username&quot;: &quot;username&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;upstream&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;nodes&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;127.0.0.1:1980&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;type&quot;: &quot;roundrobin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;uri&quot;: &quot;/route1/*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}&#x27;</span><br></span></code></pre></div></div>
<p>Isso adicionar√° a configura√ß√£o de metadados do plugin √† rota. Voc√™ tamb√©m pode facilmente atualizar a configura√ß√£o de metadados do plugin reenviando a solicita√ß√£o aos metadados do plugin com a configura√ß√£o de modelo e pol√≠tica atualizada, o plugin atualizar√° automaticamente todas as rotas usando a configura√ß√£o de metadados do plugin.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="casos-de-uso">Casos de Uso<a href="#casos-de-uso" class="hash-link" aria-label="Link direto para Casos de Uso" title="Link direto para Casos de Uso" translate="no">‚Äã</a></h2>
<ul>
<li class="">O principal caso de uso deste plugin seria na implementa√ß√£o de autoriza√ß√£o em suas APIs. Voc√™ pode facilmente adicionar este plugin em qualquer rota de API que voc√™ esteja usando com seu modelo de autoriza√ß√£o e configura√ß√£o de pol√≠tica.</li>
<li class="">Se voc√™ quiser ter um √∫nico modelo de autoriza√ß√£o para todas as suas APIs, voc√™ pode usar o m√©todo de modelo/pol√≠tica global. Isso facilita a atualiza√ß√£o da pol√≠tica para todas as rotas, j√° que voc√™ s√≥ precisa atualizar os metadados no etcd.</li>
<li class="">Enquanto se voc√™ gostaria de usar um modelo diferente para cada rota diferente, voc√™ pode usar o m√©todo de rota. Isso √© √∫til quando diferentes rotas de API t√™m diferentes conjuntos de permiss√µes de usu√°rio. Voc√™ tamb√©m pode usar isso quando estiver lidando com pol√≠ticas maiores, pois tornar√° a autoriza√ß√£o mais r√°pida quando filtrada em v√°rias rotas.</li>
</ul></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/pt/blog/2020/04/21/google-award">Yang Luo - Vencedor do Pr√™mio Google Open Source Peer Bonus</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2020-04-21T00:00:00.000Z">21 de abril de 2020</time> ¬∑ <!-- -->2 min de leitura</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="http://github.com/casbin" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/casbin" alt="Casbin"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="http://github.com/casbin" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Casbin</span></a></div><small class="authorTitle_nd0D" title="Conta Oficial">Conta Oficial</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>Hoje, temos o prazer de anunciar que o fundador do Casbin, <a href="https://github.com/hsluoyz" target="_blank" rel="noopener noreferrer" class="">Yang Luo</a>, foi premiado com o &quot;vencedores do Google Open Source Peer Bonus&quot; por seu trabalho no <a class="" href="/pt/">Casbin</a>, <a href="https://nmap.org/npcap/" target="_blank" rel="noopener noreferrer" class="">Npcap</a> e <a href="https://nmap.org/" target="_blank" rel="noopener noreferrer" class="">Nmap</a> no 3¬∫ trimestre de 2019.</p>
<p><img decoding="async" loading="lazy" src="https://hsluoyz.github.io/download/Open%20Source%20Peer%20Bonus%20Q3%202019%20-%20Yang%20Luo%20-%20OSPB%20Award%20Letter.png" alt="ospb" class="img_ev3q"></p>
<blockquote>
<p>A carta de premia√ß√£o original pode ser acessada <a href="https://github.com/hsluoyz/hsluoyz.github.io/blob/master/download/Open%20Source%20Peer%20Bonus%20Q3%202019%20-%20Yang%20Luo%20-%20OSPB%20Award%20Letter.pdf" target="_blank" rel="noopener noreferrer" class="">aqui</a>.</p>
</blockquote>
<p>O programa <a href="https://opensource.google.com/docs/growing/peer-bonus/" target="_blank" rel="noopener noreferrer" class="">Google Open Source Peer Bonus</a> √© descrito como:</p>
<blockquote>
<p><em>Da mesma forma que um Google Peer Bonus √© usado para reconhecer um colega do Google que se destacou, um Open Source Peer Bonus reconhece pessoas externas que fizeram contribui√ß√µes excepcionais para o c√≥digo aberto.</em></p>
</blockquote>
<p>O <a href="https://opensource.googleblog.com/2020/01/announcing-2019-second-cycle-google.html" target="_blank" rel="noopener noreferrer" class="">an√∫ncio dos vencedores de 2019</a> est√° dispon√≠vel em:</p>
<blockquote>
<p><a href="https://opensource.googleblog.com/2020/01/announcing-2019-second-cycle-google.html" target="_blank" rel="noopener noreferrer" class="">https://opensource.googleblog.com/2020/01/announcing-2019-second-cycle-google.html</a></p>
</blockquote>
<p>Yang e Casbin est√£o listados entre desenvolvedores e projetos de c√≥digo aberto que t√™m um impacto relevante, como Git, TensorFlow, V8, CPython, LLVM, projetos Apache, Angular ou Jenkins.</p>
<p>Estamos felizes em ver o Casbin reconhecido desta forma por sua contribui√ß√£o ao c√≥digo aberto e √† seguran√ßa na nuvem!</p>
<p><em>Obrigado por voar com Casbin!</em></p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/pt/blog/2018/09/23/new-website">Reestruturando nossa Documenta√ß√£o</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2018-09-23T00:00:00.000Z">23 de setembro de 2018</time> ¬∑ <!-- -->Leitura de um minuto</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="http://github.com/hsluoyz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/hsluoyz" alt="Yang Luo"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="http://github.com/hsluoyz" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Yang Luo</span></a></div><small class="authorTitle_nd0D" title="Criador do Casbin">Criador do Casbin</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>Hoje, migramos a documenta√ß√£o do Casbin do Wiki do GitHub para <code>Docs</code> deste site, que √© alimentado pelo Docusaurus. O Docusaurus oferece muitos recursos incr√≠veis como melhores estilos de Markdown, busca de texto completo, versionamento, tradu√ß√£o.</p>
<p>A documenta√ß√£o ainda n√£o est√° perfeita e ainda precisa de ajustes. O c√≥digo fonte est√° hospedado no GitHub: <a href="https://github.com/casbin/casbin-website-v2" target="_blank" rel="noopener noreferrer" class="">https://github.com/casbin/casbin-website-v2</a> .</p>
<p>Qualquer contribui√ß√£o ou sugest√£o √© bem-vinda!</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/pt/blog/2018/08/27/node-casbin">node-Casbin: Novo Membro da Fam√≠lia Casbin</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2018-08-27T00:00:00.000Z">27 de agosto de 2018</time> ¬∑ <!-- -->Leitura de um minuto</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="http://github.com/nodece" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/nodece" alt="Zixuan Liu"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="http://github.com/nodece" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Zixuan Liu</span></a></div><small class="authorTitle_nd0D" title="Mantenedor do Casbin">Mantenedor do Casbin</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>Hoje, n√≥s portamos com sucesso o Casbin para Node.js, que √© nomeado como: <a href="https://github.com/casbin/node-casbin" target="_blank" rel="noopener noreferrer" class="">node-Casbin</a>.</p>
<p><strong>node-Casbin</strong> compartilha o uso similar e a API com outras implementa√ß√µes do Casbin. Os middlewares para Express, Koa2 e Egg.js est√£o prontos para uso. O adaptador de armazenamento para Sequelize tamb√©m est√° preparado.</p>
<p>Espero que possa atender bem √†s suas necessidades :)</p>
<p>GitHub: <a href="https://github.com/casbin/node-casbin" target="_blank" rel="noopener noreferrer" class="">https://github.com/casbin/node-casbin</a></p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/pt/blog/2018/08/07/launching-casbin-server">O Casbin Server foi lan√ßado!</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2018-08-07T00:00:00.000Z">7 de agosto de 2018</time> ¬∑ <!-- -->Leitura de um minuto</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="http://github.com/BetaCat0" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/BetaCat0" alt="Helong Zhang"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="http://github.com/BetaCat0" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Helong Zhang</span></a></div><small class="authorTitle_nd0D" title="Mantenedor do Casbin">Mantenedor do Casbin</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>Alguns de nossos clientes perguntam se o Casbin pode ser usado como um servi√ßo em vez de uma biblioteca. A resposta √© <strong>SIM</strong>. Hoje, lan√ßamos o projeto <a href="https://github.com/casbin/casbin-server" target="_blank" rel="noopener noreferrer" class="">Casbin Server</a> como uma solu√ß√£o concreta para <strong>Controle de Acesso como um Servi√ßo</strong>.</p>
<p><strong>Casbin Server</strong> est√° em desenvolvimento ativo pela nossa equipe principal. Ele possui v√°rias caracter√≠sticas:</p>
<ul>
<li class="">Desenvolvido puramente em Golang.</li>
<li class="">Pode gerenciar milhares de inst√¢ncias do Casbin, para que voc√™ possa mover a l√≥gica de aplica√ß√£o de pol√≠ticas de m√∫ltiplos servi√ßos para um √∫nico Casbin Server.</li>
<li class=""><strong>gRPC</strong> √© usado para se comunicar com o Casbin Server. Tamb√©m consideramos adicionar suporte <strong>RESTful</strong> em um futuro pr√≥ximo.</li>
<li class="">Um portal administrativo amig√°vel √© fornecido para administradores n√£o desenvolvedores gerenciarem todos os detalhes como inst√¢ncias do Casbin, modelos, armazenamento de pol√≠ticas e balanceamento de carga.</li>
</ul>
<p>O c√≥digo-fonte est√° hospedado no GitHub: <a href="https://github.com/casbin/casbin-server" target="_blank" rel="noopener noreferrer" class="">https://github.com/casbin/casbin-server</a></p>
<p>Quaisquer problemas ou pull requests s√£o bem-vindos :)</p></div><footer class="row docusaurus-mt-lg"></footer></article><nav class="pagination-nav" aria-label="Navega√ß√£o da lista de blogs"></nav></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documenta√ß√£o</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/pt/docs/get-started">Primeiros Passos</a></li><li class="footer__item"><a class="footer__link-item" href="/pt/docs/management-api">API de Gerenciamento</a></li><li class="footer__item"><a class="footer__link-item" href="/pt/docs/rbac-api">API de RBAC</a></li><li class="footer__item"><a class="footer__link-item" href="/pt/docs/middlewares">Middlewares</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Comunidade</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://forum.casbin.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">F√≥rum<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/search?q=casbin" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.gg/S5UjpzGZjN" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://cdn.casdoor.com/casdoor/resource/built-in/admin/qq_casbin.png" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grupo QQ<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Mais</div><ul class="footer__items clean-list"><li class="footer__item">
                <a href="https://github.com/casbin/casbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/casbin?label=Casbin&style=social">
                </a>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://github.com/casbin/jcasbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/jcasbin?label=jCasbin&style=social">
                </a>
              </li><li class="footer__item">
                <a href="https://github.com/casbin/node-casbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/node-casbin?label=Node-Casbin&style=social">
                </a>
                &nbsp;&nbsp;
                <a href="https://github.com/php-casbin/php-casbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/php-casbin/php-casbin?label=PHP-Casbin&style=social">
                </a>
              </li><li class="footer__item">
                <a href="https://github.com/casbin/pycasbin" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/pycasbin?label=PyCasbin&style=social">
                </a>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://github.com/casbin/Casbin.NET" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/Casbin.NET?label=Casbin.NET&style=social">
                </a>
              </li><li class="footer__item">
                <a href="https://github.com/casbin/casbin-cpp" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/casbin-cpp?label=Casbin-CPP&style=social">
                </a>
                &nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://github.com/casbin/casbin-rs" target="_blank">
                  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/casbin/casbin-rs?label=Casbin-RS&style=social">
                </a>
              </li><li class="footer__item">
                <a href="https://twitter.com/casbinHQ" target="_blank">
                  <img alt="Twitter Follow" src="https://img.shields.io/twitter/follow/casbinHQ?style=social">
                </a>
              </li><li class="footer__item">
<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?2c0ffc6f8d49e98d964d59d7aa4cbf34";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
</li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_BH7S" href="/pt/"><img src="/pt/img/casbin_min.svg" alt="Logotipo do Casbin" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/pt/img/casbin_min.svg" alt="Logotipo do Casbin" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">Copyright ¬© 2025 Casbin Organization</div></div></div></footer></div>
</body>
</html>