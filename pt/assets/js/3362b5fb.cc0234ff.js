"use strict";(self.webpackChunkcasbin_website_v2=self.webpackChunkcasbin_website_v2||[]).push([[3596],{3905:(e,o,a)=>{a.d(o,{Zo:()=>p,kt:()=>m});var r=a(7294);function t(e,o,a){return o in e?Object.defineProperty(e,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[o]=a,e}function n(e,o){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?n(Object(a),!0).forEach((function(o){t(e,o,a[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(a,o))}))}return e}function s(e,o){if(null==e)return{};var a,r,t=function(e,o){if(null==e)return{};var a,r,t={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],o.indexOf(a)>=0||(t[a]=e[a]);return t}(e,o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],o.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}var d=r.createContext({}),l=function(e){var o=r.useContext(d),a=o;return e&&(a="function"==typeof e?e(o):i(i({},o),e)),a},p=function(e){var o=l(e.components);return r.createElement(d.Provider,{value:o},e.children)},u={inlineCode:"code",wrapper:function(e){var o=e.children;return r.createElement(r.Fragment,{},o)}},c=r.forwardRef((function(e,o){var a=e.components,t=e.mdxType,n=e.originalType,d=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=l(a),m=t,g=c["".concat(d,".").concat(m)]||c[m]||u[m]||n;return a?r.createElement(g,i(i({ref:o},p),{},{components:a})):r.createElement(g,i({ref:o},p))}));function m(e,o){var a=arguments,t=o&&o.mdxType;if("string"==typeof e||t){var n=a.length,i=new Array(n);i[0]=c;var s={};for(var d in o)hasOwnProperty.call(o,d)&&(s[d]=o[d]);s.originalType=e,s.mdxType="string"==typeof e?e:t,i[1]=s;for(var l=2;l<n;l++)i[l]=a[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}c.displayName="MDXCreateElement"},5527:(e,o,a)=>{a.r(o),a.d(o,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>n,metadata:()=>s,toc:()=>l});var r=a(7462),t=(a(7294),a(3905));const n={id:"understanding-casbin-detail",title:"Understanding How Casbin Matching Works in Detail",description:"Pol\xedtica de Reembolso do Site Casbin",keywords:["RBAC","ACL"],authors:["aravindarc"]},i=void 0,s={unversionedId:"understanding-casbin-detail",id:"understanding-casbin-detail",title:"Understanding How Casbin Matching Works in Detail",description:"Pol\xedtica de Reembolso do Site Casbin",source:"@site/i18n/pt/docusaurus-plugin-content-docs/current/UnderstandingCasbinMatchingInDetail.mdx",sourceDirName:".",slug:"/understanding-casbin-detail",permalink:"/pt/docs/understanding-casbin-detail",draft:!1,editUrl:"https://github.com/casbin/casbin-website-v2/edit/master/docs/UnderstandingCasbinMatchingInDetail.mdx",tags:[],version:"current",frontMatter:{id:"understanding-casbin-detail",title:"Understanding How Casbin Matching Works in Detail",description:"Pol\xedtica de Reembolso do Site Casbin",keywords:["RBAC","ACL"],authors:["aravindarc"]},sidebar:"docs",previous:{title:"Tutorials",permalink:"/pt/docs/tutorials"},next:{title:"Model",permalink:"/pt/docs/category/model"}},d={},l=[{value:"Introdu\xe7\xe3o ao RBAC",id:"introdu\xe7\xe3o-ao-rbac",level:2},{value:"Entendendo o RBAC Hier\xe1rquico do Azure",id:"entendendo-o-rbac-hier\xe1rquico-do-azure",level:2},{value:"Como Funciona o Casbin?",id:"como-funciona-o-casbin",level:2},{value:"O que \xe9 ACL?",id:"o-que-\xe9-acl",level:2},{value:"A defini\xe7\xe3o do modelo",id:"a-defini\xe7\xe3o-do-modelo",level:3},{value:"Agora vamos testar o modelo no editor Casbin",id:"agora-vamos-testar-o-modelo-no-editor-casbin",level:3},{value:"Representa\xe7\xe3o visual do modelo ACL, pol\xedtica e correspond\xeancia de solicita\xe7\xe3o",id:"representa\xe7\xe3o-visual-do-modelo-acl-pol\xedtica-e-correspond\xeancia-de-solicita\xe7\xe3o",level:3},{value:"O que \xe9 RBAC?",id:"o-que-\xe9-rbac",level:2},{value:"A defini\xe7\xe3o do modelo",id:"a-defini\xe7\xe3o-do-modelo-1",level:3},{value:"Agora vamos testar o modelo no editor Casbin",id:"agora-vamos-testar-o-modelo-no-editor-casbin-1",level:3},{value:"Representa\xe7\xe3o visual do modelo RBAC, pol\xedtica e correspond\xeancia de requisi\xe7\xf5es",id:"representa\xe7\xe3o-visual-do-modelo-rbac-pol\xedtica-e-correspond\xeancia-de-requisi\xe7\xf5es",level:3},{value:"O que \xe9 RBAC Hier\xe1rquico?",id:"o-que-\xe9-rbac-hier\xe1rquico",level:2},{value:"A defini\xe7\xe3o do modelo",id:"a-defini\xe7\xe3o-do-modelo-2",level:3},{value:"Agora vamos testar o modelo no editor Casbin",id:"agora-vamos-testar-o-modelo-no-editor-casbin-2",level:3},{value:"Representa\xe7\xe3o visual do modelo RBAC, pol\xedtica e correspond\xeancia de requisi\xe7\xf5es",id:"representa\xe7\xe3o-visual-do-modelo-rbac-pol\xedtica-e-correspond\xeancia-de-requisi\xe7\xf5es-1",level:3},{value:"Representa\xe7\xe3o visual da correspond\xeancia de Sujeito",id:"representa\xe7\xe3o-visual-da-correspond\xeancia-de-sujeito",level:4},{value:"Representa\xe7\xe3o visual da correspond\xeancia de A\xe7\xe3o",id:"representa\xe7\xe3o-visual-da-correspond\xeancia-de-a\xe7\xe3o",level:4},{value:"Representa\xe7\xe3o visual da correspond\xeancia de Objeto",id:"representa\xe7\xe3o-visual-da-correspond\xeancia-de-objeto",level:4},{value:"Conclus\xe3o",id:"conclus\xe3o",level:2}],p={toc:l};function u(e){let{components:o,...n}=e;return(0,t.kt)("wrapper",(0,r.Z)({},p,n,{components:o,mdxType:"MDXLayout"}),(0,t.kt)("p",null,"Neste post, vou explicar o design e a implementa\xe7\xe3o do RBAC usando a biblioteca ",(0,t.kt)("a",{parentName:"p",href:"https://casbin.org/"},"Casbin"),". Para uma plataforma SaaS lidando com m\xfaltiplas hierarquias de recursos e pap\xe9is que herdam permiss\xf5es de n\xedveis superiores, Casbin oferece uma alternativa perform\xe1tica a ser considerada."),(0,t.kt)("h2",{id:"introdu\xe7\xe3o-ao-rbac"},"Introdu\xe7\xe3o ao RBAC"),(0,t.kt)("p",null,"RBAC \xe9 um m\xe9todo de restringir o acesso a recursos com base nos pap\xe9is que os indiv\xedduos possuem. Para entender melhor como o RBAC hier\xe1rquico funciona, vamos dar uma olhada no sistema RBAC do Azure na pr\xf3xima se\xe7\xe3o e depois tentar implementar um sistema semelhante."),(0,t.kt)("h2",{id:"entendendo-o-rbac-hier\xe1rquico-do-azure"},"Entendendo o RBAC Hier\xe1rquico do Azure"),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/ready/azure-setup-guide/media/organize-resources/scope-levels.png",alt:"Hierarquia do Azure"})),(0,t.kt)("p",null,"H\xe1 um papel chamado ",(0,t.kt)("strong",{parentName:"p"},"Owner")," para todos os recursos no Azure. Suponha que se eu tenho o papel de ",(0,t.kt)("strong",{parentName:"p"},"Owner")," atribu\xeddo a mim no n\xedvel de assinatura, isso significa que sou o ",(0,t.kt)("strong",{parentName:"p"},"Owner")," de todos os grupos de recursos e recursos sob essa assinatura. Se eu tenho o papel de ",(0,t.kt)("strong",{parentName:"p"},"Owner")," no n\xedvel do grupo de recursos, ent\xe3o sou o ",(0,t.kt)("strong",{parentName:"p"},"Owner")," de todos os recursos sob esse grupo de recursos."),(0,t.kt)("p",null,"Esta imagem mostra que tenho acesso de ",(0,t.kt)("strong",{parentName:"p"},"Owner")," no n\xedvel da assinatura. ",(0,t.kt)("img",{alt:"Propriet\xe1rio da Assinatura",src:a(6970).Z,width:"3456",height:"1836"})),(0,t.kt)("p",null,"Quando verifico o IAM de um Grupo de Recursos sob esta Assinatura, voc\xea pode ver que herdei o acesso de ",(0,t.kt)("strong",{parentName:"p"},"Owner")," da assinatura. ",(0,t.kt)("img",{alt:"Propriet\xe1rio do RG",src:a(878).Z,width:"3456",height:"1836"})),(0,t.kt)("p",null,"Ent\xe3o, \xe9 assim que o RBAC do Azure \xe9 hier\xe1rquico. A maioria dos softwares empresariais usa RBAC hier\xe1rquico devido \xe0 natureza hier\xe1rquica dos n\xedveis de recursos. Neste tutorial, tentaremos implementar um sistema semelhante usando Casbin."),(0,t.kt)("h2",{id:"como-funciona-o-casbin"},"Como Funciona o Casbin?"),(0,t.kt)("p",null,"Antes de mergulhar na implementa\xe7\xe3o, \xe9 importante entender o que \xe9 Casbin e como ele funciona em um alto n\xedvel. Este entendimento \xe9 necess\xe1rio porque cada sistema de Controle de Acesso Baseado em Pap\xe9is (RBAC) pode variar com base em requisitos espec\xedficos. Ao compreender o funcionamento do Casbin, podemos ajustar eficazmente o modelo."),(0,t.kt)("h2",{id:"o-que-\xe9-acl"},"O que \xe9 ACL?"),(0,t.kt)("p",null,"ACL significa Lista de Controle de Acesso. \xc9 um m\xe9todo no qual os usu\xe1rios s\xe3o mapeados para a\xe7\xf5es e a\xe7\xf5es para recursos."),(0,t.kt)("h3",{id:"a-defini\xe7\xe3o-do-modelo"},"A defini\xe7\xe3o do modelo"),(0,t.kt)("p",null,"Vamos considerar um exemplo simples de um modelo ACL."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-toml"},"[request_definition]\nr = sub, act, obj\n\n[policy_definition]\np = sub, act, obj\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = r.sub == p.sub && r.obj == p.obj && r.act == p.act\n")),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"A ",(0,t.kt)("strong",{parentName:"p"},"request","_","definition")," \xe9 o template de consulta do sistema. Por exemplo, uma solicita\xe7\xe3o ",(0,t.kt)("inlineCode",{parentName:"p"},"alice, write, data1")," pode ser interpretada como 'A sujeito Alice pode realizar a a\xe7\xe3o 'write' no objeto 'data1'?'")),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"A ",(0,t.kt)("strong",{parentName:"p"},"policy","_","definition")," \xe9 o template de atribui\xe7\xe3o do sistema. Por exemplo, ao criar uma pol\xedtica ",(0,t.kt)("inlineCode",{parentName:"p"},"alice, write, data1"),", voc\xea est\xe1 atribuindo permiss\xe3o ao sujeito Alice para realizar a a\xe7\xe3o 'write' no objeto 'data1'.")),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"O ",(0,t.kt)("strong",{parentName:"p"},"policy","_","effect")," define o efeito da pol\xedtica.")),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"Na se\xe7\xe3o ",(0,t.kt)("strong",{parentName:"p"},"matchers"),", a solicita\xe7\xe3o \xe9 combinada com a pol\xedtica usando as condi\xe7\xf5es ",(0,t.kt)("inlineCode",{parentName:"p"},"r.sub == p.sub && r.obj == p.obj && r.act == p.act"),"."))),(0,t.kt)("h3",{id:"agora-vamos-testar-o-modelo-no-editor-casbin"},"Agora vamos testar o modelo no editor Casbin"),(0,t.kt)("p",null,"Abra o ",(0,t.kt)("a",{parentName:"p",href:"https://casbin.org/editor"},"editor")," e cole o modelo acima no editor de Modelo."),(0,t.kt)("p",null,"Cole o seguinte no editor de Pol\xedtica:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-csv"},"p, alice, read, data1\np, bob, write, data2\n")),(0,t.kt)("p",null,"e o seguinte no editor de Solicita\xe7\xe3o:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-csv"},"alice, read, data1\n")),(0,t.kt)("p",null,"O resultado ser\xe1:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-text"},"true\n")),(0,t.kt)("h3",{id:"representa\xe7\xe3o-visual-do-modelo-acl-pol\xedtica-e-correspond\xeancia-de-solicita\xe7\xe3o"},"Representa\xe7\xe3o visual do modelo ACL, pol\xedtica e correspond\xeancia de solicita\xe7\xe3o"),(0,t.kt)("p",null,(0,t.kt)("img",{alt:"acl",src:a(3353).Z,width:"6968",height:"3096"})),(0,t.kt)("h2",{id:"o-que-\xe9-rbac"},"O que \xe9 RBAC?"),(0,t.kt)("p",null,"RBAC significa Controle de Acesso Baseado em Pap\xe9is. No RBAC, um usu\xe1rio \xe9 atribu\xeddo a um papel para um recurso, e um papel pode conter a\xe7\xf5es arbitr\xe1rias. A solicita\xe7\xe3o verifica ent\xe3o se o usu\xe1rio tem permiss\xe3o para realizar a a\xe7\xe3o no recurso."),(0,t.kt)("h3",{id:"a-defini\xe7\xe3o-do-modelo-1"},"A defini\xe7\xe3o do modelo"),(0,t.kt)("p",null,"Vamos considerar um exemplo simples de modelo RBAC:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-toml"},"[request_definition]\nr = sub, act, obj\n\n[policy_definition]\np = sub, act, obj\n\n[role_definition]\ng = _, _\ng2 = _, _\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = r.sub == p.sub && g(p.act, r.act) && r.obj == p.obj\n")),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},"A ",(0,t.kt)("strong",{parentName:"li"},"role","_","definition")," \xe9 um construtor de rela\xe7\xe3o de gr\xe1fico que usa um Grafo para comparar o objeto de solicita\xe7\xe3o com o objeto de pol\xedtica.")),(0,t.kt)("h3",{id:"agora-vamos-testar-o-modelo-no-editor-casbin-1"},"Agora vamos testar o modelo no editor Casbin"),(0,t.kt)("p",null,"Abra o ",(0,t.kt)("a",{parentName:"p",href:"https://casbin.org/editor"},"editor")," e cole o modelo acima no editor de Modelo."),(0,t.kt)("p",null,"Cole o seguinte no editor de Pol\xedtica:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-csv"},"p, alice, reader, data1\np, bob, owner, data2\n\ng, reader, read\ng, owner, read\ng, owner, write\n")),(0,t.kt)("p",null,"e o seguinte no editor de Requisi\xe7\xf5es:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-csv"},"alice, read, data1\nalice, write, data1\nbob, write, data2\nbob, read, data2\nbob, write, data1\n")),(0,t.kt)("p",null,"O resultado ser\xe1:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-text"},"true\nfalse\ntrue\ntrue\nfalse\n")),(0,t.kt)("h3",{id:"representa\xe7\xe3o-visual-do-modelo-rbac-pol\xedtica-e-correspond\xeancia-de-requisi\xe7\xf5es"},"Representa\xe7\xe3o visual do modelo RBAC, pol\xedtica e correspond\xeancia de requisi\xe7\xf5es"),(0,t.kt)("p",null,(0,t.kt)("img",{alt:"rbac",src:a(3859).Z,width:"7016",height:"2844"})),(0,t.kt)("p",null,"A tabela ",(0,t.kt)("strong",{parentName:"p"},"g - Mapeamento de fun\xe7\xe3o para a\xe7\xe3o")," tem um mapeamento gr\xe1fico da fun\xe7\xe3o para a\xe7\xe3o. Este Gr\xe1fico pode ser codificado como uma lista de arestas, conforme mostrado na pol\xedtica, que \xe9 uma maneira comum de representar um Gr\xe1fico:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-csv"},"g, reader, read\ng, owner, read\ng, owner, write\n")),(0,t.kt)("admonition",{type:"info"},(0,t.kt)("p",{parentName:"admonition"},(0,t.kt)("strong",{parentName:"p"},"p")," indica uma pol\xedtica normal que pode ser comparada usando o operador ",(0,t.kt)("strong",{parentName:"p"},"=="),". ",(0,t.kt)("strong",{parentName:"p"},"g")," \xe9 uma fun\xe7\xe3o de compara\xe7\xe3o baseada em Gr\xe1fico. Voc\xea pode definir v\xe1rios comparadores de Gr\xe1fico adicionando um sufixo num\xe9rico como ",(0,t.kt)("strong",{parentName:"p"},"g, g2, g3, ...")," e assim por diante.")),(0,t.kt)("h2",{id:"o-que-\xe9-rbac-hier\xe1rquico"},"O que \xe9 RBAC Hier\xe1rquico?"),(0,t.kt)("p",null,'No RBAC Hier\xe1rquico, existem mais de um tipo de recursos e h\xe1 uma rela\xe7\xe3o de heran\xe7a entre os tipos de recursos. Por exemplo, "assinatura" \xe9 um tipo e "grupoDeRecursos" \xe9 outro tipo. Uma sub1 do tipo ',(0,t.kt)("strong",{parentName:"p"},"Assinatura")," pode conter v\xe1rios gruposDeRecursos (rg1, rg2) do tipo ",(0,t.kt)("strong",{parentName:"p"},"GrupoDeRecursos"),"."),(0,t.kt)("p",null,"Semelhante \xe0 hierarquia de recursos, haver\xe1 dois tipos de fun\xe7\xf5es e a\xe7\xf5es: fun\xe7\xf5es e a\xe7\xf5es de Assinatura, e fun\xe7\xf5es e a\xe7\xf5es de GrupoDeRecursos. H\xe1 uma rela\xe7\xe3o arbitr\xe1ria entre a fun\xe7\xe3o de Assinatura e a fun\xe7\xe3o de GrupoDeRecursos. Por exemplo, considere uma Fun\xe7\xe3o de Assinatura ",(0,t.kt)("strong",{parentName:"p"},"propriet\xe1rio-sub"),". Esta fun\xe7\xe3o \xe9 herdada por uma Fun\xe7\xe3o de GrupoDeRecursos ",(0,t.kt)("strong",{parentName:"p"},"propriet\xe1rio-rg"),", o que significa que se eu for atribu\xeddo \xe0 fun\xe7\xe3o ",(0,t.kt)("strong",{parentName:"p"},"propriet\xe1rio-sub")," na Assinatura ",(0,t.kt)("strong",{parentName:"p"},"sub1"),", ent\xe3o eu automaticamente tamb\xe9m obtenho a fun\xe7\xe3o ",(0,t.kt)("strong",{parentName:"p"},"propriet\xe1rio-rg")," em ",(0,t.kt)("strong",{parentName:"p"},"rg1 e rg2"),"."),(0,t.kt)("h3",{id:"a-defini\xe7\xe3o-do-modelo-2"},"A defini\xe7\xe3o do modelo"),(0,t.kt)("p",null,"Vamos pegar um exemplo simples do modelo ",(0,t.kt)("strong",{parentName:"p"},"RBAC Hier\xe1rquico"),":"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-toml"},"[request_definition]\nr = sub, act, obj\n\n[policy_definition]\np = sub, act, obj\n\n[role_definition]\ng = _, _\ng2 = _, _\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = r.sub == p.sub && g(p.act, r.act) && g2(p.obj, r.obj)\n")),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},"O ",(0,t.kt)("strong",{parentName:"li"},"role","_","definition")," \xe9 um construtor de rela\xe7\xe3o gr\xe1fica que usa um Gr\xe1fico para comparar o objeto de requisi\xe7\xe3o com o objeto de pol\xedtica.")),(0,t.kt)("h3",{id:"agora-vamos-testar-o-modelo-no-editor-casbin-2"},"Agora vamos testar o modelo no editor Casbin"),(0,t.kt)("p",null,"Abra o ",(0,t.kt)("a",{parentName:"p",href:"https://casbin.org/editor"},"editor")," e cole o modelo acima no editor de Modelo."),(0,t.kt)("p",null,"Cole o seguinte no editor de Pol\xedtica:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-csv"},"p, alice, sub-reader, sub1\np, bob, rg-owner, rg2\n\n// subscription role to subscription action mapping\ng, sub-reader, sub-read\ng, sub-owner, sub-read\ng, sub-owner, sub-write\n\n// resourceGroup role to resourceGroup action mapping\ng, rg-reader, rg-read\ng, rg-owner, rg-read\ng, rg-owner, rg-write\n\n// subscription role to resourceGroup role mapping\ng, sub-reader, rg-reader\ng, sub-owner, rg-owner\n\n// subscription resource to resourceGroup resource mapping\ng2, sub1, rg1\ng2, sub2, rg2\n")),(0,t.kt)("p",null,"E cole o seguinte no editor de Requisi\xe7\xf5es:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-csv"},"alice, rg-read, rg1\n")),(0,t.kt)("p",null,"O resultado ser\xe1:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-text"},"true\n")),(0,t.kt)("h3",{id:"representa\xe7\xe3o-visual-do-modelo-rbac-pol\xedtica-e-correspond\xeancia-de-requisi\xe7\xf5es-1"},"Representa\xe7\xe3o visual do modelo RBAC, pol\xedtica e correspond\xeancia de requisi\xe7\xf5es"),(0,t.kt)("p",null,(0,t.kt)("img",{alt:"hrbac",src:a(4492).Z,width:"7968",height:"4204"})),(0,t.kt)("p",null,"A tabela ",(0,t.kt)("strong",{parentName:"p"},"g - Mapeamento de fun\xe7\xe3o para (A\xe7\xe3o, Fun\xe7\xe3o)")," tem um gr\xe1fico mapeando a fun\xe7\xe3o para a a\xe7\xe3o, mapeamento de fun\xe7\xe3o. Este gr\xe1fico pode ser codificado como uma lista de arestas, conforme mostrado na pol\xedtica, que \xe9 uma maneira comum de representar um gr\xe1fico:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-csv"},"// subscription role to subscription action mapping\ng, sub-reader, sub-read\ng, sub-owner, sub-read\ng, sub-owner, sub-write\n\n// resourceGroup role to resourceGroup action mapping\ng, rg-reader, rg-read\ng, rg-owner, rg-read\ng, rg-owner, rg-write\n\n// subscription role to resourceGroup role mapping\ng, sub-reader, rg-reader\ng, sub-owner, rg-owner\n")),(0,t.kt)("p",null,"A tabela ",(0,t.kt)("strong",{parentName:"p"},"g2 - Mapeamento de Assinatura para GrupoDeRecursos")," tem um gr\xe1fico mapeando assinatura para grupoDeRecursos:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-csv"},"// subscription resource to resourceGroup resource mapping\ng2, sub1, rg1\ng2, sub2, rg2\n")),(0,t.kt)("h4",{id:"representa\xe7\xe3o-visual-da-correspond\xeancia-de-sujeito"},"Representa\xe7\xe3o visual da correspond\xeancia de Sujeito"),(0,t.kt)("p",null,(0,t.kt)("img",{alt:"hrbac-sub-match",src:a(3541).Z,width:"8176",height:"4336"})),(0,t.kt)("h4",{id:"representa\xe7\xe3o-visual-da-correspond\xeancia-de-a\xe7\xe3o"},"Representa\xe7\xe3o visual da correspond\xeancia de A\xe7\xe3o"),(0,t.kt)("p",null,(0,t.kt)("img",{alt:"hrbac-act-match",src:a(8303).Z,width:"7964",height:"4376"})),(0,t.kt)("h4",{id:"representa\xe7\xe3o-visual-da-correspond\xeancia-de-objeto"},"Representa\xe7\xe3o visual da correspond\xeancia de Objeto"),(0,t.kt)("p",null,(0,t.kt)("img",{alt:"hrbac-obj-match",src:a(6879).Z,width:"7964",height:"4296"})),(0,t.kt)("admonition",{type:"info"},(0,t.kt)("p",{parentName:"admonition"},"Quando uma requisi\xe7\xe3o \xe9 submetida ao Casbin, essa correspond\xeancia acontece para todas as pol\xedticas. Se pelo menos uma pol\xedtica corresponder, ent\xe3o o resultado da requisi\xe7\xe3o \xe9 verdadeiro. Se nenhuma pol\xedtica corresponder \xe0 requisi\xe7\xe3o, ent\xe3o o resultado \xe9 falso.")),(0,t.kt)("h2",{id:"conclus\xe3o"},"Conclus\xe3o"),(0,t.kt)("p",null,"Neste tutorial, aprendemos sobre como diferentes modelos de autoriza\xe7\xe3o funcionam e como eles podem ser modelados usando Casbin. Na segunda parte deste tutorial, implementaremos isso em uma aplica\xe7\xe3o de demonstra\xe7\xe3o Spring Boot e protegeremos as APIs usando Casbin."))}u.isMDXComponent=!0},3353:(e,o,a)=>{a.d(o,{Z:()=>r});const r=a.p+"assets/images/acl-704097c47b27a1f2235c82f593af469e.png"},8303:(e,o,a)=>{a.d(o,{Z:()=>r});const r=a.p+"assets/images/hrbac-act-match-bbb086158782591771f2df01419dc4b8.png"},6879:(e,o,a)=>{a.d(o,{Z:()=>r});const r=a.p+"assets/images/hrbac-obj-match-aad370d5cbfe1020ec108b9242f8d4bd.png"},3541:(e,o,a)=>{a.d(o,{Z:()=>r});const r=a.p+"assets/images/hrbac-sub-match-55dffd4e5fadb9773658dc90bacbb091.png"},4492:(e,o,a)=>{a.d(o,{Z:()=>r});const r=a.p+"assets/images/hrbac-1350d755e04234a34394996344d2b259.png"},3859:(e,o,a)=>{a.d(o,{Z:()=>r});const r=a.p+"assets/images/rbac-4c8e405408b9e4df554f7cd619eae897.png"},878:(e,o,a)=>{a.d(o,{Z:()=>r});const r=a.p+"assets/images/rg-owner-9c6cd2ae5997a5fba717c445f43130e6.png"},6970:(e,o,a)=>{a.d(o,{Z:()=>r});const r=a.p+"assets/images/subscription-owner-f1a7e1c9c03d7c587ce910ae5e6d8a35.png"}}]);