"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[5931],{6662:(e,o,s)=>{s.r(o),s.d(o,{assets:()=>c,contentTitle:()=>t,default:()=>p,frontMatter:()=>i,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"how-it-works","title":"How It Works","description":"Como o Casbin Funciona","source":"@site/i18n/pt/docusaurus-plugin-content-docs/current/HowItWorks.mdx","sourceDirName":".","slug":"/how-it-works","permalink":"/pt/docs/how-it-works","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/HowItWorks.mdx","tags":[],"version":"current","frontMatter":{"id":"how-it-works","title":"How It Works","description":"Como o Casbin Funciona","keywords":["PERM","request","policy","matcher","effect"],"authors":["nodece"]},"sidebar":"docs","previous":{"title":"Get Started","permalink":"/pt/docs/get-started"},"next":{"title":"Tutorials","permalink":"/pt/docs/tutorials"}}');var r=s(4848),n=s(8453);const i={id:"how-it-works",title:"How It Works",description:"Como o Casbin Funciona",keywords:["PERM","request","policy","matcher","effect"],authors:["nodece"]},t=void 0,c={},d=[{value:"Request",id:"request",level:3},{value:"Policy",id:"policy",level:3},{value:"Matcher",id:"matcher",level:3},{value:"Effect",id:"effect",level:3}];function l(e){const o={a:"a",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.p,{children:["No Casbin, um modelo de controle de acesso \xe9 abstra\xeddo em um arquivo CONF baseado no ",(0,r.jsx)(o.strong,{children:"metamodelo PERM (Policy, Effect, Request, Matchers)"}),". Trocar ou atualizar o mecanismo de autoriza\xe7\xe3o para um projeto \xe9 t\xe3o simples quanto modificar uma configura\xe7\xe3o. Voc\xea pode personalizar seu pr\xf3prio modelo de controle de acesso combinando os modelos dispon\xedveis. Por exemplo, voc\xea pode combinar pap\xe9is RBAC e atributos ABAC juntos dentro de um mesmo modelo e compartilhar um conjunto de regras de pol\xedtica."]}),"\n",(0,r.jsx)(o.p,{children:"O modelo PERM \xe9 composto por quatro fundamentos: Pol\xedtica, Efeito, Requisi\xe7\xe3o e Correspondentes. Esses fundamentos descrevem a rela\xe7\xe3o entre recursos e usu\xe1rios."}),"\n",(0,r.jsx)(o.h3,{id:"request",children:"Request"}),"\n",(0,r.jsx)(o.p,{children:"Define os par\xe2metros da requisi\xe7\xe3o. Uma requisi\xe7\xe3o b\xe1sica \xe9 um objeto tupla, exigindo pelo menos um sujeito (entidade acessada), objeto (recurso acessado) e a\xe7\xe3o (m\xe9todo de acesso)."}),"\n",(0,r.jsx)(o.p,{children:"Por exemplo, uma defini\xe7\xe3o de requisi\xe7\xe3o pode ser assim:"}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.code,{children:"r={sub,obj,act}"})}),"\n",(0,r.jsx)(o.h3,{id:"policy",children:"Policy"}),"\n",(0,r.jsx)(o.p,{children:"Esta defini\xe7\xe3o especifica os nomes dos par\xe2metros e a ordem exigida pela fun\xe7\xe3o de correspond\xeancia de controle de acesso. Define o modelo para a estrat\xe9gia de acesso."}),"\n",(0,r.jsx)(o.p,{children:"Especifica o nome e a ordem dos campos no documento de regra de Pol\xedtica."}),"\n",(0,r.jsx)(o.p,{children:"Por exemplo:"}),"\n",(0,r.jsx)(o.h3,{id:"matcher",children:"Matcher"}),"\n",(0,r.jsxs)(o.p,{children:[(0,r.jsx)(o.code,{children:"p={sub, obj, act}"})," ou ",(0,r.jsx)(o.code,{children:"p={sub, obj, act, eft}"})]}),"\n",(0,r.jsx)(o.p,{children:"Nota: Se eft (resultado da pol\xedtica) n\xe3o for definido, o campo de resultado no arquivo de pol\xedtica n\xe3o ser\xe1 lido, e o resultado da pol\xedtica correspondente ser\xe1 permitido por padr\xe3o. Define as regras de correspond\xeancia para Requisi\xe7\xe3o e Pol\xedtica."}),"\n",(0,r.jsx)(o.h3,{id:"effect",children:"Effect"}),"\n",(0,r.jsxs)(o.p,{children:["Por exemplo: ",(0,r.jsx)(o.code,{children:"m = r.sub == p.sub && r.act == p.act && r.obj == p.obj"})]}),"\n",(0,r.jsxs)(o.p,{children:["Esta regra de correspond\xeancia simples e comum significa que se os par\xe2metros solicitados (entidades, recursos e m\xe9todos) forem iguais aos encontrados na pol\xedtica, ent\xe3o o resultado da pol\xedtica (",(0,r.jsx)(o.code,{children:"p.eft"}),") \xe9 retornado."]}),"\n",(0,r.jsxs)(o.p,{children:["O resultado da estrat\xe9gia ser\xe1 salvo em ",(0,r.jsx)(o.code,{children:"p.eft"}),"."]}),"\n",(0,r.jsx)(o.p,{children:"Realiza um julgamento de combina\xe7\xe3o l\xf3gica nos resultados de correspond\xeancia dos Correspondentes."}),"\n",(0,r.jsxs)(o.p,{children:["Por exemplo: ",(0,r.jsx)(o.code,{children:"e = some(where(p.eft == allow))"})]}),"\n",(0,r.jsxs)(o.p,{children:["Esta declara\xe7\xe3o significa que se o resultado da estrat\xe9gia de correspond\xeancia ",(0,r.jsx)(o.code,{children:"p.eft"})," tiver o resultado de (algum) permitir, ent\xe3o o resultado final \xe9 verdadeiro. Vamos olhar para outro exemplo: ",(0,r.jsx)(o.code,{children:"e = some(where (p.eft == allow)) && !some(where (p.eft == deny))"})]}),"\n",(0,r.jsx)(o.p,{children:"O significado l\xf3gico desta combina\xe7\xe3o de exemplo \xe9: se houver uma estrat\xe9gia que corresponda ao resultado de permitir e nenhuma estrat\xe9gia que corresponda ao resultado de negar, o resultado \xe9 verdadeiro. Em outras palavras, \xe9 verdadeiro quando as estrat\xe9gias de correspond\xeancia s\xe3o todas de permitir."}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-ini",children:"# Request definition\n[request_definition]\nr = sub, obj, act\n\n# Policy definition\n[policy_definition]\np = sub, obj, act\n\n# Policy effect\n[policy_effect]\ne = some(where (p.eft == allow))\n\n# Matchers\n[matchers]\nm = r.sub == p.sub && r.obj == p.obj && r.act == p.act\n\n"})}),"\n",(0,r.jsx)(o.p,{children:"Se houver qualquer nega\xe7\xe3o, ambos s\xe3o falsos (mais simplesmente, quando permitir e negar existem ao mesmo tempo, a nega\xe7\xe3o tem preced\xeancia)."}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-csv",children:"p, alice, data1, read\np, bob, data2, write\n"})}),"\n",(0,r.jsx)(o.p,{children:"O modelo mais b\xe1sico e simples no Casbin \xe9 o ACL."}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsx)(o.li,{children:"O modelo CONF para ACL \xe9 o seguinte:"}),"\n",(0,r.jsx)(o.li,{children:"Um exemplo de pol\xedtica para o modelo ACL \xe9:"}),"\n"]}),"\n",(0,r.jsx)(o.p,{children:"Isso significa:"}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-ini",children:"# Matchers\n[matchers]\nm = r.sub == p.sub && r.obj == p.obj \\\n  && r.act == p.act\n"})}),"\n",(0,r.jsx)(o.p,{children:"alice pode ler data1"}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-ini",children:"# Matchers\n[matchers]\nm = r.obj == p.obj && r.act == p.act || r.obj in ('data2', 'data3')\n"})}),"\n",(0,r.jsx)(o.p,{children:"N\xf3s tamb\xe9m suportamos o modo multi-linha anexando '' no final:"}),"\n",(0,r.jsxs)(o.p,{children:["For more operators, you may take a look at ",(0,r.jsx)(o.a,{href:"https://github.com/casbin/govaluate",children:"govaluate"}),"."]})]})}function p(e={}){const{wrapper:o}={...(0,n.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,o,s)=>{s.d(o,{R:()=>i,x:()=>t});var a=s(6540);const r={},n=a.createContext(r);function i(e){const o=a.useContext(n);return a.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function t(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(n.Provider,{value:o},e.children)}}}]);