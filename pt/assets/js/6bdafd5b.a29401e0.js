"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[2917],{6748(e,a,o){o.r(a),o.d(a,{assets:()=>d,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"policy-subset-loading","title":"Policy Subset Loading","description":"Carregando pol\xedticas filtradas","source":"@site/i18n/pt/docusaurus-plugin-content-docs/current/PolicySubsetLoading.mdx","sourceDirName":".","slug":"/policy-subset-loading","permalink":"/pt/docs/policy-subset-loading","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/PolicySubsetLoading.mdx","tags":[],"version":"current","frontMatter":{"id":"policy-subset-loading","title":"Policy Subset Loading","description":"Carregando pol\xedticas filtradas","keywords":["filtered policies","policy subset","performance optimization"],"authors":["hsluoyz"]},"sidebar":"docs","previous":{"title":"Policy Storage","permalink":"/pt/docs/policy-storage"},"next":{"title":"Scenarios","permalink":"/pt/docs/category/scenarios"}}');var i=o(4848),n=o(8453);const r={id:"policy-subset-loading",title:"Policy Subset Loading",description:"Carregando pol\xedticas filtradas",keywords:["filtered policies","policy subset","performance optimization"],authors:["hsluoyz"]},s=void 0,d={},c=[];function l(e){const a={code:"code",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.p,{children:"Alguns adaptadores suportam gerenciamento de pol\xedticas filtradas. Isso significa que a pol\xedtica carregada pelo Casbin \xe9 um subconjunto da pol\xedtica armazenada no banco de dados com base em um filtro dado. Isso permite a aplica\xe7\xe3o eficiente de pol\xedticas em ambientes grandes e multi-tenant, onde a an\xe1lise da pol\xedtica inteira se torna um gargalo de desempenho."}),"\n",(0,i.jsxs)(a.p,{children:["Para usar pol\xedticas filtradas com um adaptador compat\xedvel, basta chamar o m\xe9todo ",(0,i.jsx)(a.code,{children:"LoadFilteredPolicy"}),". O formato v\xe1lido para o par\xe2metro de filtro depende do adaptador usado. Para evitar perda acidental de dados, o m\xe9todo ",(0,i.jsx)(a.code,{children:"SavePolicy"})," \xe9 desativado quando uma pol\xedtica filtrada \xe9 carregada."]}),"\n",(0,i.jsx)(a.p,{children:'Por exemplo, o seguinte trecho de c\xf3digo usa o adaptador de arquivo filtrado embutido e o modelo RBAC com dom\xednios. Neste caso, o filtro limita a pol\xedtica a um \xfanico dom\xednio. Quaisquer linhas de pol\xedtica para dom\xednios diferentes de "domain1" s\xe3o omitidas da pol\xedtica carregada:'}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-go",children:'import (\n    "github.com/casbin/casbin/v2"\n    fileadapter "github.com/casbin/casbin/v2/persist/file-adapter"\n)\n\nenforcer, _ := casbin.NewEnforcer()\n\nadapter := fileadapter.NewFilteredAdapter("examples/rbac_with_domains_policy.csv")\nenforcer.InitWithAdapter("examples/rbac_with_domains_model.conf", adapter)\n\nfilter := &fileadapter.Filter{\n    P: []string{"", "domain1"},\n    G: []string{"", "", "domain1"},\n}\nenforcer.LoadFilteredPolicy(filter)\n\n// The loaded policy now only contains the entries pertaining to "domain1".\n'})}),"\n",(0,i.jsxs)(a.p,{children:["H\xe1 outro m\xe9todo que suporta o recurso de carregamento de subconjunto: ",(0,i.jsx)(a.code,{children:"LoadIncrementalFilteredPolicy"}),". ",(0,i.jsx)(a.code,{children:"LoadIncrementalFilteredPolicy"})," \xe9 semelhante a ",(0,i.jsx)(a.code,{children:"LoadFilteredPolicy"}),", mas n\xe3o limpa a pol\xedtica previamente carregada. Ele apenas acrescenta a pol\xedtica filtrada \xe0 pol\xedtica existente."]})]})}function p(e={}){const{wrapper:a}={...(0,n.R)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453(e,a,o){o.d(a,{R:()=>r,x:()=>s});var t=o(6540);const i={},n=t.createContext(i);function r(e){const a=t.useContext(n);return t.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function s(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(n.Provider,{value:a},e.children)}}}]);