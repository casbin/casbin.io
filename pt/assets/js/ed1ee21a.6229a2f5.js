"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[5209],{8236(e,o,n){n.r(o),n.d(o,{assets:()=>d,contentTitle:()=>t,default:()=>f,frontMatter:()=>i,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"effector","title":"Effector","description":"A interface Effector no Casbin","source":"@site/i18n/pt/docusaurus-plugin-content-docs/current/Effector.mdx","sourceDirName":".","slug":"/effector","permalink":"/pt/docs/effector","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/Effector.mdx","tags":[],"version":"current","frontMatter":{"id":"effector","title":"Effector","description":"A interface Effector no Casbin","keywords":["effector","Effect","MergeEffects"],"authors":["ErikQQY"]},"sidebar":"docs","previous":{"title":"Syntax for Models","permalink":"/pt/docs/syntax-for-models"},"next":{"title":"Functions","permalink":"/pt/docs/function"}}');var c=n(4848),s=n(8453);const i={id:"effector",title:"Effector",description:"A interface Effector no Casbin",keywords:["effector","Effect","MergeEffects"],authors:["ErikQQY"]},t=void 0,d={},a=[{value:"<code>MergeEffects()</code>",id:"mergeeffects",level:2}];function l(e){const o={admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{TabItem:n,Tabs:r}=o;return n||p("TabItem",!0),r||p("Tabs",!0),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(o.p,{children:["O ",(0,c.jsx)(o.code,{children:"Effect"})," representa o resultado de uma regra de pol\xedtica, e o ",(0,c.jsx)(o.code,{children:"Effector"})," \xe9 a interface para lidar com efeitos no Casbin."]}),"\n",(0,c.jsx)(o.h2,{id:"mergeeffects",children:(0,c.jsx)(o.code,{children:"MergeEffects()"})}),"\n",(0,c.jsxs)(o.p,{children:["A fun\xe7\xe3o ",(0,c.jsx)(o.code,{children:"MergeEffects()"})," \xe9 usada para mesclar todos os resultados correspondentes coletados pelo executor em uma \xfanica decis\xe3o."]}),"\n",(0,c.jsx)(o.p,{children:"Por exemplo:"}),"\n",(0,c.jsx)(r,{groupId:"langs",children:(0,c.jsx)(n,{value:"Go",label:"Go",default:!0,children:(0,c.jsx)(o.pre,{children:(0,c.jsx)(o.code,{className:"language-go",children:"Effect, explainIndex, err = e.MergeEffects(expr, effects, matches, policyIndex, policyLength)\n"})})})}),"\n",(0,c.jsx)(o.p,{children:"Neste exemplo:"}),"\n",(0,c.jsxs)(o.ul,{children:["\n",(0,c.jsxs)(o.li,{children:[(0,c.jsx)(o.code,{children:"Effect"})," \xe9 a decis\xe3o final que \xe9 mesclada por esta fun\xe7\xe3o (inicializada como ",(0,c.jsx)(o.code,{children:"Indeterminate"}),")."]}),"\n",(0,c.jsxs)(o.li,{children:[(0,c.jsx)(o.code,{children:"explainIndex"})," \xe9 o \xedndice de ",(0,c.jsx)(o.code,{children:"eft"})," (",(0,c.jsx)(o.code,{children:"Allow"})," ou ",(0,c.jsx)(o.code,{children:"Deny"}),"), e \xe9 inicializado como ",(0,c.jsx)(o.code,{children:"-1"}),"."]}),"\n",(0,c.jsxs)(o.li,{children:[(0,c.jsx)(o.code,{children:"err"})," \xe9 usado para verificar se o efeito \xe9 suportado."]}),"\n",(0,c.jsxs)(o.li,{children:[(0,c.jsx)(o.code,{children:"expr"})," \xe9 a representa\xe7\xe3o em string dos efeitos da pol\xedtica."]}),"\n",(0,c.jsxs)(o.li,{children:[(0,c.jsx)(o.code,{children:"effects"})," \xe9 um array de efeitos, que podem ser ",(0,c.jsx)(o.code,{children:"Allow"}),", ",(0,c.jsx)(o.code,{children:"Indeterminate"})," ou ",(0,c.jsx)(o.code,{children:"Deny"}),"."]}),"\n",(0,c.jsxs)(o.li,{children:[(0,c.jsx)(o.code,{children:"matches"})," \xe9 um array que indica se o resultado corresponde \xe0 pol\xedtica."]}),"\n",(0,c.jsxs)(o.li,{children:[(0,c.jsx)(o.code,{children:"policyIndex"})," \xe9 o \xedndice da pol\xedtica no modelo."]}),"\n",(0,c.jsxs)(o.li,{children:[(0,c.jsx)(o.code,{children:"policyLength"})," \xe9 o comprimento da pol\xedtica."]}),"\n"]}),"\n",(0,c.jsxs)(o.p,{children:["O c\xf3digo acima ilustra como passar os par\xe2metros para a fun\xe7\xe3o ",(0,c.jsx)(o.code,{children:"MergeEffects()"}),", e a fun\xe7\xe3o processar\xe1 os efeitos e correspond\xeancias com base no ",(0,c.jsx)(o.code,{children:"expr"}),"."]}),"\n",(0,c.jsxs)(o.p,{children:["Para usar o ",(0,c.jsx)(o.code,{children:"Effector"}),", siga estes passos:"]}),"\n",(0,c.jsx)(r,{groupId:"langs",children:(0,c.jsx)(n,{value:"Go",label:"Go",default:!0,children:(0,c.jsx)(o.pre,{children:(0,c.jsx)(o.code,{className:"language-go",children:"var e Effector\nEffect, explainIndex, err = e.MergeEffects(expr, effects, matches, policyIndex, policyLength)\n"})})})}),"\n",(0,c.jsxs)(o.p,{children:["A ideia b\xe1sica de ",(0,c.jsx)(o.code,{children:"MergeEffects()"})," \xe9 que se o ",(0,c.jsx)(o.code,{children:"expr"})," puder corresponder aos resultados, indicando que o ",(0,c.jsx)(o.code,{children:"p_eft"})," \xe9 ",(0,c.jsx)(o.code,{children:"allow"}),", ent\xe3o todos os efeitos podem ser mesclados. Se nenhuma regra de nega\xe7\xe3o for correspondida, ent\xe3o a decis\xe3o \xe9 permitir."]}),"\n",(0,c.jsx)(o.admonition,{type:"note",children:(0,c.jsxs)(o.p,{children:["Se o ",(0,c.jsx)(o.code,{children:"expr"})," n\xe3o corresponder \xe0 condi\xe7\xe3o ",(0,c.jsx)(o.code,{children:"'priority(p_eft) || deny'"}),", e o ",(0,c.jsx)(o.code,{children:"policyIndex"})," for menor que ",(0,c.jsx)(o.code,{children:"policyLength-1"}),", ele ir\xe1 ",(0,c.jsx)(o.strong,{children:"interromper"})," alguns efeitos no meio."]})})]})}function f(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,c.jsx)(o,{...e,children:(0,c.jsx)(l,{...e})}):l(e)}function p(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},8453(e,o,n){n.d(o,{R:()=>i,x:()=>t});var r=n(6540);const c={},s=r.createContext(c);function i(e){const o=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function t(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),r.createElement(s.Provider,{value:o},e.children)}}}]);