"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[4399],{37:(e,s,d)=>{d.r(s),d.d(s,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>c,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"policy-storage","title":"Policy Storage","description":"\u30dd\u30ea\u30b7\u30fc\u30b9\u30c8\u30ec\u30fc\u30b8","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/PolicyStorage.mdx","sourceDirName":".","slug":"/policy-storage","permalink":"/ja/docs/policy-storage","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/PolicyStorage.mdx","tags":[],"version":"current","frontMatter":{"id":"policy-storage","title":"Policy Storage","description":"\u30dd\u30ea\u30b7\u30fc\u30b9\u30c8\u30ec\u30fc\u30b8","keywords":["policy storage"],"authors":["hsluoyz"]},"sidebar":"docs","previous":{"title":"Model Storage","permalink":"/ja/docs/model-storage"},"next":{"title":"Policy Subset Loading","permalink":"/ja/docs/policy-subset-loading"}}');var t=d(4848),i=d(8453);const c={id:"policy-storage",title:"Policy Storage",description:"\u30dd\u30ea\u30b7\u30fc\u30b9\u30c8\u30ec\u30fc\u30b8",keywords:["policy storage"],authors:["hsluoyz"]},r=void 0,l={},a=[{value:".CSV\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30dd\u30ea\u30b7\u30fc\u3092\u8aad\u307f\u8fbc\u3080",id:"csv\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30dd\u30ea\u30b7\u30fc\u3092\u8aad\u307f\u8fbc\u3080",level:2},{value:"\u30a2\u30c0\u30d7\u30bfAPI",id:"\u30a2\u30c0\u30d7\u30bfapi",level:2},{value:"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b9\u30c8\u30ec\u30fc\u30b8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8",id:"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b9\u30c8\u30ec\u30fc\u30b8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8",level:2},{value:"\u30a2\u30c0\u30d7\u30bf\u30fc\u306e\u8a73\u7d30",id:"\u30a2\u30c0\u30d7\u30bf\u30fc\u306e\u8a73\u7d30",level:2}];function o(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.p,{children:["Casbin\u3067\u306f\u3001\u30dd\u30ea\u30b7\u30fc\u30b9\u30c8\u30ec\u30fc\u30b8\u306f",(0,t.jsx)(s.a,{href:"/docs/adapters",children:"\u30a2\u30c0\u30d7\u30bf"}),"\u3068\u3057\u3066\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002"]}),"\n",(0,t.jsx)(s.h2,{id:"csv\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30dd\u30ea\u30b7\u30fc\u3092\u8aad\u307f\u8fbc\u3080",children:".CSV\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30dd\u30ea\u30b7\u30fc\u3092\u8aad\u307f\u8fbc\u3080"}),"\n",(0,t.jsx)(s.p,{children:"\u3053\u308c\u306fCasbin\u3092\u4f7f\u7528\u3059\u308b\u6700\u3082\u4e00\u822c\u7684\u306a\u65b9\u6cd5\u3067\u3059\u3002 \u3053\u308c\u306f\u521d\u5fc3\u8005\u306b\u3068\u3063\u3066\u7406\u89e3\u3057\u3084\u3059\u304f\u3001Casbin\u30c1\u30fc\u30e0\u306b\u52a9\u3051\u3092\u6c42\u3081\u308b\u3068\u304d\u306b\u5171\u6709\u3059\u308b\u306e\u306b\u4fbf\u5229\u3067\u3059\u3002"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:".CSV"}),"\u30d5\u30a1\u30a4\u30eb",(0,t.jsx)(s.a,{href:"https://github.com/casbin/casbin/blob/master/examples/rbac_policy.csv",children:"examples/rbac_policy.csv"}),"\u306e\u5185\u5bb9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\uff1a"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-csv",children:"p, alice, data1, read\np, bob, data2, write\np, data2_admin, data2, read\np, data2_admin, data2, write\ng, alice, data2_admin\n"})}),"\n",(0,t.jsxs)(s.admonition,{type:"note",children:[(0,t.jsx)(s.p,{children:"\u30d5\u30a1\u30a4\u30eb\u306b\u30ab\u30f3\u30de\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u305d\u308c\u3089\u3092\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c8\u3067\u56f2\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u4f8b\u3048\u3070\uff1a"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-csv",children:'p, alice, "data1,data2", read    --correct\np, alice, data1,data2, read        --incorrect (the whole phrase "data1,data2" should be wrapped in double quotes)\n'})}),(0,t.jsx)(s.p,{children:"\u30d5\u30a1\u30a4\u30eb\u306b\u30ab\u30f3\u30de\u3068\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c8\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c8\u3067\u56f2\u307f\u3001\u57cb\u3081\u8fbc\u307e\u308c\u305f\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c8\u3092\u4e8c\u91cd\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-csv",children:'p, alice, data, "r.act in (""get"", ""post"")"        --correct\np, alice, data, "r.act in ("get", "post")"            --incorrect (you should use "" to escape "")\n'})}),(0,t.jsxs)(s.p,{children:["\u95a2\u9023\u3059\u308b\u554f\u984c\uff1a",(0,t.jsx)(s.a,{href:"https://github.com/casbin/casbin/issues/886",children:"casbin#886"})]})]}),"\n",(0,t.jsx)(s.h2,{id:"\u30a2\u30c0\u30d7\u30bfapi",children:"\u30a2\u30c0\u30d7\u30bfAPI"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"\u30e1\u30bd\u30c3\u30c9"}),(0,t.jsx)(s.th,{children:"\u30bf\u30a4\u30d7"}),(0,t.jsx)(s.th,{children:"\u8aac\u660e"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"LoadPolicy()"}),(0,t.jsx)(s.td,{children:"\u57fa\u672c"}),(0,t.jsx)(s.td,{children:"\u30b9\u30c8\u30ec\u30fc\u30b8\u304b\u3089\u3059\u3079\u3066\u306e\u30dd\u30ea\u30b7\u30fc\u30eb\u30fc\u30eb\u3092\u8aad\u307f\u8fbc\u3080"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"SavePolicy()"}),(0,t.jsx)(s.td,{children:"\u57fa\u672c"}),(0,t.jsx)(s.td,{children:"\u3059\u3079\u3066\u306e\u30dd\u30ea\u30b7\u30fc\u30eb\u30fc\u30eb\u3092\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3059\u308b"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"AddPolicy()"}),(0,t.jsx)(s.td,{children:"\u30aa\u30d7\u30b7\u30e7\u30f3"}),(0,t.jsx)(s.td,{children:"\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u30dd\u30ea\u30b7\u30fc\u30eb\u30fc\u30eb\u3092\u8ffd\u52a0\u3059\u308b"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"RemovePolicy()"}),(0,t.jsx)(s.td,{children:"\u30aa\u30d7\u30b7\u30e7\u30f3"}),(0,t.jsx)(s.td,{children:"\u30b9\u30c8\u30ec\u30fc\u30b8\u304b\u3089\u30dd\u30ea\u30b7\u30fc\u30eb\u30fc\u30eb\u3092\u524a\u9664\u3059\u308b"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"RemoveFilteredPolicy()"}),(0,t.jsx)(s.td,{children:"\u30aa\u30d7\u30b7\u30e7\u30f3"}),(0,t.jsx)(s.td,{children:"\u30d5\u30a3\u30eb\u30bf\u30fc\u306b\u4e00\u81f4\u3059\u308b\u30dd\u30ea\u30b7\u30fc\u30eb\u30fc\u30eb\u3092\u30b9\u30c8\u30ec\u30fc\u30b8\u304b\u3089\u524a\u9664\u3059\u308b"})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b9\u30c8\u30ec\u30fc\u30b8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8",children:"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b9\u30c8\u30ec\u30fc\u30b8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"\u3042\u306a\u305f\u306e\u30dd\u30ea\u30b7\u30fc\u30d5\u30a1\u30a4\u30eb"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-csv",children:"p, data2_admin, data2, read\np, data2_admin, data2, write\ng, alice, admin\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"\u5bfe\u5fdc\u3059\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u69cb\u9020\uff08MySQL\u306a\u3069\uff09"})}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"id"}),(0,t.jsx)(s.th,{children:"ptype"}),(0,t.jsx)(s.th,{children:"v0"}),(0,t.jsx)(s.th,{children:"v1"}),(0,t.jsx)(s.th,{children:"v2"}),(0,t.jsx)(s.th,{children:"v3"}),(0,t.jsx)(s.th,{children:"v4"}),(0,t.jsx)(s.th,{children:"v5"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"p"}),(0,t.jsx)(s.td,{children:"data2_admin"}),(0,t.jsx)(s.td,{children:"data2"}),(0,t.jsx)(s.td,{children:"read"}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"2"}),(0,t.jsx)(s.td,{children:"p"}),(0,t.jsx)(s.td,{children:"data2_admin"}),(0,t.jsx)(s.td,{children:"data2"}),(0,t.jsx)(s.td,{children:"write"}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"3"}),(0,t.jsx)(s.td,{children:"g"}),(0,t.jsx)(s.td,{children:"alice"}),(0,t.jsx)(s.td,{children:"admin"}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"\u5404\u5217\u306e\u610f\u5473"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"id"}),": \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4e3b\u30ad\u30fc\u3067\u3059\u3002 ",(0,t.jsx)(s.code,{children:"casbin policy"}),"\u306e\u4e00\u90e8\u3068\u3057\u3066\u5b58\u5728\u3057\u307e\u305b\u3093\u3002 \u751f\u6210\u65b9\u6cd5\u306f\u7279\u5b9a\u306e\u30a2\u30c0\u30d7\u30bf\u30fc\u306b\u3088\u308a\u307e\u3059\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"ptype"}),": ",(0,t.jsx)(s.code,{children:"p"}),"\u3001",(0,t.jsx)(s.code,{children:"g"}),"\u3001",(0,t.jsx)(s.code,{children:"g2"}),"\u306a\u3069\u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"v0-v5"}),": \u5217\u540d\u306b\u7279\u5b9a\u306e\u610f\u5473\u306f\u306a\u304f\u3001",(0,t.jsx)(s.code,{children:"policy csv"}),"\u306e\u5de6\u304b\u3089\u53f3\u3078\u306e\u5024\u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002 \u5217\u306e\u6570\u306f\u3001\u81ea\u5206\u3067\u5b9a\u7fa9\u3059\u308b\u6570\u306b\u3088\u308a\u307e\u3059\u3002 \u7406\u8ad6\u7684\u306b\u306f\u3001\u5217\u306e\u6570\u306f\u7121\u9650\u306b\u306a\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u4e00\u822c\u7684\u306b\u306f\u30a2\u30c0\u30d7\u30bf\u30fc\u306b\u306f",(0,t.jsx)(s.strong,{children:"6"}),"\u5217\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u3053\u308c\u304c\u3042\u306a\u305f\u306b\u3068\u3063\u3066\u5341\u5206\u3067\u306a\u3044\u5834\u5408\u306f\u3001\u5bfe\u5fdc\u3059\u308b\u30a2\u30c0\u30d7\u30bf\u30fc\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u554f\u984c\u3092\u63d0\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"\u30a2\u30c0\u30d7\u30bf\u30fc\u306e\u8a73\u7d30",children:"\u30a2\u30c0\u30d7\u30bf\u30fc\u306e\u8a73\u7d30"}),"\n",(0,t.jsxs)(s.p,{children:["\u30a2\u30c0\u30d7\u30bf\u30fcAPI\u306e\u4f7f\u7528\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30c6\u30fc\u30d6\u30eb\u69cb\u9020\u306e\u8a2d\u8a08\u306b\u3064\u3044\u3066\u306e\u8a73\u7d30\u306f\u3001\u6b21\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\uff1a",(0,t.jsx)(s.a,{href:"/docs/adapters",children:"/docs/adapters"})]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453:(e,s,d)=>{d.d(s,{R:()=>c,x:()=>r});var n=d(6540);const t={},i=n.createContext(t);function c(e){const s=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);