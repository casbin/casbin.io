"use strict";(globalThis.webpackChunkcasbin_website_v2=globalThis.webpackChunkcasbin_website_v2||[]).push([[3392],{2193:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>d,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"rolemanager-api","title":"RoleManager API","description":"L\'API RoleManager fournit une interface pour d\xe9finir des op\xe9rations pour g\xe9rer les r\xf4les. L\'ajout d\'une fonction de correspondance au RoleManager permet l\'utilisation de caract\xe8res g\xe9n\xe9riques dans les noms de r\xf4les et les domaines.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/RoleManagerApi.mdx","sourceDirName":".","slug":"/rolemanager-api","permalink":"/fr/docs/rolemanager-api","draft":false,"unlisted":false,"editUrl":"https://github.com/casbin/casbin-website-v2/edit/master/docs/RoleManagerApi.mdx","tags":[],"version":"current","frontMatter":{"id":"rolemanager-api","title":"RoleManager API","description":"L\'API RoleManager fournit une interface pour d\xe9finir des op\xe9rations pour g\xe9rer les r\xf4les. L\'ajout d\'une fonction de correspondance au RoleManager permet l\'utilisation de caract\xe8res g\xe9n\xe9riques dans les noms de r\xf4les et les domaines.","keywords":["rolemanager","API"],"authors":["closetool","kiloson-c"]},"sidebar":"docs","previous":{"title":"RBAC with Conditions API","permalink":"/fr/docs/rbac-with-conditions-api"},"next":{"title":"Advanced usage","permalink":"/fr/docs/category/advanced-usage"}}');var r=l(4848),s=l(8453);const d={id:"rolemanager-api",title:"RoleManager API",description:"L'API RoleManager fournit une interface pour d\xe9finir des op\xe9rations pour g\xe9rer les r\xf4les. L'ajout d'une fonction de correspondance au RoleManager permet l'utilisation de caract\xe8res g\xe9n\xe9riques dans les noms de r\xf4les et les domaines.",keywords:["rolemanager","API"],authors:["closetool","kiloson-c"]},i=void 0,o={},c=[{value:"RoleManager",id:"rolemanager",level:2},{value:"<code>AddNamedMatchingFunc()</code>",id:"addnamedmatchingfunc",level:3},{value:"<code>AddNamedDomainMatchingFunc()</code>",id:"addnameddomainmatchingfunc",level:3},{value:"<code>GetRoleManager()</code>",id:"getrolemanager",level:3},{value:"<code>GetNamedRoleManager()</code>",id:"getnamedrolemanager",level:3},{value:"<code>SetRoleManager()</code>",id:"setrolemanager",level:3},{value:"<code>SetNamedRoleManager()</code>",id:"setnamedrolemanager",level:3},{value:"<code>Clear()</code>",id:"clear",level:3},{value:"<code>AddLink()</code>",id:"addlink",level:3},{value:"<code>DeleteLink()</code>",id:"deletelink",level:3},{value:"<code>HasLink()</code>",id:"haslink",level:3},{value:"<code>GetRoles()</code>",id:"getroles",level:3},{value:"<code>GetUsers()</code>",id:"getusers",level:3},{value:"<code>PrintRoles()</code>",id:"printroles",level:3},{value:"<code>SetLogger()</code>",id:"setlogger",level:3},{value:"<code>GetDomains()</code>",id:"getdomains",level:3}];function t(e){const n={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,s.R)(),...e.components},{TabItem:l,Tabs:a}=n;return l||u("TabItem",!0),a||u("Tabs",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"rolemanager",children:"RoleManager"}),"\n",(0,r.jsx)(n.p,{children:"Le RoleManager fournit une interface pour d\xe9finir des op\xe9rations pour g\xe9rer les r\xf4les. L'ajout d'une fonction de correspondance au RoleManager permet l'utilisation de caract\xe8res g\xe9n\xe9riques dans les noms de r\xf4les et les domaines."}),"\n",(0,r.jsx)(n.h3,{id:"addnamedmatchingfunc",children:(0,r.jsx)(n.code,{children:"AddNamedMatchingFunc()"})}),"\n",(0,r.jsxs)(n.p,{children:["La fonction ",(0,r.jsx)(n.code,{children:"AddNamedMatchingFunc"})," ajoute une ",(0,r.jsx)(n.code,{children:"MatchingFunc"})," par Ptype au RoleManager. La ",(0,r.jsx)(n.code,{children:"MatchingFunc"})," sera utilis\xe9e lors de la correspondance des r\xf4les."]}),"\n",(0,r.jsxs)(a,{groupId:"langs",children:[(0,r.jsx)(l,{value:"Go",label:"Go",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'    e.AddNamedMatchingFunc("g", "", util.KeyMatch)\n    _, _ = e.AddGroupingPolicies([][]string{{"*", "admin", "domain1"}})\n    _, _ = e.GetRoleManager().HasLink("bob", "admin", "domain1") // -> true, nil\n'})})}),(0,r.jsx)(l,{value:"Node.js",label:"Node.js",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"    await e.addNamedMatchingFunc('g', Util.keyMatchFunc);\n    await e.addGroupingPolicies([['*', 'admin', 'domain1']]);\n    await e.getRoleManager().hasLink('bob', 'admin', 'domain1');\n"})})})]}),"\n",(0,r.jsx)(n.p,{children:"Par exemple:"}),"\n",(0,r.jsxs)(a,{groupId:"langs",children:[(0,r.jsx)(l,{value:"Go",label:"Go",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'    e, _ := casbin.NewEnforcer("path/to/model", "path/to/policy")\n    e.AddNamedMatchingFunc("g", "", util.MatchKey)\n'})})}),(0,r.jsx)(l,{value:"Node.js",label:"Node.js",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"    const e = await newEnforcer('path/to/model', 'path/to/policy');\n    await e.addNamedMatchingFunc('g', Util.keyMatchFunc);\n"})})})]}),"\n",(0,r.jsx)(n.h3,{id:"addnameddomainmatchingfunc",children:(0,r.jsx)(n.code,{children:"AddNamedDomainMatchingFunc()"})}),"\n",(0,r.jsxs)(n.p,{children:["La fonction ",(0,r.jsx)(n.code,{children:"AddNamedDomainMatchingFunc"})," ajoute une ",(0,r.jsx)(n.code,{children:"MatchingFunc"})," par Ptype au RoleManager. La ",(0,r.jsx)(n.code,{children:"DomainMatchingFunc"})," est similaire \xe0 la ",(0,r.jsx)(n.code,{children:"MatchingFunc"})," mentionn\xe9e ci-dessus."]}),"\n",(0,r.jsx)(n.p,{children:"Par exemple:"}),"\n",(0,r.jsxs)(a,{groupId:"langs",children:[(0,r.jsx)(l,{value:"Go",label:"Go",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'    e, _ := casbin.NewEnforcer("path/to/model", "path/to/policy")\n    e.AddNamedDomainMatchingFunc("g", "", util.MatchKey)\n'})})}),(0,r.jsx)(l,{value:"Node.js",label:"Node.js",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"    const e = await newEnforcer('path/to/model', 'path/to/policy');\n    await e.addNamedDomainMatchingFunc('g', Util.keyMatchFunc);\n"})})})]}),"\n",(0,r.jsx)(n.h3,{id:"getrolemanager",children:(0,r.jsx)(n.code,{children:"GetRoleManager()"})}),"\n",(0,r.jsxs)(n.p,{children:["La fonction ",(0,r.jsx)(n.code,{children:"GetRoleManager"})," obtient le gestionnaire de r\xf4les actuel pour ",(0,r.jsx)(n.code,{children:"g"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Par exemple:"}),"\n",(0,r.jsxs)(a,{groupId:"langs",children:[(0,r.jsx)(l,{value:"Go",label:"Go",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"    rm := e.GetRoleManager()\n"})})}),(0,r.jsx)(l,{value:"Node.js",label:"Node.js",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"    const rm = await e.getRoleManager();\n"})})}),(0,r.jsx)(l,{value:"Python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"    rm = e.get_role_manager()\n"})})})]}),"\n",(0,r.jsx)(n.h3,{id:"getnamedrolemanager",children:(0,r.jsx)(n.code,{children:"GetNamedRoleManager()"})}),"\n",(0,r.jsxs)(n.p,{children:["La fonction ",(0,r.jsx)(n.code,{children:"GetNamedRoleManager"})," obtient le gestionnaire de r\xf4les par Ptype nomm\xe9."]}),"\n",(0,r.jsx)(n.p,{children:"Par exemple:"}),"\n",(0,r.jsxs)(a,{groupId:"langs",children:[(0,r.jsx)(l,{value:"Go",label:"Go",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'    rm := e.GetNamedRoleManager("g2")\n'})})}),(0,r.jsx)(l,{value:"Node.js",label:"Node.js",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'    const rm = await e.getNamedRoleManager("g2");\n'})})}),(0,r.jsx)(l,{value:"Python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'    rm = e.get_named_role_manager("g2")\n'})})})]}),"\n",(0,r.jsx)(n.h3,{id:"setrolemanager",children:(0,r.jsx)(n.code,{children:"SetRoleManager()"})}),"\n",(0,r.jsxs)(n.p,{children:["La fonction ",(0,r.jsx)(n.code,{children:"SetRoleManager"})," d\xe9finit le gestionnaire de r\xf4les actuel pour ",(0,r.jsx)(n.code,{children:"g"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Par exemple:"}),"\n",(0,r.jsxs)(a,{groupId:"langs",children:[(0,r.jsx)(l,{value:"Go",label:"Go",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"    e.SetRoleManager(rm)\n"})})}),(0,r.jsx)(l,{value:"Node.js",label:"Node.js",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"    e.setRoleManager(rm);\n"})})}),(0,r.jsx)(l,{value:"Python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"    rm = e.set_role_manager(rm)\n"})})})]}),"\n",(0,r.jsx)(n.h3,{id:"setnamedrolemanager",children:(0,r.jsx)(n.code,{children:"SetNamedRoleManager()"})}),"\n",(0,r.jsxs)(n.p,{children:["La fonction ",(0,r.jsx)(n.code,{children:"SetNamedRoleManager"})," d\xe9finit le gestionnaire de r\xf4les par Ptype nomm\xe9."]}),"\n",(0,r.jsx)(n.p,{children:"Par exemple:"}),"\n",(0,r.jsxs)(a,{groupId:"langs",children:[(0,r.jsx)(l,{value:"Go",label:"Go",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'    rm := e.SetNamedRoleManager("g2", rm)\n'})})}),(0,r.jsx)(l,{value:"Python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'    rm = e.set_role_manager("g2", rm)\n'})})})]}),"\n",(0,r.jsx)(n.h3,{id:"clear",children:(0,r.jsx)(n.code,{children:"Clear()"})}),"\n",(0,r.jsxs)(n.p,{children:["La fonction ",(0,r.jsx)(n.code,{children:"Clear"})," efface toutes les donn\xe9es stock\xe9es et r\xe9initialise le gestionnaire de r\xf4les \xe0 son \xe9tat initial."]}),"\n",(0,r.jsx)(n.p,{children:"Par exemple:"}),"\n",(0,r.jsxs)(a,{groupId:"langs",children:[(0,r.jsx)(l,{value:"Go",label:"Go",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"    rm.Clear()\n"})})}),(0,r.jsx)(l,{value:"Node.js",label:"Node.js",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"    await rm.clear();\n"})})}),(0,r.jsx)(l,{value:"Python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"    rm.clear()\n"})})})]}),"\n",(0,r.jsx)(n.h3,{id:"addlink",children:(0,r.jsx)(n.code,{children:"AddLink()"})}),"\n",(0,r.jsx)(n.p,{children:"AddLink ajoute le lien d'h\xe9ritage entre deux r\xf4les. r\xf4le: name1 et r\xf4le: name2.\nDomain est un pr\xe9fixe pour les r\xf4les (peut \xeatre utilis\xe9 \xe0 d'autres fins)."}),"\n",(0,r.jsx)(n.p,{children:"Par exemple:"}),"\n",(0,r.jsxs)(a,{groupId:"langs",children:[(0,r.jsx)(l,{value:"Go",label:"Go",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'    rm.AddLink("u1", "g1", "domain1")\n'})})}),(0,r.jsx)(l,{value:"Node.js",label:"Node.js",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"    await rm.addLink('u1', 'g1', 'domain1');\n"})})}),(0,r.jsx)(l,{value:"Python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'    rm.add_link("u1", "g1", "domain1")\n'})})})]}),"\n",(0,r.jsx)(n.h3,{id:"deletelink",children:(0,r.jsx)(n.code,{children:"DeleteLink()"})}),"\n",(0,r.jsx)(n.p,{children:"DeleteLink supprime le lien d'h\xe9ritage entre deux r\xf4les. r\xf4le: name1 et r\xf4le: name2.\nDomain est un pr\xe9fixe pour les r\xf4les (peut \xeatre utilis\xe9 \xe0 d'autres fins)."}),"\n",(0,r.jsx)(n.p,{children:"Par exemple:"}),"\n",(0,r.jsxs)(a,{groupId:"langs",children:[(0,r.jsx)(l,{value:"Go",label:"Go",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'    rm.DeleteLink("u1", "g1", "domain1")\n'})})}),(0,r.jsx)(l,{value:"Node.js",label:"Node.js",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"    await rm.deleteLink('u1', 'g1', 'domain1');\n"})})}),(0,r.jsx)(l,{value:"Python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'    rm.delete_link("u1", "g1", "domain1")\n'})})})]}),"\n",(0,r.jsx)(n.h3,{id:"haslink",children:(0,r.jsx)(n.code,{children:"HasLink()"})}),"\n",(0,r.jsx)(n.p,{children:"HasLink d\xe9termine si un lien existe entre deux r\xf4les. r\xf4le: name1 h\xe9rite du r\xf4le: name2.\nDomaine est un pr\xe9fixe pour les r\xf4les (peut \xeatre utilis\xe9 \xe0 d'autres fins)."}),"\n",(0,r.jsx)(n.p,{children:"Par exemple:"}),"\n",(0,r.jsxs)(a,{groupId:"langs",children:[(0,r.jsx)(l,{value:"Go",label:"Go",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'    rm.HasLink("u1", "g1", "domain1")\n'})})}),(0,r.jsx)(l,{value:"Node.js",label:"Node.js",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"    await rm.hasLink('u1', 'g1', 'domain1');\n"})})}),(0,r.jsx)(l,{value:"Python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'    rm.has_link("u1", "g1", "domain1")\n'})})})]}),"\n",(0,r.jsx)(n.h3,{id:"getroles",children:(0,r.jsx)(n.code,{children:"GetRoles()"})}),"\n",(0,r.jsx)(n.p,{children:"GetRoles obtient les r\xf4les qu'un utilisateur h\xe9rite.\nDomaine est un pr\xe9fixe pour les r\xf4les (peut \xeatre utilis\xe9 \xe0 d'autres fins)."}),"\n",(0,r.jsx)(n.p,{children:"Par exemple:"}),"\n",(0,r.jsxs)(a,{groupId:"langs",children:[(0,r.jsx)(l,{value:"Go",label:"Go",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'    rm.GetRoles("u1", "domain1")\n'})})}),(0,r.jsx)(l,{value:"Node.js",label:"Node.js",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"    await rm.getRoles('u1', 'domain1');\n"})})}),(0,r.jsx)(l,{value:"Python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'    rm.get_roles("u1", "domain")\n'})})})]}),"\n",(0,r.jsx)(n.h3,{id:"getusers",children:(0,r.jsx)(n.code,{children:"GetUsers()"})}),"\n",(0,r.jsx)(n.p,{children:"GetUsers obtient les utilisateurs qui h\xe9ritent d'un r\xf4le.\nDomaine est un pr\xe9fixe pour les utilisateurs (peut \xeatre utilis\xe9 \xe0 d'autres fins)."}),"\n",(0,r.jsx)(n.p,{children:"Par exemple:"}),"\n",(0,r.jsxs)(a,{groupId:"langs",children:[(0,r.jsx)(l,{value:"Go",label:"Go",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'    rm.GetUsers("g1")\n'})})}),(0,r.jsx)(l,{value:"Node.js",label:"Node.js",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"    await rm.getUsers('g1');\n"})})}),(0,r.jsx)(l,{value:"Python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'    rm.get_users("g1")\n'})})})]}),"\n",(0,r.jsx)(n.h3,{id:"printroles",children:(0,r.jsx)(n.code,{children:"PrintRoles()"})}),"\n",(0,r.jsx)(n.p,{children:"PrintRoles imprime tous les r\xf4les dans le journal."}),"\n",(0,r.jsx)(n.p,{children:"Par exemple:"}),"\n",(0,r.jsxs)(a,{groupId:"langs",children:[(0,r.jsx)(l,{value:"Go",label:"Go",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"    rm.PrintRoles()\n"})})}),(0,r.jsx)(l,{value:"Node.js",label:"Node.js",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"    await rm.printRoles();\n"})})}),(0,r.jsx)(l,{value:"Python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"    rm.print_roles()\n"})})})]}),"\n",(0,r.jsx)(n.h3,{id:"setlogger",children:(0,r.jsx)(n.code,{children:"SetLogger()"})}),"\n",(0,r.jsx)(n.p,{children:"SetLogger d\xe9finit le journal du gestionnaire de r\xf4les."}),"\n",(0,r.jsx)(n.p,{children:"Par exemple:"}),"\n",(0,r.jsx)(a,{groupId:"langs",children:(0,r.jsx)(l,{value:"Go",label:"Go",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"    logger := log.DefaultLogger{}\n    logger.EnableLog(true)\n    rm.SetLogger(&logger)\n    _ = rm.PrintRoles()\n"})})})}),"\n",(0,r.jsx)(n.h3,{id:"getdomains",children:(0,r.jsx)(n.code,{children:"GetDomains()"})}),"\n",(0,r.jsx)(n.p,{children:"GetDomains obtient les domaines qu'un utilisateur poss\xe8de"}),"\n",(0,r.jsx)(n.p,{children:"Par exemple:"}),"\n",(0,r.jsx)(a,{groupId:"langs",children:(0,r.jsx)(l,{value:"Go",label:"Go",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"    result, err := rm.GetDomains(name)\n"})})})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}function u(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},8453:(e,n,l)=>{l.d(n,{R:()=>d,x:()=>i});var a=l(6540);const r={},s=a.createContext(r);function d(e){const n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);