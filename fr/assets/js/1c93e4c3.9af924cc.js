"use strict";(self.webpackChunkcasbin_website_v2=self.webpackChunkcasbin_website_v2||[]).push([[4715],{3905:(e,t,a)=>{a.d(t,{Zo:()=>s,kt:()=>m});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),d=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},s=function(e){var t=d(e.components);return n.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),c=d(a),m=r,g=c["".concat(p,".").concat(m)]||c[m]||u[m]||l;return a?n.createElement(g,o(o({ref:t},s),{},{components:a})):n.createElement(g,o({ref:t},s))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=c;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var d=2;d<l;d++)o[d]=a[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},7490:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>d});var n=a(7462),r=(a(7294),a(3905));const l={id:"policy-storage",title:"Stockage de la politique",description:"Policy Storage",keywords:["policy storage"],authors:["hsluoyz"]},o=void 0,i={unversionedId:"policy-storage",id:"policy-storage",title:"Stockage de la politique",description:"Policy Storage",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/PolicyStorage.mdx",sourceDirName:".",slug:"/policy-storage",permalink:"/fr/docs/policy-storage",draft:!1,editUrl:"https://crowdin.com/project/casbin-website/fr",tags:[],version:"current",frontMatter:{id:"policy-storage",title:"Stockage de la politique",description:"Policy Storage",keywords:["policy storage"],authors:["hsluoyz"]},sidebar:"docs",previous:{title:"Stockage du mod\xe8le",permalink:"/fr/docs/model-storage"},next:{title:"Chargement du sous-ensemble de la politique",permalink:"/fr/docs/policy-subset-loading"}},p={},d=[{value:"Loading policy from a .CSV file",id:"loading-policy-from-a-csv-file",level:2},{value:"API de la carte",id:"api-de-la-carte",level:2},{value:"Format de stockage de la base de donn\xe9es",id:"format-de-stockage-de-la-base-de-donn\xe9es",level:2},{value:"D\xe9tails de l&#39;adaptateur",id:"d\xe9tails-de-ladaptateur",level:2}],s={toc:d};function u(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"En Casbin, le stockage des politiques est impl\xe9ment\xe9 comme un ",(0,r.kt)("a",{parentName:"p",href:"/docs/adapters"},"adaptateur"),"."),(0,r.kt)("h2",{id:"loading-policy-from-a-csv-file"},"Loading policy from a .CSV file"),(0,r.kt)("p",null,"C'est la fa\xe7on la plus courante d'utiliser Casbin. It is easy to understand for beginners and convenient for sharing when you ask the Casbin team for help."),(0,r.kt)("p",null,"The content of the ",(0,r.kt)("inlineCode",{parentName:"p"},".CSV")," file ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casbin/casbin/blob/master/examples/rbac_policy.csv"},"examples/rbac_policy.csv")," is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csv"},"p, alice, data1, read\np, bob, data2, write\np, data2_admin, data2, read\np, data2_admin, data2, write\ng, alice, data2_admin\n")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"If your file contains commas, you should wrap them in double quotes. For example:"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-csv"},'p, alice, "data1,data2", read    --correct\np, alice, data1,data2, read        --incorrect (the whole phrase "data1,data2" should be wrapped in double quotes)\n')),(0,r.kt)("p",{parentName:"admonition"},"If your file contains commas and double quotes, you should enclose the field in double quotes and double any embedded double quotes."),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-csv"},'p, alice, data, "r.act in (""get"", ""post"")"        --correct\np, alice, data, "r.act in ("get", "post")"            --incorrect (you should use "" to escape "")\n')),(0,r.kt)("p",{parentName:"admonition"},"Probl\xe8me li\xe9 : ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casbin/casbin/issues/886"},"casbin#886"))),(0,r.kt)("h2",{id:"api-de-la-carte"},"API de la carte"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"M\xe9thode"),(0,r.kt)("th",{parentName:"tr",align:null},"Type de texte"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"format@@0 LoadPolicy()"),(0,r.kt)("td",{parentName:"tr",align:null},"basique"),(0,r.kt)("td",{parentName:"tr",align:null},"Charger toutes les r\xe8gles de politique du stockage")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"EnregistrerPolicy()"),(0,r.kt)("td",{parentName:"tr",align:null},"basique"),(0,r.kt)("td",{parentName:"tr",align:null},"Enregistrer toutes les r\xe8gles de politique sur le stockage")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"AddPolicy()"),(0,r.kt)("td",{parentName:"tr",align:null},"optionnel"),(0,r.kt)("td",{parentName:"tr",align:null},"Ajouter une r\xe8gle de politique au stockage")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"RemovePolicy()"),(0,r.kt)("td",{parentName:"tr",align:null},"optionnel"),(0,r.kt)("td",{parentName:"tr",align:null},"Supprimer une r\xe8gle de politique du stockage")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"RemoveFilteredPolicy()"),(0,r.kt)("td",{parentName:"tr",align:null},"optionnel"),(0,r.kt)("td",{parentName:"tr",align:null},"Supprimer les r\xe8gles de politique qui correspondent au filtre du stockage")))),(0,r.kt)("h2",{id:"format-de-stockage-de-la-base-de-donn\xe9es"},"Format de stockage de la base de donn\xe9es"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Your policy file")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csv"},"p, data2_admin, data2, read\np, data2_admin, data2, write\ng, alice, admin\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Corresponding database structure (such as MySQL)")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"id"),(0,r.kt)("th",{parentName:"tr",align:null},"ptype"),(0,r.kt)("th",{parentName:"tr",align:null},"V0"),(0,r.kt)("th",{parentName:"tr",align:null},"V1"),(0,r.kt)("th",{parentName:"tr",align:null},"V2"),(0,r.kt)("th",{parentName:"tr",align:null},"V3"),(0,r.kt)("th",{parentName:"tr",align:null},"V4"),(0,r.kt)("th",{parentName:"tr",align:null},"contre 5"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"p"),(0,r.kt)("td",{parentName:"tr",align:null},"administre_donn\xe9es"),(0,r.kt)("td",{parentName:"tr",align:null},"donn\xe9es2"),(0,r.kt)("td",{parentName:"tr",align:null},"Lu"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"2"),(0,r.kt)("td",{parentName:"tr",align:null},"p"),(0,r.kt)("td",{parentName:"tr",align:null},"administre_donn\xe9es"),(0,r.kt)("td",{parentName:"tr",align:null},"donn\xe9es2"),(0,r.kt)("td",{parentName:"tr",align:null},"\xe9crire"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"3"),(0,r.kt)("td",{parentName:"tr",align:null},"g"),(0,r.kt)("td",{parentName:"tr",align:null},"alice"),(0,r.kt)("td",{parentName:"tr",align:null},"Administrateur"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Meaning of each column")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"id"),": The primary key in the database. It does not exist as part of the ",(0,r.kt)("inlineCode",{parentName:"p"},"casbin policy"),". The way it is generated depends on the specific adapter.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"ptype"),": Il correspond \xe0 ",(0,r.kt)("inlineCode",{parentName:"p"},"p"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"g"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"g2"),", etc.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"v0-v5"),": The column names have no specific meaning and correspond to the values in the ",(0,r.kt)("inlineCode",{parentName:"p"},"policy csv")," from left to right. Le nombre de colonnes d\xe9pend du nombre que vous d\xe9finissez vous-m\xeame. In theory, there can be an infinite number of columns, but generally only ",(0,r.kt)("strong",{parentName:"p"},"6")," columns are implemented in the adapter. If this is not enough for you, please submit an issue to the corresponding adapter repository."))),(0,r.kt)("h2",{id:"d\xe9tails-de-ladaptateur"},"D\xe9tails de l'adaptateur"),(0,r.kt)("p",null,"For more details about the use of the adapter API and database table structure design, please visit: ",(0,r.kt)("a",{parentName:"p",href:"/docs/adapters"},"/docs/adapters")))}u.isMDXComponent=!0}}]);